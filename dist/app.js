"use strict";(()=>{var De=Object.create;var Qt=Object.defineProperty;var Pe=Object.getOwnPropertyDescriptor;var Oe=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf,Ne=Object.prototype.hasOwnProperty;var Et=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(o,s)=>(typeof require<"u"?require:o)[s]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Le=(t,o)=>()=>(o||t((o={exports:{}}).exports,o),o.exports);var Ue=(t,o,s,a)=>{if(o&&typeof o=="object"||typeof o=="function")for(let l of Oe(o))!Ne.call(t,l)&&l!==s&&Qt(t,l,{get:()=>o[l],enumerable:!(a=Pe(o,l))||a.enumerable});return t};var je=(t,o,s)=>(s=t!=null?De(Re(t)):{},Ue(o||!t||!t.__esModule?Qt(s,"default",{value:t,enumerable:!0}):s,t));var Be=Le((ze,Xt)=>{(function(t){typeof ze=="object"&&typeof Xt<"u"?Xt.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=t()})(function(){return function t(o,s,a){function l(m,v){if(!s[m]){if(!o[m]){var d=typeof Et=="function"&&Et;if(!v&&d)return d(m,!0);if(r)return r(m,!0);var y=new Error("Cannot find module '"+m+"'");throw y.code="MODULE_NOT_FOUND",y}var n=s[m]={exports:{}};o[m][0].call(n.exports,function(_){var u=o[m][1][_];return l(u||_)},n,n.exports,t,o,s,a)}return s[m].exports}for(var r=typeof Et=="function"&&Et,h=0;h<a.length;h++)l(a[h]);return l}({1:[function(t,o,s){"use strict";var a=t("./utils"),l=t("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(h){for(var m,v,d,y,n,_,u,p=[],c=0,b=h.length,k=b,x=a.getTypeOf(h)!=="string";c<h.length;)k=b-c,d=x?(m=h[c++],v=c<b?h[c++]:0,c<b?h[c++]:0):(m=h.charCodeAt(c++),v=c<b?h.charCodeAt(c++):0,c<b?h.charCodeAt(c++):0),y=m>>2,n=(3&m)<<4|v>>4,_=1<k?(15&v)<<2|d>>6:64,u=2<k?63&d:64,p.push(r.charAt(y)+r.charAt(n)+r.charAt(_)+r.charAt(u));return p.join("")},s.decode=function(h){var m,v,d,y,n,_,u=0,p=0,c="data:";if(h.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var b,k=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===r.charAt(64)&&k--,h.charAt(h.length-2)===r.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=l.uint8array?new Uint8Array(0|k):new Array(0|k);u<h.length;)m=r.indexOf(h.charAt(u++))<<2|(y=r.indexOf(h.charAt(u++)))>>4,v=(15&y)<<4|(n=r.indexOf(h.charAt(u++)))>>2,d=(3&n)<<6|(_=r.indexOf(h.charAt(u++))),b[p++]=m,n!==64&&(b[p++]=v),_!==64&&(b[p++]=d);return b}},{"./support":30,"./utils":32}],2:[function(t,o,s){"use strict";var a=t("./external"),l=t("./stream/DataWorker"),r=t("./stream/Crc32Probe"),h=t("./stream/DataLengthProbe");function m(v,d,y,n,_){this.compressedSize=v,this.uncompressedSize=d,this.crc32=y,this.compression=n,this.compressedContent=_}m.prototype={getContentWorker:function(){var v=new l(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),d=this;return v.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new l(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(v,d,y){return v.pipe(new r).pipe(new h("uncompressedSize")).pipe(d.compressWorker(y)).pipe(new h("compressedSize")).withStreamInfo("compression",d)},o.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,o,s){"use strict";var a=t("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},s.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,o,s){"use strict";var a=t("./utils"),l=function(){for(var r,h=[],m=0;m<256;m++){r=m;for(var v=0;v<8;v++)r=1&r?3988292384^r>>>1:r>>>1;h[m]=r}return h}();o.exports=function(r,h){return r!==void 0&&r.length?a.getTypeOf(r)!=="string"?function(m,v,d,y){var n=l,_=y+d;m^=-1;for(var u=y;u<_;u++)m=m>>>8^n[255&(m^v[u])];return-1^m}(0|h,r,r.length,0):function(m,v,d,y){var n=l,_=y+d;m^=-1;for(var u=y;u<_;u++)m=m>>>8^n[255&(m^v.charCodeAt(u))];return-1^m}(0|h,r,r.length,0):0}},{"./utils":32}],5:[function(t,o,s){"use strict";s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(t,o,s){"use strict";var a=null;a=typeof Promise<"u"?Promise:t("lie"),o.exports={Promise:a}},{lie:37}],7:[function(t,o,s){"use strict";var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=t("pako"),r=t("./utils"),h=t("./stream/GenericWorker"),m=a?"uint8array":"array";function v(d,y){h.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=y,this.meta={}}s.magic="\b\0",r.inherits(v,h),v.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(m,d.data),!1)},v.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(y){d.push({data:y,meta:d.meta})}},s.compressWorker=function(d){return new v("Deflate",d)},s.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,o,s){"use strict";function a(n,_){var u,p="";for(u=0;u<_;u++)p+=String.fromCharCode(255&n),n>>>=8;return p}function l(n,_,u,p,c,b){var k,x,C=n.file,R=n.compression,O=b!==m.utf8encode,U=r.transformTo("string",b(C.name)),D=r.transformTo("string",m.utf8encode(C.name)),J=C.comment,Y=r.transformTo("string",b(J)),w=r.transformTo("string",m.utf8encode(J)),I=D.length!==C.name.length,i=w.length!==J.length,N="",et="",Z="",st=C.dir,H=C.date,rt={crc32:0,compressedSize:0,uncompressedSize:0};_&&!u||(rt.crc32=n.crc32,rt.compressedSize=n.compressedSize,rt.uncompressedSize=n.uncompressedSize);var z=0;_&&(z|=8),O||!I&&!i||(z|=2048);var B=0,tt=0;st&&(B|=16),c==="UNIX"?(tt=798,B|=function(G,j){var q=G;return G||(q=j?16893:33204),(65535&q)<<16}(C.unixPermissions,st)):(tt=20,B|=function(G){return 63&(G||0)}(C.dosPermissions)),k=H.getUTCHours(),k<<=6,k|=H.getUTCMinutes(),k<<=5,k|=H.getUTCSeconds()/2,x=H.getUTCFullYear()-1980,x<<=4,x|=H.getUTCMonth()+1,x<<=5,x|=H.getUTCDate(),I&&(et=a(1,1)+a(v(U),4)+D,N+="up"+a(et.length,2)+et),i&&(Z=a(1,1)+a(v(Y),4)+w,N+="uc"+a(Z.length,2)+Z);var X="";return X+=`
\0`,X+=a(z,2),X+=R.magic,X+=a(k,2),X+=a(x,2),X+=a(rt.crc32,4),X+=a(rt.compressedSize,4),X+=a(rt.uncompressedSize,4),X+=a(U.length,2),X+=a(N.length,2),{fileRecord:d.LOCAL_FILE_HEADER+X+U+N,dirRecord:d.CENTRAL_FILE_HEADER+a(tt,2)+X+a(Y.length,2)+"\0\0\0\0"+a(B,4)+a(p,4)+U+N+Y}}var r=t("../utils"),h=t("../stream/GenericWorker"),m=t("../utf8"),v=t("../crc32"),d=t("../signature");function y(n,_,u,p){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=u,this.encodeFileName=p,this.streamFiles=n,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(y,h),y.prototype.push=function(n){var _=n.meta.percent||0,u=this.entriesCount,p=this._sources.length;this.accumulate?this.contentBuffer.push(n):(this.bytesWritten+=n.data.length,h.prototype.push.call(this,{data:n.data,meta:{currentFile:this.currentFile,percent:u?(_+100*(u-p-1))/u:100}}))},y.prototype.openedSource=function(n){this.currentSourceOffset=this.bytesWritten,this.currentFile=n.file.name;var _=this.streamFiles&&!n.file.dir;if(_){var u=l(n,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:u.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(n){this.accumulate=!1;var _=this.streamFiles&&!n.file.dir,u=l(n,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(u.dirRecord),_)this.push({data:function(p){return d.DATA_DESCRIPTOR+a(p.crc32,4)+a(p.compressedSize,4)+a(p.uncompressedSize,4)}(n),meta:{percent:100}});else for(this.push({data:u.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var n=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var u=this.bytesWritten-n,p=function(c,b,k,x,C){var R=r.transformTo("string",C(x));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(c,2)+a(c,2)+a(b,4)+a(k,4)+a(R.length,2)+R}(this.dirRecords.length,u,n,this.zipComment,this.encodeFileName);this.push({data:p,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(n){this._sources.push(n);var _=this;return n.on("data",function(u){_.processChunk(u)}),n.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),n.on("error",function(u){_.error(u)}),this},y.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(n){var _=this._sources;if(!h.prototype.error.call(this,n))return!1;for(var u=0;u<_.length;u++)try{_[u].error(n)}catch{}return!0},y.prototype.lock=function(){h.prototype.lock.call(this);for(var n=this._sources,_=0;_<n.length;_++)n[_].lock()},o.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,o,s){"use strict";var a=t("../compressions"),l=t("./ZipFileWorker");s.generateWorker=function(r,h,m){var v=new l(h.streamFiles,m,h.platform,h.encodeFileName),d=0;try{r.forEach(function(y,n){d++;var _=function(b,k){var x=b||k,C=a[x];if(!C)throw new Error(x+" is not a valid compression method !");return C}(n.options.compression,h.compression),u=n.options.compressionOptions||h.compressionOptions||{},p=n.dir,c=n.date;n._compressWorker(_,u).withStreamInfo("file",{name:y,dir:p,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(v)}),v.entriesCount=d}catch(y){v.error(y)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,o,s){"use strict";function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new a;for(var r in this)typeof this[r]!="function"&&(l[r]=this[r]);return l}}(a.prototype=t("./object")).loadAsync=t("./load"),a.support=t("./support"),a.defaults=t("./defaults"),a.version="3.10.1",a.loadAsync=function(l,r){return new a().loadAsync(l,r)},a.external=t("./external"),o.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,o,s){"use strict";var a=t("./utils"),l=t("./external"),r=t("./utf8"),h=t("./zipEntries"),m=t("./stream/Crc32Probe"),v=t("./nodejsUtils");function d(y){return new l.Promise(function(n,_){var u=y.decompressed.getContentWorker().pipe(new m);u.on("error",function(p){_(p)}).on("end",function(){u.streamInfo.crc32!==y.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):n()}).resume()})}o.exports=function(y,n){var _=this;return n=a.extend(n||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),v.isNode&&v.isStream(y)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",y,!0,n.optimizedBinaryString,n.base64).then(function(u){var p=new h(n);return p.load(u),p}).then(function(u){var p=[l.Promise.resolve(u)],c=u.files;if(n.checkCRC32)for(var b=0;b<c.length;b++)p.push(d(c[b]));return l.Promise.all(p)}).then(function(u){for(var p=u.shift(),c=p.files,b=0;b<c.length;b++){var k=c[b],x=k.fileNameStr,C=a.resolve(k.fileNameStr);_.file(C,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:n.createFolders}),k.dir||(_.file(C).unsafeOriginalName=x)}return p.zipComment.length&&(_.comment=p.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,o,s){"use strict";var a=t("../utils"),l=t("../stream/GenericWorker");function r(h,m){l.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(m)}a.inherits(r,l),r.prototype._bindStream=function(h){var m=this;(this._stream=h).pause(),h.on("data",function(v){m.push({data:v,meta:{percent:0}})}).on("error",function(v){m.isPaused?this.generatedError=v:m.error(v)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},r.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,o,s){"use strict";var a=t("readable-stream").Readable;function l(r,h,m){a.call(this,h),this._helper=r;var v=this;r.on("data",function(d,y){v.push(d)||v._helper.pause(),m&&m(y)}).on("error",function(d){v.emit("error",d)}).on("end",function(){v.push(null)})}t("../utils").inherits(l,a),l.prototype._read=function(){this._helper.resume()},o.exports=l},{"../utils":32,"readable-stream":16}],14:[function(t,o,s){"use strict";o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,l);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,l)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var l=new Buffer(a);return l.fill(0),l},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(t,o,s){"use strict";function a(C,R,O){var U,D=r.getTypeOf(R),J=r.extend(O||{},v);J.date=J.date||new Date,J.compression!==null&&(J.compression=J.compression.toUpperCase()),typeof J.unixPermissions=="string"&&(J.unixPermissions=parseInt(J.unixPermissions,8)),J.unixPermissions&&16384&J.unixPermissions&&(J.dir=!0),J.dosPermissions&&16&J.dosPermissions&&(J.dir=!0),J.dir&&(C=c(C)),J.createFolders&&(U=p(C))&&b.call(this,U,!0);var Y=D==="string"&&J.binary===!1&&J.base64===!1;O&&O.binary!==void 0||(J.binary=!Y),(R instanceof d&&R.uncompressedSize===0||J.dir||!R||R.length===0)&&(J.base64=!1,J.binary=!0,R="",J.compression="STORE",D="string");var w=null;w=R instanceof d||R instanceof h?R:_.isNode&&_.isStream(R)?new u(C,R):r.prepareContent(C,R,J.binary,J.optimizedBinaryString,J.base64);var I=new y(C,w,J);this.files[C]=I}var l=t("./utf8"),r=t("./utils"),h=t("./stream/GenericWorker"),m=t("./stream/StreamHelper"),v=t("./defaults"),d=t("./compressedObject"),y=t("./zipObject"),n=t("./generate"),_=t("./nodejsUtils"),u=t("./nodejs/NodejsStreamInputAdapter"),p=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var R=C.lastIndexOf("/");return 0<R?C.substring(0,R):""},c=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},b=function(C,R){return R=R!==void 0?R:v.createFolders,C=c(C),this.files[C]||a.call(this,C,null,{dir:!0,createFolders:R}),this.files[C]};function k(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var R,O,U;for(R in this.files)U=this.files[R],(O=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&C(O,U)},filter:function(C){var R=[];return this.forEach(function(O,U){C(O,U)&&R.push(U)}),R},file:function(C,R,O){if(arguments.length!==1)return C=this.root+C,a.call(this,C,R,O),this;if(k(C)){var U=C;return this.filter(function(J,Y){return!Y.dir&&U.test(J)})}var D=this.files[this.root+C];return D&&!D.dir?D:null},folder:function(C){if(!C)return this;if(k(C))return this.filter(function(D,J){return J.dir&&C.test(D)});var R=this.root+C,O=b.call(this,R),U=this.clone();return U.root=O.name,U},remove:function(C){C=this.root+C;var R=this.files[C];if(R||(C.slice(-1)!=="/"&&(C+="/"),R=this.files[C]),R&&!R.dir)delete this.files[C];else for(var O=this.filter(function(D,J){return J.name.slice(0,C.length)===C}),U=0;U<O.length;U++)delete this.files[O[U].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var R,O={};try{if((O=r.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");r.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var U=O.comment||this.comment||"";R=n.generateWorker(this,O,U)}catch(D){(R=new h("error")).error(D)}return new m(R,O.type||"string",O.mimeType)},generateAsync:function(C,R){return this.generateInternalStream(C).accumulate(R)},generateNodeStream:function(C,R){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(R)}};o.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,o,s){"use strict";o.exports=t("stream")},{stream:void 0}],17:[function(t,o,s){"use strict";var a=t("./DataReader");function l(r){a.call(this,r);for(var h=0;h<this.data.length;h++)r[h]=255&r[h]}t("../utils").inherits(l,a),l.prototype.byteAt=function(r){return this.data[this.zero+r]},l.prototype.lastIndexOfSignature=function(r){for(var h=r.charCodeAt(0),m=r.charCodeAt(1),v=r.charCodeAt(2),d=r.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===h&&this.data[y+1]===m&&this.data[y+2]===v&&this.data[y+3]===d)return y-this.zero;return-1},l.prototype.readAndCheckSignature=function(r){var h=r.charCodeAt(0),m=r.charCodeAt(1),v=r.charCodeAt(2),d=r.charCodeAt(3),y=this.readData(4);return h===y[0]&&m===y[1]&&v===y[2]&&d===y[3]},l.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,h},o.exports=l},{"../utils":32,"./DataReader":18}],18:[function(t,o,s){"use strict";var a=t("../utils");function l(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var h,m=0;for(this.checkOffset(r),h=this.index+r-1;h>=this.index;h--)m=(m<<8)+this.byteAt(h);return this.index+=r,m},readString:function(r){return a.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},o.exports=l},{"../utils":32}],19:[function(t,o,s){"use strict";var a=t("./Uint8ArrayReader");function l(r){a.call(this,r)}t("../utils").inherits(l,a),l.prototype.readData=function(r){this.checkOffset(r);var h=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,h},o.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,o,s){"use strict";var a=t("./DataReader");function l(r){a.call(this,r)}t("../utils").inherits(l,a),l.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},l.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},l.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},l.prototype.readData=function(r){this.checkOffset(r);var h=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,h},o.exports=l},{"../utils":32,"./DataReader":18}],21:[function(t,o,s){"use strict";var a=t("./ArrayReader");function l(r){a.call(this,r)}t("../utils").inherits(l,a),l.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,h},o.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(t,o,s){"use strict";var a=t("../utils"),l=t("../support"),r=t("./ArrayReader"),h=t("./StringReader"),m=t("./NodeBufferReader"),v=t("./Uint8ArrayReader");o.exports=function(d){var y=a.getTypeOf(d);return a.checkSupport(y),y!=="string"||l.uint8array?y==="nodebuffer"?new m(d):l.uint8array?new v(a.transformTo("uint8array",d)):new r(a.transformTo("array",d)):new h(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,o,s){"use strict";s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,o,s){"use strict";var a=t("./GenericWorker"),l=t("../utils");function r(h){a.call(this,"ConvertWorker to "+h),this.destType=h}l.inherits(r,a),r.prototype.processChunk=function(h){this.push({data:l.transformTo(this.destType,h.data),meta:h.meta})},o.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(t,o,s){"use strict";var a=t("./GenericWorker"),l=t("../crc32");function r(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(r,a),r.prototype.processChunk=function(h){this.streamInfo.crc32=l(h.data,this.streamInfo.crc32||0),this.push(h)},o.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,o,s){"use strict";var a=t("../utils"),l=t("./GenericWorker");function r(h){l.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}a.inherits(r,l),r.prototype.processChunk=function(h){if(h){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+h.data.length}l.prototype.processChunk.call(this,h)},o.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(t,o,s){"use strict";var a=t("../utils"),l=t("./GenericWorker");function r(h){l.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(v){m.dataIsReady=!0,m.data=v,m.max=v&&v.length||0,m.type=a.getTypeOf(v),m.isPaused||m._tickAndRepeat()},function(v){m.error(v)})}a.inherits(r,l),r.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,m);break;case"uint8array":h=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":h=this.data.slice(this.index,m)}return this.index=m,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(t,o,s){"use strict";function a(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,r){return this._listeners[l].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,r){if(this._listeners[l])for(var h=0;h<this._listeners[l].length;h++)this._listeners[l][h].call(this,r)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var r=this;return l.on("data",function(h){r.processChunk(h)}),l.on("end",function(){r.end()}),l.on("error",function(h){r.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,r){return this.extraStreamInfo[l]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},o.exports=a},{}],29:[function(t,o,s){"use strict";var a=t("../utils"),l=t("./ConvertWorker"),r=t("./GenericWorker"),h=t("../base64"),m=t("../support"),v=t("../external"),d=null;if(m.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(_,u){return new v.Promise(function(p,c){var b=[],k=_._internalType,x=_._outputType,C=_._mimeType;_.on("data",function(R,O){b.push(R),u&&u(O)}).on("error",function(R){b=[],c(R)}).on("end",function(){try{var R=function(O,U,D){switch(O){case"blob":return a.newBlob(a.transformTo("arraybuffer",U),D);case"base64":return h.encode(U);default:return a.transformTo(O,U)}}(x,function(O,U){var D,J=0,Y=null,w=0;for(D=0;D<U.length;D++)w+=U[D].length;switch(O){case"string":return U.join("");case"array":return Array.prototype.concat.apply([],U);case"uint8array":for(Y=new Uint8Array(w),D=0;D<U.length;D++)Y.set(U[D],J),J+=U[D].length;return Y;case"nodebuffer":return Buffer.concat(U);default:throw new Error("concat : unsupported type '"+O+"'")}}(k,b),C);p(R)}catch(O){c(O)}b=[]}).resume()})}function n(_,u,p){var c=u;switch(u){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=u,this._mimeType=p,a.checkSupport(c),this._worker=_.pipe(new l(c)),_.lock()}catch(b){this._worker=new r("error"),this._worker.error(b)}}n.prototype={accumulate:function(_){return y(this,_)},on:function(_,u){var p=this;return _==="data"?this._worker.on(_,function(c){u.call(p,c.data,c.meta)}):this._worker.on(_,function(){a.delay(u,arguments,p)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},_)}},o.exports=n},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,o,s){"use strict";if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var a=new ArrayBuffer(0);try{s.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(a),s.blob=l.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!t("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(t,o,s){"use strict";for(var a=t("./utils"),l=t("./support"),r=t("./nodejsUtils"),h=t("./stream/GenericWorker"),m=new Array(256),v=0;v<256;v++)m[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;m[254]=m[254]=1;function d(){h.call(this,"utf-8 decode"),this.leftOver=null}function y(){h.call(this,"utf-8 encode")}s.utf8encode=function(n){return l.nodebuffer?r.newBufferFrom(n,"utf-8"):function(_){var u,p,c,b,k,x=_.length,C=0;for(b=0;b<x;b++)(64512&(p=_.charCodeAt(b)))==55296&&b+1<x&&(64512&(c=_.charCodeAt(b+1)))==56320&&(p=65536+(p-55296<<10)+(c-56320),b++),C+=p<128?1:p<2048?2:p<65536?3:4;for(u=l.uint8array?new Uint8Array(C):new Array(C),b=k=0;k<C;b++)(64512&(p=_.charCodeAt(b)))==55296&&b+1<x&&(64512&(c=_.charCodeAt(b+1)))==56320&&(p=65536+(p-55296<<10)+(c-56320),b++),p<128?u[k++]=p:(p<2048?u[k++]=192|p>>>6:(p<65536?u[k++]=224|p>>>12:(u[k++]=240|p>>>18,u[k++]=128|p>>>12&63),u[k++]=128|p>>>6&63),u[k++]=128|63&p);return u}(n)},s.utf8decode=function(n){return l.nodebuffer?a.transformTo("nodebuffer",n).toString("utf-8"):function(_){var u,p,c,b,k=_.length,x=new Array(2*k);for(u=p=0;u<k;)if((c=_[u++])<128)x[p++]=c;else if(4<(b=m[c]))x[p++]=65533,u+=b-1;else{for(c&=b===2?31:b===3?15:7;1<b&&u<k;)c=c<<6|63&_[u++],b--;1<b?x[p++]=65533:c<65536?x[p++]=c:(c-=65536,x[p++]=55296|c>>10&1023,x[p++]=56320|1023&c)}return x.length!==p&&(x.subarray?x=x.subarray(0,p):x.length=p),a.applyFromCharCode(x)}(n=a.transformTo(l.uint8array?"uint8array":"array",n))},a.inherits(d,h),d.prototype.processChunk=function(n){var _=a.transformTo(l.uint8array?"uint8array":"array",n.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var u=_;(_=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),_.set(u,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var p=function(b,k){var x;for((k=k||b.length)>b.length&&(k=b.length),x=k-1;0<=x&&(192&b[x])==128;)x--;return x<0||x===0?k:x+m[b[x]]>k?x:k}(_),c=_;p!==_.length&&(l.uint8array?(c=_.subarray(0,p),this.leftOver=_.subarray(p,_.length)):(c=_.slice(0,p),this.leftOver=_.slice(p,_.length))),this.push({data:s.utf8decode(c),meta:n.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=d,a.inherits(y,h),y.prototype.processChunk=function(n){this.push({data:s.utf8encode(n.data),meta:n.meta})},s.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,o,s){"use strict";var a=t("./support"),l=t("./base64"),r=t("./nodejsUtils"),h=t("./external");function m(u){return u}function v(u,p){for(var c=0;c<u.length;++c)p[c]=255&u.charCodeAt(c);return p}t("setimmediate"),s.newBlob=function(u,p){s.checkSupport("blob");try{return new Blob([u],{type:p})}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(u),c.getBlob(p)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(u,p,c){var b=[],k=0,x=u.length;if(x<=c)return String.fromCharCode.apply(null,u);for(;k<x;)p==="array"||p==="nodebuffer"?b.push(String.fromCharCode.apply(null,u.slice(k,Math.min(k+c,x)))):b.push(String.fromCharCode.apply(null,u.subarray(k,Math.min(k+c,x)))),k+=c;return b.join("")},stringifyByChar:function(u){for(var p="",c=0;c<u.length;c++)p+=String.fromCharCode(u[c]);return p},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function y(u){var p=65536,c=s.getTypeOf(u),b=!0;if(c==="uint8array"?b=d.applyCanBeUsed.uint8array:c==="nodebuffer"&&(b=d.applyCanBeUsed.nodebuffer),b)for(;1<p;)try{return d.stringifyByChunk(u,c,p)}catch{p=Math.floor(p/2)}return d.stringifyByChar(u)}function n(u,p){for(var c=0;c<u.length;c++)p[c]=u[c];return p}s.applyFromCharCode=y;var _={};_.string={string:m,array:function(u){return v(u,new Array(u.length))},arraybuffer:function(u){return _.string.uint8array(u).buffer},uint8array:function(u){return v(u,new Uint8Array(u.length))},nodebuffer:function(u){return v(u,r.allocBuffer(u.length))}},_.array={string:y,array:m,arraybuffer:function(u){return new Uint8Array(u).buffer},uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return r.newBufferFrom(u)}},_.arraybuffer={string:function(u){return y(new Uint8Array(u))},array:function(u){return n(new Uint8Array(u),new Array(u.byteLength))},arraybuffer:m,uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return r.newBufferFrom(new Uint8Array(u))}},_.uint8array={string:y,array:function(u){return n(u,new Array(u.length))},arraybuffer:function(u){return u.buffer},uint8array:m,nodebuffer:function(u){return r.newBufferFrom(u)}},_.nodebuffer={string:y,array:function(u){return n(u,new Array(u.length))},arraybuffer:function(u){return _.nodebuffer.uint8array(u).buffer},uint8array:function(u){return n(u,new Uint8Array(u.length))},nodebuffer:m},s.transformTo=function(u,p){if(p=p||"",!u)return p;s.checkSupport(u);var c=s.getTypeOf(p);return _[c][u](p)},s.resolve=function(u){for(var p=u.split("/"),c=[],b=0;b<p.length;b++){var k=p[b];k==="."||k===""&&b!==0&&b!==p.length-1||(k===".."?c.pop():c.push(k))}return c.join("/")},s.getTypeOf=function(u){return typeof u=="string"?"string":Object.prototype.toString.call(u)==="[object Array]"?"array":a.nodebuffer&&r.isBuffer(u)?"nodebuffer":a.uint8array&&u instanceof Uint8Array?"uint8array":a.arraybuffer&&u instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(u){if(!a[u.toLowerCase()])throw new Error(u+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(u){var p,c,b="";for(c=0;c<(u||"").length;c++)b+="\\x"+((p=u.charCodeAt(c))<16?"0":"")+p.toString(16).toUpperCase();return b},s.delay=function(u,p,c){setImmediate(function(){u.apply(c||null,p||[])})},s.inherits=function(u,p){function c(){}c.prototype=p.prototype,u.prototype=new c},s.extend=function(){var u,p,c={};for(u=0;u<arguments.length;u++)for(p in arguments[u])Object.prototype.hasOwnProperty.call(arguments[u],p)&&c[p]===void 0&&(c[p]=arguments[u][p]);return c},s.prepareContent=function(u,p,c,b,k){return h.Promise.resolve(p).then(function(x){return a.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new h.Promise(function(C,R){var O=new FileReader;O.onload=function(U){C(U.target.result)},O.onerror=function(U){R(U.target.error)},O.readAsArrayBuffer(x)}):x}).then(function(x){var C=s.getTypeOf(x);return C?(C==="arraybuffer"?x=s.transformTo("uint8array",x):C==="string"&&(k?x=l.decode(x):c&&b!==!0&&(x=function(R){return v(R,a.uint8array?new Uint8Array(R.length):new Array(R.length))}(x))),x):h.Promise.reject(new Error("Can't read the data of '"+u+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,o,s){"use strict";var a=t("./reader/readerFor"),l=t("./utils"),r=t("./signature"),h=t("./zipEntry"),m=t("./support");function v(d){this.files=[],this.loadOptions=d}v.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(y)+", expected "+l.pretty(d)+")")}},isSignature:function(d,y){var n=this.reader.index;this.reader.setIndex(d);var _=this.reader.readString(4)===y;return this.reader.setIndex(n),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),y=m.uint8array?"uint8array":"array",n=l.transformTo(y,d);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,y,n,_=this.zip64EndOfCentralSize-44;0<_;)d=this.reader.readInt(2),y=this.reader.readInt(4),n=this.reader.readData(y),this.zip64ExtensibleData[d]={id:d,length:y,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,y;for(d=0;d<this.files.length;d++)y=this.files[d],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(d=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var y=d;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var _=y-n;if(0<_)this.isSignature(y,r.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(d){this.reader=a(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,o,s){"use strict";var a=t("./reader/readerFor"),l=t("./utils"),r=t("./compressedObject"),h=t("./crc32"),m=t("./utf8"),v=t("./compressions"),d=t("./support");function y(n,_){this.options=n,this.loadOptions=_}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(n){var _,u;if(n.skip(22),this.fileNameLength=n.readInt(2),u=n.readInt(2),this.fileName=n.readData(this.fileNameLength),n.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(p){for(var c in v)if(Object.prototype.hasOwnProperty.call(v,c)&&v[c].magic===p)return v[c];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,_,n.readData(this.compressedSize))},readCentralPart:function(n){this.versionMadeBy=n.readInt(2),n.skip(2),this.bitFlag=n.readInt(2),this.compressionMethod=n.readString(2),this.date=n.readDate(),this.crc32=n.readInt(4),this.compressedSize=n.readInt(4),this.uncompressedSize=n.readInt(4);var _=n.readInt(2);if(this.extraFieldsLength=n.readInt(2),this.fileCommentLength=n.readInt(2),this.diskNumberStart=n.readInt(2),this.internalFileAttributes=n.readInt(2),this.externalFileAttributes=n.readInt(4),this.localHeaderOffset=n.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");n.skip(_),this.readExtraFields(n),this.parseZIP64ExtraField(n),this.fileComment=n.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var n=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),n==0&&(this.dosPermissions=63&this.externalFileAttributes),n==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var n=a(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=n.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=n.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=n.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=n.readInt(4))}},readExtraFields:function(n){var _,u,p,c=n.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});n.index+4<c;)_=n.readInt(2),u=n.readInt(2),p=n.readData(u),this.extraFields[_]={id:_,length:u,value:p};n.setIndex(c)},handleUTF8:function(){var n=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var u=l.transformTo(n,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var p=this.findExtraFieldUnicodeComment();if(p!==null)this.fileCommentStr=p;else{var c=l.transformTo(n,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var n=this.extraFields[28789];if(n){var _=a(n.value);return _.readInt(1)!==1||h(this.fileName)!==_.readInt(4)?null:m.utf8decode(_.readData(n.length-5))}return null},findExtraFieldUnicodeComment:function(){var n=this.extraFields[25461];if(n){var _=a(n.value);return _.readInt(1)!==1||h(this.fileComment)!==_.readInt(4)?null:m.utf8decode(_.readData(n.length-5))}return null}},o.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,o,s){"use strict";function a(_,u,p){this.name=_,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=u,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}}var l=t("./stream/StreamHelper"),r=t("./stream/DataWorker"),h=t("./utf8"),m=t("./compressedObject"),v=t("./stream/GenericWorker");a.prototype={internalStream:function(_){var u=null,p="string";try{if(!_)throw new Error("No output type specified.");var c=(p=_.toLowerCase())==="string"||p==="text";p!=="binarystring"&&p!=="text"||(p="string"),u=this._decompressWorker();var b=!this._dataBinary;b&&!c&&(u=u.pipe(new h.Utf8EncodeWorker)),!b&&c&&(u=u.pipe(new h.Utf8DecodeWorker))}catch(k){(u=new v("error")).error(k)}return new l(u,p,"")},async:function(_,u){return this.internalStream(_).accumulate(u)},nodeStream:function(_,u){return this.internalStream(_||"nodebuffer").toNodejsStream(u)},_compressWorker:function(_,u){if(this._data instanceof m&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new h.Utf8EncodeWorker)),m.createWorkerFrom(p,_,u)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof v?this._data:new r(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},n=0;n<d.length;n++)a.prototype[d[n]]=y;o.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,o,s){(function(a){"use strict";var l,r,h=a.MutationObserver||a.WebKitMutationObserver;if(h){var m=0,v=new h(_),d=a.document.createTextNode("");v.observe(d,{characterData:!0}),l=function(){d.data=m=++m%2}}else if(a.setImmediate||a.MessageChannel===void 0)l="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var u=a.document.createElement("script");u.onreadystatechange=function(){_(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},a.document.documentElement.appendChild(u)}:function(){setTimeout(_,0)};else{var y=new a.MessageChannel;y.port1.onmessage=_,l=function(){y.port2.postMessage(0)}}var n=[];function _(){var u,p;r=!0;for(var c=n.length;c;){for(p=n,n=[],u=-1;++u<c;)p[u]();c=n.length}r=!1}o.exports=function(u){n.push(u)!==1||r||l()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,o,s){"use strict";var a=t("immediate");function l(){}var r={},h=["REJECTED"],m=["FULFILLED"],v=["PENDING"];function d(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,c!==l&&u(this,c)}function y(c,b,k){this.promise=c,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function n(c,b,k){a(function(){var x;try{x=b(k)}catch(C){return r.reject(c,C)}x===c?r.reject(c,new TypeError("Cannot resolve promise with itself")):r.resolve(c,x)})}function _(c){var b=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof b=="function")return function(){b.apply(c,arguments)}}function u(c,b){var k=!1;function x(O){k||(k=!0,r.reject(c,O))}function C(O){k||(k=!0,r.resolve(c,O))}var R=p(function(){b(C,x)});R.status==="error"&&x(R.value)}function p(c,b){var k={};try{k.value=c(b),k.status="success"}catch(x){k.status="error",k.value=x}return k}(o.exports=d).prototype.finally=function(c){if(typeof c!="function")return this;var b=this.constructor;return this.then(function(k){return b.resolve(c()).then(function(){return k})},function(k){return b.resolve(c()).then(function(){throw k})})},d.prototype.catch=function(c){return this.then(null,c)},d.prototype.then=function(c,b){if(typeof c!="function"&&this.state===m||typeof b!="function"&&this.state===h)return this;var k=new this.constructor(l);return this.state!==v?n(k,this.state===m?c:b,this.outcome):this.queue.push(new y(k,c,b)),k},y.prototype.callFulfilled=function(c){r.resolve(this.promise,c)},y.prototype.otherCallFulfilled=function(c){n(this.promise,this.onFulfilled,c)},y.prototype.callRejected=function(c){r.reject(this.promise,c)},y.prototype.otherCallRejected=function(c){n(this.promise,this.onRejected,c)},r.resolve=function(c,b){var k=p(_,b);if(k.status==="error")return r.reject(c,k.value);var x=k.value;if(x)u(c,x);else{c.state=m,c.outcome=b;for(var C=-1,R=c.queue.length;++C<R;)c.queue[C].callFulfilled(b)}return c},r.reject=function(c,b){c.state=h,c.outcome=b;for(var k=-1,x=c.queue.length;++k<x;)c.queue[k].callRejected(b);return c},d.resolve=function(c){return c instanceof this?c:r.resolve(new this(l),c)},d.reject=function(c){var b=new this(l);return r.reject(b,c)},d.all=function(c){var b=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=c.length,x=!1;if(!k)return this.resolve([]);for(var C=new Array(k),R=0,O=-1,U=new this(l);++O<k;)D(c[O],O);return U;function D(J,Y){b.resolve(J).then(function(w){C[Y]=w,++R!==k||x||(x=!0,r.resolve(U,C))},function(w){x||(x=!0,r.reject(U,w))})}},d.race=function(c){var b=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=c.length,x=!1;if(!k)return this.resolve([]);for(var C=-1,R=new this(l);++C<k;)O=c[C],b.resolve(O).then(function(U){x||(x=!0,r.resolve(R,U))},function(U){x||(x=!0,r.reject(R,U))});var O;return R}},{immediate:36}],38:[function(t,o,s){"use strict";var a={};(0,t("./lib/utils/common").assign)(a,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),o.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,o,s){"use strict";var a=t("./zlib/deflate"),l=t("./utils/common"),r=t("./utils/strings"),h=t("./zlib/messages"),m=t("./zlib/zstream"),v=Object.prototype.toString,d=0,y=-1,n=0,_=8;function u(c){if(!(this instanceof u))return new u(c);this.options=l.assign({level:y,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:n,to:""},c||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var k=a.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(k!==d)throw new Error(h[k]);if(b.header&&a.deflateSetHeader(this.strm,b.header),b.dictionary){var x;if(x=typeof b.dictionary=="string"?r.string2buf(b.dictionary):v.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(k=a.deflateSetDictionary(this.strm,x))!==d)throw new Error(h[k]);this._dict_set=!0}}function p(c,b){var k=new u(b);if(k.push(c,!0),k.err)throw k.msg||h[k.err];return k.result}u.prototype.push=function(c,b){var k,x,C=this.strm,R=this.options.chunkSize;if(this.ended)return!1;x=b===~~b?b:b===!0?4:0,typeof c=="string"?C.input=r.string2buf(c):v.call(c)==="[object ArrayBuffer]"?C.input=new Uint8Array(c):C.input=c,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new l.Buf8(R),C.next_out=0,C.avail_out=R),(k=a.deflate(C,x))!==1&&k!==d)return this.onEnd(k),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(l.shrinkBuf(C.output,C.next_out))):this.onData(l.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&k!==1);return x===4?(k=a.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===d):x!==2||(this.onEnd(d),!(C.avail_out=0))},u.prototype.onData=function(c){this.chunks.push(c)},u.prototype.onEnd=function(c){c===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},s.Deflate=u,s.deflate=p,s.deflateRaw=function(c,b){return(b=b||{}).raw=!0,p(c,b)},s.gzip=function(c,b){return(b=b||{}).gzip=!0,p(c,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,o,s){"use strict";var a=t("./zlib/inflate"),l=t("./utils/common"),r=t("./utils/strings"),h=t("./zlib/constants"),m=t("./zlib/messages"),v=t("./zlib/zstream"),d=t("./zlib/gzheader"),y=Object.prototype.toString;function n(u){if(!(this instanceof n))return new n(u);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},u||{});var p=this.options;p.raw&&0<=p.windowBits&&p.windowBits<16&&(p.windowBits=-p.windowBits,p.windowBits===0&&(p.windowBits=-15)),!(0<=p.windowBits&&p.windowBits<16)||u&&u.windowBits||(p.windowBits+=32),15<p.windowBits&&p.windowBits<48&&!(15&p.windowBits)&&(p.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var c=a.inflateInit2(this.strm,p.windowBits);if(c!==h.Z_OK)throw new Error(m[c]);this.header=new d,a.inflateGetHeader(this.strm,this.header)}function _(u,p){var c=new n(p);if(c.push(u,!0),c.err)throw c.msg||m[c.err];return c.result}n.prototype.push=function(u,p){var c,b,k,x,C,R,O=this.strm,U=this.options.chunkSize,D=this.options.dictionary,J=!1;if(this.ended)return!1;b=p===~~p?p:p===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof u=="string"?O.input=r.binstring2buf(u):y.call(u)==="[object ArrayBuffer]"?O.input=new Uint8Array(u):O.input=u,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new l.Buf8(U),O.next_out=0,O.avail_out=U),(c=a.inflate(O,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&D&&(R=typeof D=="string"?r.string2buf(D):y.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,c=a.inflateSetDictionary(this.strm,R)),c===h.Z_BUF_ERROR&&J===!0&&(c=h.Z_OK,J=!1),c!==h.Z_STREAM_END&&c!==h.Z_OK)return this.onEnd(c),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&c!==h.Z_STREAM_END&&(O.avail_in!==0||b!==h.Z_FINISH&&b!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=r.utf8border(O.output,O.next_out),x=O.next_out-k,C=r.buf2string(O.output,k),O.next_out=x,O.avail_out=U-x,x&&l.arraySet(O.output,O.output,k,x,0),this.onData(C)):this.onData(l.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(J=!0)}while((0<O.avail_in||O.avail_out===0)&&c!==h.Z_STREAM_END);return c===h.Z_STREAM_END&&(b=h.Z_FINISH),b===h.Z_FINISH?(c=a.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===h.Z_OK):b!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(O.avail_out=0))},n.prototype.onData=function(u){this.chunks.push(u)},n.prototype.onEnd=function(u){u===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},s.Inflate=n,s.inflate=_,s.inflateRaw=function(u,p){return(p=p||{}).raw=!0,_(u,p)},s.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,o,s){"use strict";var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(h){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var v=m.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var d in v)v.hasOwnProperty(d)&&(h[d]=v[d])}}return h},s.shrinkBuf=function(h,m){return h.length===m?h:h.subarray?h.subarray(0,m):(h.length=m,h)};var l={arraySet:function(h,m,v,d,y){if(m.subarray&&h.subarray)h.set(m.subarray(v,v+d),y);else for(var n=0;n<d;n++)h[y+n]=m[v+n]},flattenChunks:function(h){var m,v,d,y,n,_;for(m=d=0,v=h.length;m<v;m++)d+=h[m].length;for(_=new Uint8Array(d),m=y=0,v=h.length;m<v;m++)n=h[m],_.set(n,y),y+=n.length;return _}},r={arraySet:function(h,m,v,d,y){for(var n=0;n<d;n++)h[y+n]=m[v+n]},flattenChunks:function(h){return[].concat.apply([],h)}};s.setTyped=function(h){h?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,l)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,r))},s.setTyped(a)},{}],42:[function(t,o,s){"use strict";var a=t("./common"),l=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var h=new a.Buf8(256),m=0;m<256;m++)h[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function v(d,y){if(y<65537&&(d.subarray&&r||!d.subarray&&l))return String.fromCharCode.apply(null,a.shrinkBuf(d,y));for(var n="",_=0;_<y;_++)n+=String.fromCharCode(d[_]);return n}h[254]=h[254]=1,s.string2buf=function(d){var y,n,_,u,p,c=d.length,b=0;for(u=0;u<c;u++)(64512&(n=d.charCodeAt(u)))==55296&&u+1<c&&(64512&(_=d.charCodeAt(u+1)))==56320&&(n=65536+(n-55296<<10)+(_-56320),u++),b+=n<128?1:n<2048?2:n<65536?3:4;for(y=new a.Buf8(b),u=p=0;p<b;u++)(64512&(n=d.charCodeAt(u)))==55296&&u+1<c&&(64512&(_=d.charCodeAt(u+1)))==56320&&(n=65536+(n-55296<<10)+(_-56320),u++),n<128?y[p++]=n:(n<2048?y[p++]=192|n>>>6:(n<65536?y[p++]=224|n>>>12:(y[p++]=240|n>>>18,y[p++]=128|n>>>12&63),y[p++]=128|n>>>6&63),y[p++]=128|63&n);return y},s.buf2binstring=function(d){return v(d,d.length)},s.binstring2buf=function(d){for(var y=new a.Buf8(d.length),n=0,_=y.length;n<_;n++)y[n]=d.charCodeAt(n);return y},s.buf2string=function(d,y){var n,_,u,p,c=y||d.length,b=new Array(2*c);for(n=_=0;n<c;)if((u=d[n++])<128)b[_++]=u;else if(4<(p=h[u]))b[_++]=65533,n+=p-1;else{for(u&=p===2?31:p===3?15:7;1<p&&n<c;)u=u<<6|63&d[n++],p--;1<p?b[_++]=65533:u<65536?b[_++]=u:(u-=65536,b[_++]=55296|u>>10&1023,b[_++]=56320|1023&u)}return v(b,_)},s.utf8border=function(d,y){var n;for((y=y||d.length)>d.length&&(y=d.length),n=y-1;0<=n&&(192&d[n])==128;)n--;return n<0||n===0?y:n+h[d[n]]>y?n:y}},{"./common":41}],43:[function(t,o,s){"use strict";o.exports=function(a,l,r,h){for(var m=65535&a|0,v=a>>>16&65535|0,d=0;r!==0;){for(r-=d=2e3<r?2e3:r;v=v+(m=m+l[h++]|0)|0,--d;);m%=65521,v%=65521}return m|v<<16|0}},{}],44:[function(t,o,s){"use strict";o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,o,s){"use strict";var a=function(){for(var l,r=[],h=0;h<256;h++){l=h;for(var m=0;m<8;m++)l=1&l?3988292384^l>>>1:l>>>1;r[h]=l}return r}();o.exports=function(l,r,h,m){var v=a,d=m+h;l^=-1;for(var y=m;y<d;y++)l=l>>>8^v[255&(l^r[y])];return-1^l}},{}],46:[function(t,o,s){"use strict";var a,l=t("../utils/common"),r=t("./trees"),h=t("./adler32"),m=t("./crc32"),v=t("./messages"),d=0,y=4,n=0,_=-2,u=-1,p=4,c=2,b=8,k=9,x=286,C=30,R=19,O=2*x+1,U=15,D=3,J=258,Y=J+D+1,w=42,I=113,i=1,N=2,et=3,Z=4;function st(e,P){return e.msg=v[P],P}function H(e){return(e<<1)-(4<e?9:0)}function rt(e){for(var P=e.length;0<=--P;)e[P]=0}function z(e){var P=e.state,A=P.pending;A>e.avail_out&&(A=e.avail_out),A!==0&&(l.arraySet(e.output,P.pending_buf,P.pending_out,A,e.next_out),e.next_out+=A,P.pending_out+=A,e.total_out+=A,e.avail_out-=A,P.pending-=A,P.pending===0&&(P.pending_out=0))}function B(e,P){r._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,P),e.block_start=e.strstart,z(e.strm)}function tt(e,P){e.pending_buf[e.pending++]=P}function X(e,P){e.pending_buf[e.pending++]=P>>>8&255,e.pending_buf[e.pending++]=255&P}function G(e,P){var A,g,f=e.max_chain_length,S=e.strstart,F=e.prev_length,L=e.nice_match,E=e.strstart>e.w_size-Y?e.strstart-(e.w_size-Y):0,W=e.window,K=e.w_mask,T=e.prev,$=e.strstart+J,at=W[S+F-1],nt=W[S+F];e.prev_length>=e.good_match&&(f>>=2),L>e.lookahead&&(L=e.lookahead);do if(W[(A=P)+F]===nt&&W[A+F-1]===at&&W[A]===W[S]&&W[++A]===W[S+1]){S+=2,A++;do;while(W[++S]===W[++A]&&W[++S]===W[++A]&&W[++S]===W[++A]&&W[++S]===W[++A]&&W[++S]===W[++A]&&W[++S]===W[++A]&&W[++S]===W[++A]&&W[++S]===W[++A]&&S<$);if(g=J-($-S),S=$-J,F<g){if(e.match_start=P,L<=(F=g))break;at=W[S+F-1],nt=W[S+F]}}while((P=T[P&K])>E&&--f!=0);return F<=e.lookahead?F:e.lookahead}function j(e){var P,A,g,f,S,F,L,E,W,K,T=e.w_size;do{if(f=e.window_size-e.lookahead-e.strstart,e.strstart>=T+(T-Y)){for(l.arraySet(e.window,e.window,T,T,0),e.match_start-=T,e.strstart-=T,e.block_start-=T,P=A=e.hash_size;g=e.head[--P],e.head[P]=T<=g?g-T:0,--A;);for(P=A=T;g=e.prev[--P],e.prev[P]=T<=g?g-T:0,--A;);f+=T}if(e.strm.avail_in===0)break;if(F=e.strm,L=e.window,E=e.strstart+e.lookahead,W=f,K=void 0,K=F.avail_in,W<K&&(K=W),A=K===0?0:(F.avail_in-=K,l.arraySet(L,F.input,F.next_in,K,E),F.state.wrap===1?F.adler=h(F.adler,L,K,E):F.state.wrap===2&&(F.adler=m(F.adler,L,K,E)),F.next_in+=K,F.total_in+=K,K),e.lookahead+=A,e.lookahead+e.insert>=D)for(S=e.strstart-e.insert,e.ins_h=e.window[S],e.ins_h=(e.ins_h<<e.hash_shift^e.window[S+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[S+D-1])&e.hash_mask,e.prev[S&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=S,S++,e.insert--,!(e.lookahead+e.insert<D)););}while(e.lookahead<Y&&e.strm.avail_in!==0)}function q(e,P){for(var A,g;;){if(e.lookahead<Y){if(j(e),e.lookahead<Y&&P===d)return i;if(e.lookahead===0)break}if(A=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),A!==0&&e.strstart-A<=e.w_size-Y&&(e.match_length=G(e,A)),e.match_length>=D)if(g=r._tr_tally(e,e.strstart-e.match_start,e.match_length-D),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=D){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,--e.match_length!=0;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else g=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(g&&(B(e,!1),e.strm.avail_out===0))return i}return e.insert=e.strstart<D-1?e.strstart:D-1,P===y?(B(e,!0),e.strm.avail_out===0?et:Z):e.last_lit&&(B(e,!1),e.strm.avail_out===0)?i:N}function V(e,P){for(var A,g,f;;){if(e.lookahead<Y){if(j(e),e.lookahead<Y&&P===d)return i;if(e.lookahead===0)break}if(A=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=D-1,A!==0&&e.prev_length<e.max_lazy_match&&e.strstart-A<=e.w_size-Y&&(e.match_length=G(e,A),e.match_length<=5&&(e.strategy===1||e.match_length===D&&4096<e.strstart-e.match_start)&&(e.match_length=D-1)),e.prev_length>=D&&e.match_length<=e.prev_length){for(f=e.strstart+e.lookahead-D,g=r._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-D),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=f&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),--e.prev_length!=0;);if(e.match_available=0,e.match_length=D-1,e.strstart++,g&&(B(e,!1),e.strm.avail_out===0))return i}else if(e.match_available){if((g=r._tr_tally(e,0,e.window[e.strstart-1]))&&B(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return i}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(g=r._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<D-1?e.strstart:D-1,P===y?(B(e,!0),e.strm.avail_out===0?et:Z):e.last_lit&&(B(e,!1),e.strm.avail_out===0)?i:N}function Q(e,P,A,g,f){this.good_length=e,this.max_lazy=P,this.nice_length=A,this.max_chain=g,this.func=f}function it(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*O),this.dyn_dtree=new l.Buf16(2*(2*C+1)),this.bl_tree=new l.Buf16(2*(2*R+1)),rt(this.dyn_ltree),rt(this.dyn_dtree),rt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(U+1),this.heap=new l.Buf16(2*x+1),rt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*x+1),rt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ot(e){var P;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=c,(P=e.state).pending=0,P.pending_out=0,P.wrap<0&&(P.wrap=-P.wrap),P.status=P.wrap?w:I,e.adler=P.wrap===2?0:1,P.last_flush=d,r._tr_init(P),n):st(e,_)}function lt(e){var P=ot(e);return P===n&&function(A){A.window_size=2*A.w_size,rt(A.head),A.max_lazy_match=a[A.level].max_lazy,A.good_match=a[A.level].good_length,A.nice_match=a[A.level].nice_length,A.max_chain_length=a[A.level].max_chain,A.strstart=0,A.block_start=0,A.lookahead=0,A.insert=0,A.match_length=A.prev_length=D-1,A.match_available=0,A.ins_h=0}(e.state),P}function ct(e,P,A,g,f,S){if(!e)return _;var F=1;if(P===u&&(P=6),g<0?(F=0,g=-g):15<g&&(F=2,g-=16),f<1||k<f||A!==b||g<8||15<g||P<0||9<P||S<0||p<S)return st(e,_);g===8&&(g=9);var L=new it;return(e.state=L).strm=e,L.wrap=F,L.gzhead=null,L.w_bits=g,L.w_size=1<<L.w_bits,L.w_mask=L.w_size-1,L.hash_bits=f+7,L.hash_size=1<<L.hash_bits,L.hash_mask=L.hash_size-1,L.hash_shift=~~((L.hash_bits+D-1)/D),L.window=new l.Buf8(2*L.w_size),L.head=new l.Buf16(L.hash_size),L.prev=new l.Buf16(L.w_size),L.lit_bufsize=1<<f+6,L.pending_buf_size=4*L.lit_bufsize,L.pending_buf=new l.Buf8(L.pending_buf_size),L.d_buf=1*L.lit_bufsize,L.l_buf=3*L.lit_bufsize,L.level=P,L.strategy=S,L.method=A,lt(e)}a=[new Q(0,0,0,0,function(e,P){var A=65535;for(A>e.pending_buf_size-5&&(A=e.pending_buf_size-5);;){if(e.lookahead<=1){if(j(e),e.lookahead===0&&P===d)return i;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var g=e.block_start+A;if((e.strstart===0||e.strstart>=g)&&(e.lookahead=e.strstart-g,e.strstart=g,B(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-Y&&(B(e,!1),e.strm.avail_out===0))return i}return e.insert=0,P===y?(B(e,!0),e.strm.avail_out===0?et:Z):(e.strstart>e.block_start&&(B(e,!1),e.strm.avail_out),i)}),new Q(4,4,8,4,q),new Q(4,5,16,8,q),new Q(4,6,32,32,q),new Q(4,4,16,16,V),new Q(8,16,32,32,V),new Q(8,16,128,128,V),new Q(8,32,128,256,V),new Q(32,128,258,1024,V),new Q(32,258,258,4096,V)],s.deflateInit=function(e,P){return ct(e,P,b,15,8,0)},s.deflateInit2=ct,s.deflateReset=lt,s.deflateResetKeep=ot,s.deflateSetHeader=function(e,P){return e&&e.state?e.state.wrap!==2?_:(e.state.gzhead=P,n):_},s.deflate=function(e,P){var A,g,f,S;if(!e||!e.state||5<P||P<0)return e?st(e,_):_;if(g=e.state,!e.output||!e.input&&e.avail_in!==0||g.status===666&&P!==y)return st(e,e.avail_out===0?-5:_);if(g.strm=e,A=g.last_flush,g.last_flush=P,g.status===w)if(g.wrap===2)e.adler=0,tt(g,31),tt(g,139),tt(g,8),g.gzhead?(tt(g,(g.gzhead.text?1:0)+(g.gzhead.hcrc?2:0)+(g.gzhead.extra?4:0)+(g.gzhead.name?8:0)+(g.gzhead.comment?16:0)),tt(g,255&g.gzhead.time),tt(g,g.gzhead.time>>8&255),tt(g,g.gzhead.time>>16&255),tt(g,g.gzhead.time>>24&255),tt(g,g.level===9?2:2<=g.strategy||g.level<2?4:0),tt(g,255&g.gzhead.os),g.gzhead.extra&&g.gzhead.extra.length&&(tt(g,255&g.gzhead.extra.length),tt(g,g.gzhead.extra.length>>8&255)),g.gzhead.hcrc&&(e.adler=m(e.adler,g.pending_buf,g.pending,0)),g.gzindex=0,g.status=69):(tt(g,0),tt(g,0),tt(g,0),tt(g,0),tt(g,0),tt(g,g.level===9?2:2<=g.strategy||g.level<2?4:0),tt(g,3),g.status=I);else{var F=b+(g.w_bits-8<<4)<<8;F|=(2<=g.strategy||g.level<2?0:g.level<6?1:g.level===6?2:3)<<6,g.strstart!==0&&(F|=32),F+=31-F%31,g.status=I,X(g,F),g.strstart!==0&&(X(g,e.adler>>>16),X(g,65535&e.adler)),e.adler=1}if(g.status===69)if(g.gzhead.extra){for(f=g.pending;g.gzindex<(65535&g.gzhead.extra.length)&&(g.pending!==g.pending_buf_size||(g.gzhead.hcrc&&g.pending>f&&(e.adler=m(e.adler,g.pending_buf,g.pending-f,f)),z(e),f=g.pending,g.pending!==g.pending_buf_size));)tt(g,255&g.gzhead.extra[g.gzindex]),g.gzindex++;g.gzhead.hcrc&&g.pending>f&&(e.adler=m(e.adler,g.pending_buf,g.pending-f,f)),g.gzindex===g.gzhead.extra.length&&(g.gzindex=0,g.status=73)}else g.status=73;if(g.status===73)if(g.gzhead.name){f=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>f&&(e.adler=m(e.adler,g.pending_buf,g.pending-f,f)),z(e),f=g.pending,g.pending===g.pending_buf_size)){S=1;break}S=g.gzindex<g.gzhead.name.length?255&g.gzhead.name.charCodeAt(g.gzindex++):0,tt(g,S)}while(S!==0);g.gzhead.hcrc&&g.pending>f&&(e.adler=m(e.adler,g.pending_buf,g.pending-f,f)),S===0&&(g.gzindex=0,g.status=91)}else g.status=91;if(g.status===91)if(g.gzhead.comment){f=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>f&&(e.adler=m(e.adler,g.pending_buf,g.pending-f,f)),z(e),f=g.pending,g.pending===g.pending_buf_size)){S=1;break}S=g.gzindex<g.gzhead.comment.length?255&g.gzhead.comment.charCodeAt(g.gzindex++):0,tt(g,S)}while(S!==0);g.gzhead.hcrc&&g.pending>f&&(e.adler=m(e.adler,g.pending_buf,g.pending-f,f)),S===0&&(g.status=103)}else g.status=103;if(g.status===103&&(g.gzhead.hcrc?(g.pending+2>g.pending_buf_size&&z(e),g.pending+2<=g.pending_buf_size&&(tt(g,255&e.adler),tt(g,e.adler>>8&255),e.adler=0,g.status=I)):g.status=I),g.pending!==0){if(z(e),e.avail_out===0)return g.last_flush=-1,n}else if(e.avail_in===0&&H(P)<=H(A)&&P!==y)return st(e,-5);if(g.status===666&&e.avail_in!==0)return st(e,-5);if(e.avail_in!==0||g.lookahead!==0||P!==d&&g.status!==666){var L=g.strategy===2?function(E,W){for(var K;;){if(E.lookahead===0&&(j(E),E.lookahead===0)){if(W===d)return i;break}if(E.match_length=0,K=r._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++,K&&(B(E,!1),E.strm.avail_out===0))return i}return E.insert=0,W===y?(B(E,!0),E.strm.avail_out===0?et:Z):E.last_lit&&(B(E,!1),E.strm.avail_out===0)?i:N}(g,P):g.strategy===3?function(E,W){for(var K,T,$,at,nt=E.window;;){if(E.lookahead<=J){if(j(E),E.lookahead<=J&&W===d)return i;if(E.lookahead===0)break}if(E.match_length=0,E.lookahead>=D&&0<E.strstart&&(T=nt[$=E.strstart-1])===nt[++$]&&T===nt[++$]&&T===nt[++$]){at=E.strstart+J;do;while(T===nt[++$]&&T===nt[++$]&&T===nt[++$]&&T===nt[++$]&&T===nt[++$]&&T===nt[++$]&&T===nt[++$]&&T===nt[++$]&&$<at);E.match_length=J-(at-$),E.match_length>E.lookahead&&(E.match_length=E.lookahead)}if(E.match_length>=D?(K=r._tr_tally(E,1,E.match_length-D),E.lookahead-=E.match_length,E.strstart+=E.match_length,E.match_length=0):(K=r._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++),K&&(B(E,!1),E.strm.avail_out===0))return i}return E.insert=0,W===y?(B(E,!0),E.strm.avail_out===0?et:Z):E.last_lit&&(B(E,!1),E.strm.avail_out===0)?i:N}(g,P):a[g.level].func(g,P);if(L!==et&&L!==Z||(g.status=666),L===i||L===et)return e.avail_out===0&&(g.last_flush=-1),n;if(L===N&&(P===1?r._tr_align(g):P!==5&&(r._tr_stored_block(g,0,0,!1),P===3&&(rt(g.head),g.lookahead===0&&(g.strstart=0,g.block_start=0,g.insert=0))),z(e),e.avail_out===0))return g.last_flush=-1,n}return P!==y?n:g.wrap<=0?1:(g.wrap===2?(tt(g,255&e.adler),tt(g,e.adler>>8&255),tt(g,e.adler>>16&255),tt(g,e.adler>>24&255),tt(g,255&e.total_in),tt(g,e.total_in>>8&255),tt(g,e.total_in>>16&255),tt(g,e.total_in>>24&255)):(X(g,e.adler>>>16),X(g,65535&e.adler)),z(e),0<g.wrap&&(g.wrap=-g.wrap),g.pending!==0?n:1)},s.deflateEnd=function(e){var P;return e&&e.state?(P=e.state.status)!==w&&P!==69&&P!==73&&P!==91&&P!==103&&P!==I&&P!==666?st(e,_):(e.state=null,P===I?st(e,-3):n):_},s.deflateSetDictionary=function(e,P){var A,g,f,S,F,L,E,W,K=P.length;if(!e||!e.state||(S=(A=e.state).wrap)===2||S===1&&A.status!==w||A.lookahead)return _;for(S===1&&(e.adler=h(e.adler,P,K,0)),A.wrap=0,K>=A.w_size&&(S===0&&(rt(A.head),A.strstart=0,A.block_start=0,A.insert=0),W=new l.Buf8(A.w_size),l.arraySet(W,P,K-A.w_size,A.w_size,0),P=W,K=A.w_size),F=e.avail_in,L=e.next_in,E=e.input,e.avail_in=K,e.next_in=0,e.input=P,j(A);A.lookahead>=D;){for(g=A.strstart,f=A.lookahead-(D-1);A.ins_h=(A.ins_h<<A.hash_shift^A.window[g+D-1])&A.hash_mask,A.prev[g&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=g,g++,--f;);A.strstart=g,A.lookahead=D-1,j(A)}return A.strstart+=A.lookahead,A.block_start=A.strstart,A.insert=A.lookahead,A.lookahead=0,A.match_length=A.prev_length=D-1,A.match_available=0,e.next_in=L,e.input=E,e.avail_in=F,A.wrap=S,n},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,o,s){"use strict";o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,o,s){"use strict";o.exports=function(a,l){var r,h,m,v,d,y,n,_,u,p,c,b,k,x,C,R,O,U,D,J,Y,w,I,i,N;r=a.state,h=a.next_in,i=a.input,m=h+(a.avail_in-5),v=a.next_out,N=a.output,d=v-(l-a.avail_out),y=v+(a.avail_out-257),n=r.dmax,_=r.wsize,u=r.whave,p=r.wnext,c=r.window,b=r.hold,k=r.bits,x=r.lencode,C=r.distcode,R=(1<<r.lenbits)-1,O=(1<<r.distbits)-1;t:do{k<15&&(b+=i[h++]<<k,k+=8,b+=i[h++]<<k,k+=8),U=x[b&R];e:for(;;){if(b>>>=D=U>>>24,k-=D,(D=U>>>16&255)===0)N[v++]=65535&U;else{if(!(16&D)){if(!(64&D)){U=x[(65535&U)+(b&(1<<D)-1)];continue e}if(32&D){r.mode=12;break t}a.msg="invalid literal/length code",r.mode=30;break t}J=65535&U,(D&=15)&&(k<D&&(b+=i[h++]<<k,k+=8),J+=b&(1<<D)-1,b>>>=D,k-=D),k<15&&(b+=i[h++]<<k,k+=8,b+=i[h++]<<k,k+=8),U=C[b&O];r:for(;;){if(b>>>=D=U>>>24,k-=D,!(16&(D=U>>>16&255))){if(!(64&D)){U=C[(65535&U)+(b&(1<<D)-1)];continue r}a.msg="invalid distance code",r.mode=30;break t}if(Y=65535&U,k<(D&=15)&&(b+=i[h++]<<k,(k+=8)<D&&(b+=i[h++]<<k,k+=8)),n<(Y+=b&(1<<D)-1)){a.msg="invalid distance too far back",r.mode=30;break t}if(b>>>=D,k-=D,(D=v-d)<Y){if(u<(D=Y-D)&&r.sane){a.msg="invalid distance too far back",r.mode=30;break t}if(I=c,(w=0)===p){if(w+=_-D,D<J){for(J-=D;N[v++]=c[w++],--D;);w=v-Y,I=N}}else if(p<D){if(w+=_+p-D,(D-=p)<J){for(J-=D;N[v++]=c[w++],--D;);if(w=0,p<J){for(J-=D=p;N[v++]=c[w++],--D;);w=v-Y,I=N}}}else if(w+=p-D,D<J){for(J-=D;N[v++]=c[w++],--D;);w=v-Y,I=N}for(;2<J;)N[v++]=I[w++],N[v++]=I[w++],N[v++]=I[w++],J-=3;J&&(N[v++]=I[w++],1<J&&(N[v++]=I[w++]))}else{for(w=v-Y;N[v++]=N[w++],N[v++]=N[w++],N[v++]=N[w++],2<(J-=3););J&&(N[v++]=N[w++],1<J&&(N[v++]=N[w++]))}break}}break}}while(h<m&&v<y);h-=J=k>>3,b&=(1<<(k-=J<<3))-1,a.next_in=h,a.next_out=v,a.avail_in=h<m?m-h+5:5-(h-m),a.avail_out=v<y?y-v+257:257-(v-y),r.hold=b,r.bits=k}},{}],49:[function(t,o,s){"use strict";var a=t("../utils/common"),l=t("./adler32"),r=t("./crc32"),h=t("./inffast"),m=t("./inftrees"),v=1,d=2,y=0,n=-2,_=1,u=852,p=592;function c(w){return(w>>>24&255)+(w>>>8&65280)+((65280&w)<<8)+((255&w)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(w){var I;return w&&w.state?(I=w.state,w.total_in=w.total_out=I.total=0,w.msg="",I.wrap&&(w.adler=1&I.wrap),I.mode=_,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new a.Buf32(u),I.distcode=I.distdyn=new a.Buf32(p),I.sane=1,I.back=-1,y):n}function x(w){var I;return w&&w.state?((I=w.state).wsize=0,I.whave=0,I.wnext=0,k(w)):n}function C(w,I){var i,N;return w&&w.state?(N=w.state,I<0?(i=0,I=-I):(i=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?n:(N.window!==null&&N.wbits!==I&&(N.window=null),N.wrap=i,N.wbits=I,x(w))):n}function R(w,I){var i,N;return w?(N=new b,(w.state=N).window=null,(i=C(w,I))!==y&&(w.state=null),i):n}var O,U,D=!0;function J(w){if(D){var I;for(O=new a.Buf32(512),U=new a.Buf32(32),I=0;I<144;)w.lens[I++]=8;for(;I<256;)w.lens[I++]=9;for(;I<280;)w.lens[I++]=7;for(;I<288;)w.lens[I++]=8;for(m(v,w.lens,0,288,O,0,w.work,{bits:9}),I=0;I<32;)w.lens[I++]=5;m(d,w.lens,0,32,U,0,w.work,{bits:5}),D=!1}w.lencode=O,w.lenbits=9,w.distcode=U,w.distbits=5}function Y(w,I,i,N){var et,Z=w.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new a.Buf8(Z.wsize)),N>=Z.wsize?(a.arraySet(Z.window,I,i-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(N<(et=Z.wsize-Z.wnext)&&(et=N),a.arraySet(Z.window,I,i-N,et,Z.wnext),(N-=et)?(a.arraySet(Z.window,I,i-N,N,0),Z.wnext=N,Z.whave=Z.wsize):(Z.wnext+=et,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=et))),0}s.inflateReset=x,s.inflateReset2=C,s.inflateResetKeep=k,s.inflateInit=function(w){return R(w,15)},s.inflateInit2=R,s.inflate=function(w,I){var i,N,et,Z,st,H,rt,z,B,tt,X,G,j,q,V,Q,it,ot,lt,ct,e,P,A,g,f=0,S=new a.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&w.avail_in!==0)return n;(i=w.state).mode===12&&(i.mode=13),st=w.next_out,et=w.output,rt=w.avail_out,Z=w.next_in,N=w.input,H=w.avail_in,z=i.hold,B=i.bits,tt=H,X=rt,P=y;t:for(;;)switch(i.mode){case _:if(i.wrap===0){i.mode=13;break}for(;B<16;){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}if(2&i.wrap&&z===35615){S[i.check=0]=255&z,S[1]=z>>>8&255,i.check=r(i.check,S,2,0),B=z=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&z)<<8)+(z>>8))%31){w.msg="incorrect header check",i.mode=30;break}if((15&z)!=8){w.msg="unknown compression method",i.mode=30;break}if(B-=4,e=8+(15&(z>>>=4)),i.wbits===0)i.wbits=e;else if(e>i.wbits){w.msg="invalid window size",i.mode=30;break}i.dmax=1<<e,w.adler=i.check=1,i.mode=512&z?10:12,B=z=0;break;case 2:for(;B<16;){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}if(i.flags=z,(255&i.flags)!=8){w.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){w.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=z>>8&1),512&i.flags&&(S[0]=255&z,S[1]=z>>>8&255,i.check=r(i.check,S,2,0)),B=z=0,i.mode=3;case 3:for(;B<32;){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}i.head&&(i.head.time=z),512&i.flags&&(S[0]=255&z,S[1]=z>>>8&255,S[2]=z>>>16&255,S[3]=z>>>24&255,i.check=r(i.check,S,4,0)),B=z=0,i.mode=4;case 4:for(;B<16;){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}i.head&&(i.head.xflags=255&z,i.head.os=z>>8),512&i.flags&&(S[0]=255&z,S[1]=z>>>8&255,i.check=r(i.check,S,2,0)),B=z=0,i.mode=5;case 5:if(1024&i.flags){for(;B<16;){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}i.length=z,i.head&&(i.head.extra_len=z),512&i.flags&&(S[0]=255&z,S[1]=z>>>8&255,i.check=r(i.check,S,2,0)),B=z=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(H<(G=i.length)&&(G=H),G&&(i.head&&(e=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),a.arraySet(i.head.extra,N,Z,G,e)),512&i.flags&&(i.check=r(i.check,N,G,Z)),H-=G,Z+=G,i.length-=G),i.length))break t;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(H===0)break t;for(G=0;e=N[Z+G++],i.head&&e&&i.length<65536&&(i.head.name+=String.fromCharCode(e)),e&&G<H;);if(512&i.flags&&(i.check=r(i.check,N,G,Z)),H-=G,Z+=G,e)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(H===0)break t;for(G=0;e=N[Z+G++],i.head&&e&&i.length<65536&&(i.head.comment+=String.fromCharCode(e)),e&&G<H;);if(512&i.flags&&(i.check=r(i.check,N,G,Z)),H-=G,Z+=G,e)break t}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;B<16;){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}if(z!==(65535&i.check)){w.msg="header crc mismatch",i.mode=30;break}B=z=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),w.adler=i.check=0,i.mode=12;break;case 10:for(;B<32;){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}w.adler=i.check=c(z),B=z=0,i.mode=11;case 11:if(i.havedict===0)return w.next_out=st,w.avail_out=rt,w.next_in=Z,w.avail_in=H,i.hold=z,i.bits=B,2;w.adler=i.check=1,i.mode=12;case 12:if(I===5||I===6)break t;case 13:if(i.last){z>>>=7&B,B-=7&B,i.mode=27;break}for(;B<3;){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}switch(i.last=1&z,B-=1,3&(z>>>=1)){case 0:i.mode=14;break;case 1:if(J(i),i.mode=20,I!==6)break;z>>>=2,B-=2;break t;case 2:i.mode=17;break;case 3:w.msg="invalid block type",i.mode=30}z>>>=2,B-=2;break;case 14:for(z>>>=7&B,B-=7&B;B<32;){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}if((65535&z)!=(z>>>16^65535)){w.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&z,B=z=0,i.mode=15,I===6)break t;case 15:i.mode=16;case 16:if(G=i.length){if(H<G&&(G=H),rt<G&&(G=rt),G===0)break t;a.arraySet(et,N,Z,G,st),H-=G,Z+=G,rt-=G,st+=G,i.length-=G;break}i.mode=12;break;case 17:for(;B<14;){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}if(i.nlen=257+(31&z),z>>>=5,B-=5,i.ndist=1+(31&z),z>>>=5,B-=5,i.ncode=4+(15&z),z>>>=4,B-=4,286<i.nlen||30<i.ndist){w.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;B<3;){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}i.lens[F[i.have++]]=7&z,z>>>=3,B-=3}for(;i.have<19;)i.lens[F[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,A={bits:i.lenbits},P=m(0,i.lens,0,19,i.lencode,0,i.work,A),i.lenbits=A.bits,P){w.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;Q=(f=i.lencode[z&(1<<i.lenbits)-1])>>>16&255,it=65535&f,!((V=f>>>24)<=B);){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}if(it<16)z>>>=V,B-=V,i.lens[i.have++]=it;else{if(it===16){for(g=V+2;B<g;){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}if(z>>>=V,B-=V,i.have===0){w.msg="invalid bit length repeat",i.mode=30;break}e=i.lens[i.have-1],G=3+(3&z),z>>>=2,B-=2}else if(it===17){for(g=V+3;B<g;){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}B-=V,e=0,G=3+(7&(z>>>=V)),z>>>=3,B-=3}else{for(g=V+7;B<g;){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}B-=V,e=0,G=11+(127&(z>>>=V)),z>>>=7,B-=7}if(i.have+G>i.nlen+i.ndist){w.msg="invalid bit length repeat",i.mode=30;break}for(;G--;)i.lens[i.have++]=e}}if(i.mode===30)break;if(i.lens[256]===0){w.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,A={bits:i.lenbits},P=m(v,i.lens,0,i.nlen,i.lencode,0,i.work,A),i.lenbits=A.bits,P){w.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,A={bits:i.distbits},P=m(d,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,A),i.distbits=A.bits,P){w.msg="invalid distances set",i.mode=30;break}if(i.mode=20,I===6)break t;case 20:i.mode=21;case 21:if(6<=H&&258<=rt){w.next_out=st,w.avail_out=rt,w.next_in=Z,w.avail_in=H,i.hold=z,i.bits=B,h(w,X),st=w.next_out,et=w.output,rt=w.avail_out,Z=w.next_in,N=w.input,H=w.avail_in,z=i.hold,B=i.bits,i.mode===12&&(i.back=-1);break}for(i.back=0;Q=(f=i.lencode[z&(1<<i.lenbits)-1])>>>16&255,it=65535&f,!((V=f>>>24)<=B);){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}if(Q&&!(240&Q)){for(ot=V,lt=Q,ct=it;Q=(f=i.lencode[ct+((z&(1<<ot+lt)-1)>>ot)])>>>16&255,it=65535&f,!(ot+(V=f>>>24)<=B);){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}z>>>=ot,B-=ot,i.back+=ot}if(z>>>=V,B-=V,i.back+=V,i.length=it,Q===0){i.mode=26;break}if(32&Q){i.back=-1,i.mode=12;break}if(64&Q){w.msg="invalid literal/length code",i.mode=30;break}i.extra=15&Q,i.mode=22;case 22:if(i.extra){for(g=i.extra;B<g;){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}i.length+=z&(1<<i.extra)-1,z>>>=i.extra,B-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;Q=(f=i.distcode[z&(1<<i.distbits)-1])>>>16&255,it=65535&f,!((V=f>>>24)<=B);){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}if(!(240&Q)){for(ot=V,lt=Q,ct=it;Q=(f=i.distcode[ct+((z&(1<<ot+lt)-1)>>ot)])>>>16&255,it=65535&f,!(ot+(V=f>>>24)<=B);){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}z>>>=ot,B-=ot,i.back+=ot}if(z>>>=V,B-=V,i.back+=V,64&Q){w.msg="invalid distance code",i.mode=30;break}i.offset=it,i.extra=15&Q,i.mode=24;case 24:if(i.extra){for(g=i.extra;B<g;){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}i.offset+=z&(1<<i.extra)-1,z>>>=i.extra,B-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){w.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(rt===0)break t;if(G=X-rt,i.offset>G){if((G=i.offset-G)>i.whave&&i.sane){w.msg="invalid distance too far back",i.mode=30;break}j=G>i.wnext?(G-=i.wnext,i.wsize-G):i.wnext-G,G>i.length&&(G=i.length),q=i.window}else q=et,j=st-i.offset,G=i.length;for(rt<G&&(G=rt),rt-=G,i.length-=G;et[st++]=q[j++],--G;);i.length===0&&(i.mode=21);break;case 26:if(rt===0)break t;et[st++]=i.length,rt--,i.mode=21;break;case 27:if(i.wrap){for(;B<32;){if(H===0)break t;H--,z|=N[Z++]<<B,B+=8}if(X-=rt,w.total_out+=X,i.total+=X,X&&(w.adler=i.check=i.flags?r(i.check,et,X,st-X):l(i.check,et,X,st-X)),X=rt,(i.flags?z:c(z))!==i.check){w.msg="incorrect data check",i.mode=30;break}B=z=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;B<32;){if(H===0)break t;H--,z+=N[Z++]<<B,B+=8}if(z!==(4294967295&i.total)){w.msg="incorrect length check",i.mode=30;break}B=z=0}i.mode=29;case 29:P=1;break t;case 30:P=-3;break t;case 31:return-4;case 32:default:return n}return w.next_out=st,w.avail_out=rt,w.next_in=Z,w.avail_in=H,i.hold=z,i.bits=B,(i.wsize||X!==w.avail_out&&i.mode<30&&(i.mode<27||I!==4))&&Y(w,w.output,w.next_out,X-w.avail_out)?(i.mode=31,-4):(tt-=w.avail_in,X-=w.avail_out,w.total_in+=tt,w.total_out+=X,i.total+=X,i.wrap&&X&&(w.adler=i.check=i.flags?r(i.check,et,X,w.next_out-X):l(i.check,et,X,w.next_out-X)),w.data_type=i.bits+(i.last?64:0)+(i.mode===12?128:0)+(i.mode===20||i.mode===15?256:0),(tt==0&&X===0||I===4)&&P===y&&(P=-5),P)},s.inflateEnd=function(w){if(!w||!w.state)return n;var I=w.state;return I.window&&(I.window=null),w.state=null,y},s.inflateGetHeader=function(w,I){var i;return w&&w.state&&2&(i=w.state).wrap?((i.head=I).done=!1,y):n},s.inflateSetDictionary=function(w,I){var i,N=I.length;return w&&w.state?(i=w.state).wrap!==0&&i.mode!==11?n:i.mode===11&&l(1,I,N,0)!==i.check?-3:Y(w,I,N,N)?(i.mode=31,-4):(i.havedict=1,y):n},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,o,s){"use strict";var a=t("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(v,d,y,n,_,u,p,c){var b,k,x,C,R,O,U,D,J,Y=c.bits,w=0,I=0,i=0,N=0,et=0,Z=0,st=0,H=0,rt=0,z=0,B=null,tt=0,X=new a.Buf16(16),G=new a.Buf16(16),j=null,q=0;for(w=0;w<=15;w++)X[w]=0;for(I=0;I<n;I++)X[d[y+I]]++;for(et=Y,N=15;1<=N&&X[N]===0;N--);if(N<et&&(et=N),N===0)return _[u++]=20971520,_[u++]=20971520,c.bits=1,0;for(i=1;i<N&&X[i]===0;i++);for(et<i&&(et=i),w=H=1;w<=15;w++)if(H<<=1,(H-=X[w])<0)return-1;if(0<H&&(v===0||N!==1))return-1;for(G[1]=0,w=1;w<15;w++)G[w+1]=G[w]+X[w];for(I=0;I<n;I++)d[y+I]!==0&&(p[G[d[y+I]]++]=I);if(O=v===0?(B=j=p,19):v===1?(B=l,tt-=257,j=r,q-=257,256):(B=h,j=m,-1),w=i,R=u,st=I=z=0,x=-1,C=(rt=1<<(Z=et))-1,v===1&&852<rt||v===2&&592<rt)return 1;for(;;){for(U=w-st,J=p[I]<O?(D=0,p[I]):p[I]>O?(D=j[q+p[I]],B[tt+p[I]]):(D=96,0),b=1<<w-st,i=k=1<<Z;_[R+(z>>st)+(k-=b)]=U<<24|D<<16|J|0,k!==0;);for(b=1<<w-1;z&b;)b>>=1;if(b!==0?(z&=b-1,z+=b):z=0,I++,--X[w]==0){if(w===N)break;w=d[y+p[I]]}if(et<w&&(z&C)!==x){for(st===0&&(st=et),R+=i,H=1<<(Z=w-st);Z+st<N&&!((H-=X[Z+st])<=0);)Z++,H<<=1;if(rt+=1<<Z,v===1&&852<rt||v===2&&592<rt)return 1;_[x=z&C]=et<<24|Z<<16|R-u|0}}return z!==0&&(_[R+z]=w-st<<24|64<<16|0),c.bits=et,0}},{"../utils/common":41}],51:[function(t,o,s){"use strict";o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,o,s){"use strict";var a=t("../utils/common"),l=0,r=1;function h(f){for(var S=f.length;0<=--S;)f[S]=0}var m=0,v=29,d=256,y=d+1+v,n=30,_=19,u=2*y+1,p=15,c=16,b=7,k=256,x=16,C=17,R=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(2*(y+2));h(Y);var w=new Array(2*n);h(w);var I=new Array(512);h(I);var i=new Array(256);h(i);var N=new Array(v);h(N);var et,Z,st,H=new Array(n);function rt(f,S,F,L,E){this.static_tree=f,this.extra_bits=S,this.extra_base=F,this.elems=L,this.max_length=E,this.has_stree=f&&f.length}function z(f,S){this.dyn_tree=f,this.max_code=0,this.stat_desc=S}function B(f){return f<256?I[f]:I[256+(f>>>7)]}function tt(f,S){f.pending_buf[f.pending++]=255&S,f.pending_buf[f.pending++]=S>>>8&255}function X(f,S,F){f.bi_valid>c-F?(f.bi_buf|=S<<f.bi_valid&65535,tt(f,f.bi_buf),f.bi_buf=S>>c-f.bi_valid,f.bi_valid+=F-c):(f.bi_buf|=S<<f.bi_valid&65535,f.bi_valid+=F)}function G(f,S,F){X(f,F[2*S],F[2*S+1])}function j(f,S){for(var F=0;F|=1&f,f>>>=1,F<<=1,0<--S;);return F>>>1}function q(f,S,F){var L,E,W=new Array(p+1),K=0;for(L=1;L<=p;L++)W[L]=K=K+F[L-1]<<1;for(E=0;E<=S;E++){var T=f[2*E+1];T!==0&&(f[2*E]=j(W[T]++,T))}}function V(f){var S;for(S=0;S<y;S++)f.dyn_ltree[2*S]=0;for(S=0;S<n;S++)f.dyn_dtree[2*S]=0;for(S=0;S<_;S++)f.bl_tree[2*S]=0;f.dyn_ltree[2*k]=1,f.opt_len=f.static_len=0,f.last_lit=f.matches=0}function Q(f){8<f.bi_valid?tt(f,f.bi_buf):0<f.bi_valid&&(f.pending_buf[f.pending++]=f.bi_buf),f.bi_buf=0,f.bi_valid=0}function it(f,S,F,L){var E=2*S,W=2*F;return f[E]<f[W]||f[E]===f[W]&&L[S]<=L[F]}function ot(f,S,F){for(var L=f.heap[F],E=F<<1;E<=f.heap_len&&(E<f.heap_len&&it(S,f.heap[E+1],f.heap[E],f.depth)&&E++,!it(S,L,f.heap[E],f.depth));)f.heap[F]=f.heap[E],F=E,E<<=1;f.heap[F]=L}function lt(f,S,F){var L,E,W,K,T=0;if(f.last_lit!==0)for(;L=f.pending_buf[f.d_buf+2*T]<<8|f.pending_buf[f.d_buf+2*T+1],E=f.pending_buf[f.l_buf+T],T++,L===0?G(f,E,S):(G(f,(W=i[E])+d+1,S),(K=O[W])!==0&&X(f,E-=N[W],K),G(f,W=B(--L),F),(K=U[W])!==0&&X(f,L-=H[W],K)),T<f.last_lit;);G(f,k,S)}function ct(f,S){var F,L,E,W=S.dyn_tree,K=S.stat_desc.static_tree,T=S.stat_desc.has_stree,$=S.stat_desc.elems,at=-1;for(f.heap_len=0,f.heap_max=u,F=0;F<$;F++)W[2*F]!==0?(f.heap[++f.heap_len]=at=F,f.depth[F]=0):W[2*F+1]=0;for(;f.heap_len<2;)W[2*(E=f.heap[++f.heap_len]=at<2?++at:0)]=1,f.depth[E]=0,f.opt_len--,T&&(f.static_len-=K[2*E+1]);for(S.max_code=at,F=f.heap_len>>1;1<=F;F--)ot(f,W,F);for(E=$;F=f.heap[1],f.heap[1]=f.heap[f.heap_len--],ot(f,W,1),L=f.heap[1],f.heap[--f.heap_max]=F,f.heap[--f.heap_max]=L,W[2*E]=W[2*F]+W[2*L],f.depth[E]=(f.depth[F]>=f.depth[L]?f.depth[F]:f.depth[L])+1,W[2*F+1]=W[2*L+1]=E,f.heap[1]=E++,ot(f,W,1),2<=f.heap_len;);f.heap[--f.heap_max]=f.heap[1],function(nt,pt){var bt,gt,_t,ht,Bt,Lt,yt=pt.dyn_tree,qt=pt.max_code,Te=pt.stat_desc.static_tree,Ie=pt.stat_desc.has_stree,Fe=pt.stat_desc.extra_bits,Yt=pt.stat_desc.extra_base,Ct=pt.stat_desc.max_length,At=0;for(ht=0;ht<=p;ht++)nt.bl_count[ht]=0;for(yt[2*nt.heap[nt.heap_max]+1]=0,bt=nt.heap_max+1;bt<u;bt++)Ct<(ht=yt[2*yt[2*(gt=nt.heap[bt])+1]+1]+1)&&(ht=Ct,At++),yt[2*gt+1]=ht,qt<gt||(nt.bl_count[ht]++,Bt=0,Yt<=gt&&(Bt=Fe[gt-Yt]),Lt=yt[2*gt],nt.opt_len+=Lt*(ht+Bt),Ie&&(nt.static_len+=Lt*(Te[2*gt+1]+Bt)));if(At!==0){do{for(ht=Ct-1;nt.bl_count[ht]===0;)ht--;nt.bl_count[ht]--,nt.bl_count[ht+1]+=2,nt.bl_count[Ct]--,At-=2}while(0<At);for(ht=Ct;ht!==0;ht--)for(gt=nt.bl_count[ht];gt!==0;)qt<(_t=nt.heap[--bt])||(yt[2*_t+1]!==ht&&(nt.opt_len+=(ht-yt[2*_t+1])*yt[2*_t],yt[2*_t+1]=ht),gt--)}}(f,S),q(W,at,f.bl_count)}function e(f,S,F){var L,E,W=-1,K=S[1],T=0,$=7,at=4;for(K===0&&($=138,at=3),S[2*(F+1)+1]=65535,L=0;L<=F;L++)E=K,K=S[2*(L+1)+1],++T<$&&E===K||(T<at?f.bl_tree[2*E]+=T:E!==0?(E!==W&&f.bl_tree[2*E]++,f.bl_tree[2*x]++):T<=10?f.bl_tree[2*C]++:f.bl_tree[2*R]++,W=E,at=(T=0)===K?($=138,3):E===K?($=6,3):($=7,4))}function P(f,S,F){var L,E,W=-1,K=S[1],T=0,$=7,at=4;for(K===0&&($=138,at=3),L=0;L<=F;L++)if(E=K,K=S[2*(L+1)+1],!(++T<$&&E===K)){if(T<at)for(;G(f,E,f.bl_tree),--T!=0;);else E!==0?(E!==W&&(G(f,E,f.bl_tree),T--),G(f,x,f.bl_tree),X(f,T-3,2)):T<=10?(G(f,C,f.bl_tree),X(f,T-3,3)):(G(f,R,f.bl_tree),X(f,T-11,7));W=E,at=(T=0)===K?($=138,3):E===K?($=6,3):($=7,4)}}h(H);var A=!1;function g(f,S,F,L){X(f,(m<<1)+(L?1:0),3),function(E,W,K,T){Q(E),T&&(tt(E,K),tt(E,~K)),a.arraySet(E.pending_buf,E.window,W,K,E.pending),E.pending+=K}(f,S,F,!0)}s._tr_init=function(f){A||(function(){var S,F,L,E,W,K=new Array(p+1);for(E=L=0;E<v-1;E++)for(N[E]=L,S=0;S<1<<O[E];S++)i[L++]=E;for(i[L-1]=E,E=W=0;E<16;E++)for(H[E]=W,S=0;S<1<<U[E];S++)I[W++]=E;for(W>>=7;E<n;E++)for(H[E]=W<<7,S=0;S<1<<U[E]-7;S++)I[256+W++]=E;for(F=0;F<=p;F++)K[F]=0;for(S=0;S<=143;)Y[2*S+1]=8,S++,K[8]++;for(;S<=255;)Y[2*S+1]=9,S++,K[9]++;for(;S<=279;)Y[2*S+1]=7,S++,K[7]++;for(;S<=287;)Y[2*S+1]=8,S++,K[8]++;for(q(Y,y+1,K),S=0;S<n;S++)w[2*S+1]=5,w[2*S]=j(S,5);et=new rt(Y,O,d+1,y,p),Z=new rt(w,U,0,n,p),st=new rt(new Array(0),D,0,_,b)}(),A=!0),f.l_desc=new z(f.dyn_ltree,et),f.d_desc=new z(f.dyn_dtree,Z),f.bl_desc=new z(f.bl_tree,st),f.bi_buf=0,f.bi_valid=0,V(f)},s._tr_stored_block=g,s._tr_flush_block=function(f,S,F,L){var E,W,K=0;0<f.level?(f.strm.data_type===2&&(f.strm.data_type=function(T){var $,at=4093624447;for($=0;$<=31;$++,at>>>=1)if(1&at&&T.dyn_ltree[2*$]!==0)return l;if(T.dyn_ltree[18]!==0||T.dyn_ltree[20]!==0||T.dyn_ltree[26]!==0)return r;for($=32;$<d;$++)if(T.dyn_ltree[2*$]!==0)return r;return l}(f)),ct(f,f.l_desc),ct(f,f.d_desc),K=function(T){var $;for(e(T,T.dyn_ltree,T.l_desc.max_code),e(T,T.dyn_dtree,T.d_desc.max_code),ct(T,T.bl_desc),$=_-1;3<=$&&T.bl_tree[2*J[$]+1]===0;$--);return T.opt_len+=3*($+1)+5+5+4,$}(f),E=f.opt_len+3+7>>>3,(W=f.static_len+3+7>>>3)<=E&&(E=W)):E=W=F+5,F+4<=E&&S!==-1?g(f,S,F,L):f.strategy===4||W===E?(X(f,2+(L?1:0),3),lt(f,Y,w)):(X(f,4+(L?1:0),3),function(T,$,at,nt){var pt;for(X(T,$-257,5),X(T,at-1,5),X(T,nt-4,4),pt=0;pt<nt;pt++)X(T,T.bl_tree[2*J[pt]+1],3);P(T,T.dyn_ltree,$-1),P(T,T.dyn_dtree,at-1)}(f,f.l_desc.max_code+1,f.d_desc.max_code+1,K+1),lt(f,f.dyn_ltree,f.dyn_dtree)),V(f),L&&Q(f)},s._tr_tally=function(f,S,F){return f.pending_buf[f.d_buf+2*f.last_lit]=S>>>8&255,f.pending_buf[f.d_buf+2*f.last_lit+1]=255&S,f.pending_buf[f.l_buf+f.last_lit]=255&F,f.last_lit++,S===0?f.dyn_ltree[2*F]++:(f.matches++,S--,f.dyn_ltree[2*(i[F]+d+1)]++,f.dyn_dtree[2*B(S)]++),f.last_lit===f.lit_bufsize-1},s._tr_align=function(f){X(f,2,3),G(f,k,Y),function(S){S.bi_valid===16?(tt(S,S.bi_buf),S.bi_buf=0,S.bi_valid=0):8<=S.bi_valid&&(S.pending_buf[S.pending++]=255&S.bi_buf,S.bi_buf>>=8,S.bi_valid-=8)}(f)}},{"../utils/common":41}],53:[function(t,o,s){"use strict";o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,o,s){(function(a){(function(l,r){"use strict";if(!l.setImmediate){var h,m,v,d,y=1,n={},_=!1,u=l.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(l);p=p&&p.setTimeout?p:l,h={}.toString.call(l.process)==="[object process]"?function(x){process.nextTick(function(){b(x)})}:function(){if(l.postMessage&&!l.importScripts){var x=!0,C=l.onmessage;return l.onmessage=function(){x=!1},l.postMessage("","*"),l.onmessage=C,x}}()?(d="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",k,!1):l.attachEvent("onmessage",k),function(x){l.postMessage(d+x,"*")}):l.MessageChannel?((v=new MessageChannel).port1.onmessage=function(x){b(x.data)},function(x){v.port2.postMessage(x)}):u&&"onreadystatechange"in u.createElement("script")?(m=u.documentElement,function(x){var C=u.createElement("script");C.onreadystatechange=function(){b(x),C.onreadystatechange=null,m.removeChild(C),C=null},m.appendChild(C)}):function(x){setTimeout(b,0,x)},p.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var C=new Array(arguments.length-1),R=0;R<C.length;R++)C[R]=arguments[R+1];var O={callback:x,args:C};return n[y]=O,h(y),y++},p.clearImmediate=c}function c(x){delete n[x]}function b(x){if(_)setTimeout(b,0,x);else{var C=n[x];if(C){_=!0;try{(function(R){var O=R.callback,U=R.args;switch(U.length){case 0:O();break;case 1:O(U[0]);break;case 2:O(U[0],U[1]);break;case 3:O(U[0],U[1],U[2]);break;default:O.apply(r,U)}})(C)}finally{c(x),_=!1}}}}function k(x){x.source===l&&typeof x.data=="string"&&x.data.indexOf(d)===0&&b(+x.data.slice(d.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var Pt,ut,ie,Me,xt,te,ae,se,oe,Wt,Ut,jt,We,zt={},le=[],He=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ot=Array.isArray;function vt(t,o){for(var s in o)t[s]=o[s];return t}function Ht(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ze(t,o,s){var a,l,r,h={};for(r in o)r=="key"?a=o[r]:r=="ref"?l=o[r]:h[r]=o[r];if(arguments.length>2&&(h.children=arguments.length>3?Pt.call(arguments,2):s),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)h[r]===void 0&&(h[r]=t.defaultProps[r]);return It(t,h,a,l,null)}function It(t,o,s,a,l){var r={type:t,props:o,key:s,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:l??++ie,__i:-1,__u:0};return l==null&&ut.vnode!=null&&ut.vnode(r),r}function wt(t){return t.children}function Ft(t,o){this.props=t,this.context=o}function St(t,o){if(o==null)return t.__?St(t.__,t.__i+1):null;for(var s;o<t.__k.length;o++)if((s=t.__k[o])!=null&&s.__e!=null)return s.__e;return typeof t.type=="function"?St(t):null}function ue(t){var o,s;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,o=0;o<t.__k.length;o++)if((s=t.__k[o])!=null&&s.__e!=null){t.__e=t.__c.base=s.__e;break}return ue(t)}}function ee(t){(!t.__d&&(t.__d=!0)&&xt.push(t)&&!Dt.__r++||te!=ut.debounceRendering)&&((te=ut.debounceRendering)||ae)(Dt)}function Dt(){for(var t,o,s,a,l,r,h,m=1;xt.length;)xt.length>m&&xt.sort(se),t=xt.shift(),m=xt.length,t.__d&&(s=void 0,a=void 0,l=(a=(o=t).__v).__e,r=[],h=[],o.__P&&((s=vt({},a)).__v=a.__v+1,ut.vnode&&ut.vnode(s),Zt(o.__P,s,a,o.__n,o.__P.namespaceURI,32&a.__u?[l]:null,r,l??St(a),!!(32&a.__u),h),s.__v=a.__v,s.__.__k[s.__i]=s,de(r,s,h),a.__e=a.__=null,s.__e!=l&&ue(s)));Dt.__r=0}function he(t,o,s,a,l,r,h,m,v,d,y){var n,_,u,p,c,b,k,x=a&&a.__k||le,C=o.length;for(v=$e(s,o,x,v,C),n=0;n<C;n++)(u=s.__k[n])!=null&&(_=u.__i==-1?zt:x[u.__i]||zt,u.__i=n,b=Zt(t,u,_,l,r,h,m,v,d,y),p=u.__e,u.ref&&_.ref!=u.ref&&(_.ref&&$t(_.ref,null,u),y.push(u.ref,u.__c||p,u)),c==null&&p!=null&&(c=p),(k=!!(4&u.__u))||_.__k===u.__k?v=ce(u,v,t,k):typeof u.type=="function"&&b!==void 0?v=b:p&&(v=p.nextSibling),u.__u&=-7);return s.__e=c,v}function $e(t,o,s,a,l){var r,h,m,v,d,y=s.length,n=y,_=0;for(t.__k=new Array(l),r=0;r<l;r++)(h=o[r])!=null&&typeof h!="boolean"&&typeof h!="function"?(typeof h=="string"||typeof h=="number"||typeof h=="bigint"||h.constructor==String?h=t.__k[r]=It(null,h,null,null,null):Ot(h)?h=t.__k[r]=It(wt,{children:h},null,null,null):h.constructor==null&&h.__b>0?h=t.__k[r]=It(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):t.__k[r]=h,v=r+_,h.__=t,h.__b=t.__b+1,m=null,(d=h.__i=Je(h,s,v,n))!=-1&&(n--,(m=s[d])&&(m.__u|=2)),m==null||m.__v==null?(d==-1&&(l>y?_--:l<y&&_++),typeof h.type!="function"&&(h.__u|=4)):d!=v&&(d==v-1?_--:d==v+1?_++:(d>v?_--:_++,h.__u|=4))):t.__k[r]=null;if(n)for(r=0;r<y;r++)(m=s[r])!=null&&!(2&m.__u)&&(m.__e==a&&(a=St(m)),pe(m,m));return a}function ce(t,o,s,a){var l,r;if(typeof t.type=="function"){for(l=t.__k,r=0;l&&r<l.length;r++)l[r]&&(l[r].__=t,o=ce(l[r],o,s,a));return o}t.__e!=o&&(a&&(o&&t.type&&!o.parentNode&&(o=St(t)),s.insertBefore(t.__e,o||null)),o=t.__e);do o=o&&o.nextSibling;while(o!=null&&o.nodeType==8);return o}function Je(t,o,s,a){var l,r,h,m=t.key,v=t.type,d=o[s],y=d!=null&&(2&d.__u)==0;if(d===null&&m==null||y&&m==d.key&&v==d.type)return s;if(a>(y?1:0)){for(l=s-1,r=s+1;l>=0||r<o.length;)if((d=o[h=l>=0?l--:r++])!=null&&!(2&d.__u)&&m==d.key&&v==d.type)return h}return-1}function re(t,o,s){o[0]=="-"?t.setProperty(o,s??""):t[o]=s==null?"":typeof s!="number"||He.test(o)?s:s+"px"}function Tt(t,o,s,a,l){var r,h;t:if(o=="style")if(typeof s=="string")t.style.cssText=s;else{if(typeof a=="string"&&(t.style.cssText=a=""),a)for(o in a)s&&o in s||re(t.style,o,"");if(s)for(o in s)a&&s[o]==a[o]||re(t.style,o,s[o])}else if(o[0]=="o"&&o[1]=="n")r=o!=(o=o.replace(oe,"$1")),h=o.toLowerCase(),o=h in t||o=="onFocusOut"||o=="onFocusIn"?h.slice(2):o.slice(2),t.l||(t.l={}),t.l[o+r]=s,s?a?s.u=a.u:(s.u=Wt,t.addEventListener(o,r?jt:Ut,r)):t.removeEventListener(o,r?jt:Ut,r);else{if(l=="http://www.w3.org/2000/svg")o=o.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(o!="width"&&o!="height"&&o!="href"&&o!="list"&&o!="form"&&o!="tabIndex"&&o!="download"&&o!="rowSpan"&&o!="colSpan"&&o!="role"&&o!="popover"&&o in t)try{t[o]=s??"";break t}catch{}typeof s=="function"||(s==null||s===!1&&o[4]!="-"?t.removeAttribute(o):t.setAttribute(o,o=="popover"&&s==1?"":s))}}function ne(t){return function(o){if(this.l){var s=this.l[o.type+t];if(o.t==null)o.t=Wt++;else if(o.t<s.u)return;return s(ut.event?ut.event(o):o)}}}function Zt(t,o,s,a,l,r,h,m,v,d){var y,n,_,u,p,c,b,k,x,C,R,O,U,D,J,Y,w,I=o.type;if(o.constructor!=null)return null;128&s.__u&&(v=!!(32&s.__u),r=[m=o.__e=s.__e]),(y=ut.__b)&&y(o);t:if(typeof I=="function")try{if(k=o.props,x="prototype"in I&&I.prototype.render,C=(y=I.contextType)&&a[y.__c],R=y?C?C.props.value:y.__:a,s.__c?b=(n=o.__c=s.__c).__=n.__E:(x?o.__c=n=new I(k,R):(o.__c=n=new Ft(k,R),n.constructor=I,n.render=Ke),C&&C.sub(n),n.state||(n.state={}),n.__n=a,_=n.__d=!0,n.__h=[],n._sb=[]),x&&n.__s==null&&(n.__s=n.state),x&&I.getDerivedStateFromProps!=null&&(n.__s==n.state&&(n.__s=vt({},n.__s)),vt(n.__s,I.getDerivedStateFromProps(k,n.__s))),u=n.props,p=n.state,n.__v=o,_)x&&I.getDerivedStateFromProps==null&&n.componentWillMount!=null&&n.componentWillMount(),x&&n.componentDidMount!=null&&n.__h.push(n.componentDidMount);else{if(x&&I.getDerivedStateFromProps==null&&k!==u&&n.componentWillReceiveProps!=null&&n.componentWillReceiveProps(k,R),o.__v==s.__v||!n.__e&&n.shouldComponentUpdate!=null&&n.shouldComponentUpdate(k,n.__s,R)===!1){for(o.__v!=s.__v&&(n.props=k,n.state=n.__s,n.__d=!1),o.__e=s.__e,o.__k=s.__k,o.__k.some(function(i){i&&(i.__=o)}),O=0;O<n._sb.length;O++)n.__h.push(n._sb[O]);n._sb=[],n.__h.length&&h.push(n);break t}n.componentWillUpdate!=null&&n.componentWillUpdate(k,n.__s,R),x&&n.componentDidUpdate!=null&&n.__h.push(function(){n.componentDidUpdate(u,p,c)})}if(n.context=R,n.props=k,n.__P=t,n.__e=!1,U=ut.__r,D=0,x){for(n.state=n.__s,n.__d=!1,U&&U(o),y=n.render(n.props,n.state,n.context),J=0;J<n._sb.length;J++)n.__h.push(n._sb[J]);n._sb=[]}else do n.__d=!1,U&&U(o),y=n.render(n.props,n.state,n.context),n.state=n.__s;while(n.__d&&++D<25);n.state=n.__s,n.getChildContext!=null&&(a=vt(vt({},a),n.getChildContext())),x&&!_&&n.getSnapshotBeforeUpdate!=null&&(c=n.getSnapshotBeforeUpdate(u,p)),Y=y,y!=null&&y.type===wt&&y.key==null&&(Y=fe(y.props.children)),m=he(t,Ot(Y)?Y:[Y],o,s,a,l,r,h,m,v,d),n.base=o.__e,o.__u&=-161,n.__h.length&&h.push(n),b&&(n.__E=n.__=null)}catch(i){if(o.__v=null,v||r!=null)if(i.then){for(o.__u|=v?160:128;m&&m.nodeType==8&&m.nextSibling;)m=m.nextSibling;r[r.indexOf(m)]=null,o.__e=m}else{for(w=r.length;w--;)Ht(r[w]);Mt(o)}else o.__e=s.__e,o.__k=s.__k,i.then||Mt(o);ut.__e(i,o,s)}else r==null&&o.__v==s.__v?(o.__k=s.__k,o.__e=s.__e):m=o.__e=Ge(s.__e,o,s,a,l,r,h,v,d);return(y=ut.diffed)&&y(o),128&o.__u?void 0:m}function Mt(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(Mt)}function de(t,o,s){for(var a=0;a<s.length;a++)$t(s[a],s[++a],s[++a]);ut.__c&&ut.__c(o,t),t.some(function(l){try{t=l.__h,l.__h=[],t.some(function(r){r.call(l)})}catch(r){ut.__e(r,l.__v)}})}function fe(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Ot(t)?t.map(fe):vt({},t)}function Ge(t,o,s,a,l,r,h,m,v){var d,y,n,_,u,p,c,b=s.props||zt,k=o.props,x=o.type;if(x=="svg"?l="http://www.w3.org/2000/svg":x=="math"?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),r!=null){for(d=0;d<r.length;d++)if((u=r[d])&&"setAttribute"in u==!!x&&(x?u.localName==x:u.nodeType==3)){t=u,r[d]=null;break}}if(t==null){if(x==null)return document.createTextNode(k);t=document.createElementNS(l,x,k.is&&k),m&&(ut.__m&&ut.__m(o,r),m=!1),r=null}if(x==null)b===k||m&&t.data==k||(t.data=k);else{if(r=r&&Pt.call(t.childNodes),!m&&r!=null)for(b={},d=0;d<t.attributes.length;d++)b[(u=t.attributes[d]).name]=u.value;for(d in b)if(u=b[d],d!="children"){if(d=="dangerouslySetInnerHTML")n=u;else if(!(d in k)){if(d=="value"&&"defaultValue"in k||d=="checked"&&"defaultChecked"in k)continue;Tt(t,d,null,u,l)}}for(d in k)u=k[d],d=="children"?_=u:d=="dangerouslySetInnerHTML"?y=u:d=="value"?p=u:d=="checked"?c=u:m&&typeof u!="function"||b[d]===u||Tt(t,d,u,b[d],l);if(y)m||n&&(y.__html==n.__html||y.__html==t.innerHTML)||(t.innerHTML=y.__html),o.__k=[];else if(n&&(t.innerHTML=""),he(o.type=="template"?t.content:t,Ot(_)?_:[_],o,s,a,x=="foreignObject"?"http://www.w3.org/1999/xhtml":l,r,h,r?r[0]:s.__k&&St(s,0),m,v),r!=null)for(d=r.length;d--;)Ht(r[d]);m||(d="value",x=="progress"&&p==null?t.removeAttribute("value"):p!=null&&(p!==t[d]||x=="progress"&&!p||x=="option"&&p!=b[d])&&Tt(t,d,p,b[d],l),d="checked",c!=null&&c!=t[d]&&Tt(t,d,c,b[d],l))}return t}function $t(t,o,s){try{if(typeof t=="function"){var a=typeof t.__u=="function";a&&t.__u(),a&&o==null||(t.__u=t(o))}else t.current=o}catch(l){ut.__e(l,s)}}function pe(t,o,s){var a,l;if(ut.unmount&&ut.unmount(t),(a=t.ref)&&(a.current&&a.current!=t.__e||$t(a,null,o)),(a=t.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(r){ut.__e(r,o)}a.base=a.__P=null}if(a=t.__k)for(l=0;l<a.length;l++)a[l]&&pe(a[l],o,s||typeof t.type!="function");s||Ht(t.__e),t.__c=t.__=t.__e=void 0}function Ke(t,o,s){return this.constructor(t,s)}function _e(t,o,s){var a,l,r,h;o==document&&(o=document.documentElement),ut.__&&ut.__(t,o),l=(a=typeof s=="function")?null:s&&s.__k||o.__k,r=[],h=[],Zt(o,t=(!a&&s||o).__k=Ze(wt,null,[t]),l||zt,zt,o.namespaceURI,!a&&s?[s]:l?null:o.firstChild?Pt.call(o.childNodes):null,r,!a&&s?s:l?l.__e:o.firstChild,a,h),de(r,t,h)}Pt=le.slice,ut={__e:function(t,o,s,a){for(var l,r,h;o=o.__;)if((l=o.__c)&&!l.__)try{if((r=l.constructor)&&r.getDerivedStateFromError!=null&&(l.setState(r.getDerivedStateFromError(t)),h=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(t,a||{}),h=l.__d),h)return l.__E=l}catch(m){t=m}throw t}},ie=0,Me=function(t){return t!=null&&t.constructor==null},Ft.prototype.setState=function(t,o){var s;s=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=vt({},this.state),typeof t=="function"&&(t=t(vt({},s),this.props)),t&&vt(s,t),t!=null&&this.__v&&(o&&this._sb.push(o),ee(this))},Ft.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ee(this))},Ft.prototype.render=wt,xt=[],ae=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,se=function(t,o){return t.__v.__b-o.__v.__b},Dt.__r=0,oe=/(PointerCapture)$|Capture$/i,Wt=0,Ut=ne(!1),jt=ne(!0),We=0;var Nt,dt,Jt,me,Gt=0,Se=[],ft=ut,ge=ft.__b,be=ft.__r,ye=ft.diffed,ve=ft.__c,we=ft.unmount,ke=ft.__;function Ce(t,o){ft.__h&&ft.__h(dt,t,Gt||o),Gt=0;var s=dt.__H||(dt.__H={__:[],__h:[]});return t>=s.__.length&&s.__.push({}),s.__[t]}function mt(t){return Gt=1,Ve(Ee,t)}function Ve(t,o,s){var a=Ce(Nt++,2);if(a.t=t,!a.__c&&(a.__=[s?s(o):Ee(void 0,o),function(m){var v=a.__N?a.__N[0]:a.__[0],d=a.t(v,m);v!==d&&(a.__N=[d,a.__[1]],a.__c.setState({}))}],a.__c=dt,!dt.__f)){var l=function(m,v,d){if(!a.__c.__H)return!0;var y=a.__c.__H.__.filter(function(_){return!!_.__c});if(y.every(function(_){return!_.__N}))return!r||r.call(this,m,v,d);var n=a.__c.props!==m;return y.forEach(function(_){if(_.__N){var u=_.__[0];_.__=_.__N,_.__N=void 0,u!==_.__[0]&&(n=!0)}}),r&&r.call(this,m,v,d)||n};dt.__f=!0;var r=dt.shouldComponentUpdate,h=dt.componentWillUpdate;dt.componentWillUpdate=function(m,v,d){if(this.__e){var y=r;r=void 0,l(m,v,d),r=y}h&&h.call(this,m,v,d)},dt.shouldComponentUpdate=l}return a.__N||a.__}function Vt(t,o){var s=Ce(Nt++,7);return Ye(s.__H,o)&&(s.__=t(),s.__H=o,s.__h=t),s.__}function Xe(){for(var t;t=Se.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Rt),t.__H.__h.forEach(Kt),t.__H.__h=[]}catch(o){t.__H.__h=[],ft.__e(o,t.__v)}}ft.__b=function(t){dt=null,ge&&ge(t)},ft.__=function(t,o){t&&o.__k&&o.__k.__m&&(t.__m=o.__k.__m),ke&&ke(t,o)},ft.__r=function(t){be&&be(t),Nt=0;var o=(dt=t.__c).__H;o&&(Jt===dt?(o.__h=[],dt.__h=[],o.__.forEach(function(s){s.__N&&(s.__=s.__N),s.u=s.__N=void 0})):(o.__h.forEach(Rt),o.__h.forEach(Kt),o.__h=[],Nt=0)),Jt=dt},ft.diffed=function(t){ye&&ye(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(Se.push(o)!==1&&me===ft.requestAnimationFrame||((me=ft.requestAnimationFrame)||qe)(Xe)),o.__H.__.forEach(function(s){s.u&&(s.__H=s.u),s.u=void 0})),Jt=dt=null},ft.__c=function(t,o){o.some(function(s){try{s.__h.forEach(Rt),s.__h=s.__h.filter(function(a){return!a.__||Kt(a)})}catch(a){o.some(function(l){l.__h&&(l.__h=[])}),o=[],ft.__e(a,s.__v)}}),ve&&ve(t,o)},ft.unmount=function(t){we&&we(t);var o,s=t.__c;s&&s.__H&&(s.__H.__.forEach(function(a){try{Rt(a)}catch(l){o=l}}),s.__H=void 0,o&&ft.__e(o,s.__v))};var xe=typeof requestAnimationFrame=="function";function qe(t){var o,s=function(){clearTimeout(a),xe&&cancelAnimationFrame(o),setTimeout(t)},a=setTimeout(s,35);xe&&(o=requestAnimationFrame(s))}function Rt(t){var o=dt,s=t.__c;typeof s=="function"&&(t.__c=void 0,s()),dt=o}function Kt(t){var o=dt;t.__c=t.__(),dt=o}function Ye(t,o){return!t||t.length!==o.length||o.some(function(s,a){return s!==t[a]})}function Ee(t,o){return typeof o=="function"?o(t):o}var Ae=je(Be());var kt=[{name:"Genesis",startFile:1,chapters:50},{name:"Exodus",startFile:51,chapters:40},{name:"Leviticus",startFile:91,chapters:27},{name:"Numbers",startFile:118,chapters:36},{name:"Deuteronomy",startFile:154,chapters:34},{name:"Joshua",startFile:188,chapters:24},{name:"Judges",startFile:212,chapters:21},{name:"Ruth",startFile:233,chapters:4},{name:"1 Samuel",startFile:237,chapters:31},{name:"2 Samuel",startFile:268,chapters:24},{name:"1 Kings",startFile:292,chapters:22},{name:"2 Kings",startFile:314,chapters:25},{name:"1 Chronicles",startFile:339,chapters:29},{name:"2 Chronicles",startFile:368,chapters:36},{name:"Ezra",startFile:404,chapters:10},{name:"Nehemiah",startFile:414,chapters:13},{name:"Esther",startFile:427,chapters:10},{name:"Job",startFile:437,chapters:42},{name:"Psalms",startFile:479,chapters:150},{name:"Proverbs",startFile:629,chapters:31},{name:"Ecclesiastes",startFile:660,chapters:12},{name:"Songs",startFile:672,chapters:8},{name:"Isaiah",startFile:680,chapters:66},{name:"Jeremiah",startFile:746,chapters:52},{name:"Lamentations",startFile:798,chapters:5},{name:"Ezekiel",startFile:803,chapters:48},{name:"Daniel",startFile:851,chapters:12},{name:"Hosea",startFile:863,chapters:14},{name:"Joel",startFile:877,chapters:3},{name:"Amos",startFile:880,chapters:9},{name:"Obadiah",startFile:889,chapters:1},{name:"Jonah",startFile:890,chapters:4},{name:"Micah",startFile:894,chapters:7},{name:"Nahum",startFile:901,chapters:3},{name:"Habakkuk",startFile:904,chapters:3},{name:"Zephaniah",startFile:907,chapters:3},{name:"Haggai",startFile:910,chapters:2},{name:"Zechariah",startFile:912,chapters:14},{name:"Malachi",startFile:926,chapters:4},{name:"Matthew",startFile:930,chapters:28},{name:"Mark",startFile:958,chapters:16},{name:"Luke",startFile:974,chapters:24},{name:"John",startFile:998,chapters:21},{name:"Acts",startFile:1019,chapters:28},{name:"Romans",startFile:1047,chapters:16},{name:"1 Corinthians",startFile:1063,chapters:16},{name:"2 Corinthians",startFile:1079,chapters:13},{name:"Galatians",startFile:1092,chapters:6},{name:"Ephesians",startFile:1098,chapters:6},{name:"Philippians",startFile:1104,chapters:4},{name:"Colossians",startFile:1108,chapters:4},{name:"1 Thessalonians",startFile:1112,chapters:5},{name:"2 Thessalonians",startFile:1117,chapters:3},{name:"1 Timothy",startFile:1120,chapters:6},{name:"2 Timothy",startFile:1126,chapters:4},{name:"Titus",startFile:1130,chapters:3},{name:"Philemon",startFile:1133,chapters:1},{name:"Hebrews",startFile:1134,chapters:13},{name:"James",startFile:1147,chapters:5},{name:"1 Peter",startFile:1152,chapters:5},{name:"2 Peter",startFile:1157,chapters:3},{name:"1 John",startFile:1160,chapters:5},{name:"2 John",startFile:1165,chapters:1},{name:"3 John",startFile:1166,chapters:1},{name:"Jude",startFile:1167,chapters:1},{name:"Revelation",startFile:1168,chapters:22}];var Qe=0,lr=Array.isArray;function M(t,o,s,a,l,r){o||(o={});var h,m,v=o;if("ref"in v)for(m in v={},o)m=="ref"?h=o[m]:v[m]=o[m];var d={type:t,props:v,key:s,ref:h,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Qe,__i:-1,__u:0,__source:l,__self:r};if(typeof t=="function"&&(h=t.defaultProps))for(m in h)v[m]===void 0&&(v[m]=h[m]);return ut.vnode&&ut.vnode(d),d}var tr=()=>{let[t,o]=mt("bsb"),[s,a]=mt("all"),[l,r]=mt(kt.map(j=>j.name)),[h,m]=mt(3),[v,d]=mt(1),[y,n]=mt(1),[_,u]=mt(1),[p,c]=mt(!1),[b,k]=mt(!1),[x,C]=mt("mixed"),[R,O]=mt(!1),[U,D]=mt(!0),[J,Y]=mt(()=>{let j=new Date,q=j.getFullYear(),V=String(j.getMonth()+1).padStart(2,"0"),Q=String(j.getDate()).padStart(2,"0");return`${q}-${V}-${Q}`}),[w,I]=mt([1,2,3,4,5,6,0]),[i,N]=mt(""),[et,Z]=mt(!1),st=j=>{r(q=>q.includes(j)?q.filter(V=>V!==j):[...q,j])},H=j=>{a("custom");let q=[];if(j==="all"){r(kt.map(V=>V.name));return}else if(j==="none"){r([]);return}else j==="gospels"?q=["Matthew","Mark","Luke","John"]:j==="pentateuch"?q=["Genesis","Exodus","Leviticus","Numbers","Deuteronomy"]:j==="history"?q=["Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther"]:j==="wisdom"?q=["Job","Psalms","Proverbs","Ecclesiastes","Songs"]:j==="major-prophets"?q=["Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel"]:j==="minor-prophets"?q=["Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi"]:j==="paul"?q=["Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon"]:j==="general-epistles"&&(q=["Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation"]);r(V=>q.every(it=>V.includes(it))?V.filter(it=>!q.includes(it)):[...new Set([...V,...q])])},rt=j=>{I(q=>q.includes(j)?q.filter(V=>V!==j):[...q,j].sort())},z=Vt(()=>{let j=s==="all"?kt:kt.filter(T=>l.includes(T.name));if(j.length===0)return[];let q=j.filter(T=>kt.indexOf(T)<39),V=j.filter(T=>kt.indexOf(T)>=39),Q=[],it=[],ot=[];q.forEach(T=>{for(let $=1;$<=T.chapters;$++){let at={book:T.name,chapter:$,file:T.startFile+$-1};T.name==="Psalms"&&p?it.push(at):T.name==="Proverbs"&&b?ot.push(at):Q.push(at)}});let lt=[];V.forEach(T=>{for(let $=1;$<=T.chapters;$++)lt.push({book:T.name,chapter:$,file:T.startFile+$-1})});let ct=[],e=new Date(J),P=0,A=0,g=0,f=0,S=Q.length>0&&h>0?Math.ceil(Q.length/h):0,F=lt.length>0&&v>0?Math.ceil(lt.length/v):0,L=it.length>0&&y>0?Math.ceil(it.length/y):0,E=ot.length>0&&_>0?Math.ceil(ot.length/_):0,W=x==="mixed"?Math.max(S,F,L,E):S+F+L+E,K=0;for(;K<W;){if(!U||w.includes(e.getDay())){let T=[];if(x==="mixed"){for(let $=0;$<h;$++)P<Q.length?T.push(Q[P++]):R&&Q.length>0&&(T.push(Q[P%Q.length]),P++);for(let $=0;$<y;$++)g<it.length?T.push(it[g++]):R&&it.length>0&&(T.push(it[g%it.length]),g++);for(let $=0;$<_;$++)f<ot.length?T.push(ot[f++]):R&&ot.length>0&&(T.push(ot[f%ot.length]),f++);for(let $=0;$<v;$++)A<lt.length?T.push(lt[A++]):R&&lt.length>0&&(T.push(lt[A%lt.length]),A++)}else{let $=h+v+y+_;for(let at=0;at<$;at++)P<Q.length?T.push(Q[P++]):g<it.length?T.push(it[g++]):f<ot.length?T.push(ot[f++]):A<lt.length&&T.push(lt[A++])}T.length>0&&ct.push({date:U?new Date(e):null,chapters:T}),K++}if(U&&e.setDate(e.getDate()+1),ct.length>5e3)break}return ct},[s,l,h,v,y,_,p,b,x,U,J,w,R]),B=Vt(()=>{let j=z.flatMap(Q=>Q.chapters.map(it=>it.file)),q=new Set(j).size,V=j.length;return{uniqueChapters:q,totalChapters:V,downloadSizeMB:q,totalSizeMB:V}},[z]),tt=async()=>{Z(!0),N("Starting EPUB generation...");try{let j=new Ae.default;j.file("mimetype","application/epub+zip",{compression:"STORE"});let q=j.folder("META-INF");if(!q)throw new Error("Failed to create META-INF folder");q.file("container.xml",`<?xml version="1.0"?>
<container version="1.0" xmlns="urn:oasis:names:tc:opendocument:xmlns:container">
  <rootfiles>
    <rootfile full-path="OEBPS/content.opf" media-type="application/oebps-package+xml"/>
  </rootfiles>
</container>`);let V=j.folder("OEBPS");if(!V)throw new Error("Failed to create OEBPS folder");let Q=V.folder("Text");if(!Q)throw new Error("Failed to create Text folder");let it=await fetch("bsb_unzipped/stylesheet.css").then(T=>T.text()),ot=await fetch("bsb_unzipped/page_styles.css").then(T=>T.text());V.file("Styles/stylesheet.css",it),V.file("Styles/page_styles.css",ot);let lt=['<item id="ncx" href="toc.ncx" media-type="application/x-dtbncx+xml"/>','<item id="style" href="Styles/stylesheet.css" media-type="text/css"/>','<item id="page-style" href="Styles/page_styles.css" media-type="text/css"/>'],ct=[],e=[],P=[...new Set(z.flatMap(T=>T.chapters.map($=>$.file)))],A=new Map,g=100;for(let T=0;T<P.length;T+=g){let $=P.slice(T,T+g);N(`Pre-fetching chapters ${T+1} to ${Math.min(T+g,P.length)} of ${P.length}...`),await Promise.all($.map(async at=>{let nt=await G(at);A.set(at,nt)}))}for(let T=0;T<z.length;T++){let $=z[T],at=$.date?$.date.toLocaleDateString():"",nt=$.date?`Day ${T+1} - ${at}`:`Day ${T+1}`,pt=`day_${T+1}.xhtml`;N(`Assembling Day ${T+1} of ${z.length}...`);let bt=`<h1>${nt}</h1>`;bt+=`<div class="day-summary" style="page-break-after: always; border-bottom: 2px solid #eee; margin-bottom: 2rem; padding-bottom: 2rem;">
                    <h2>Today's Readings</h2>
                    <ul style="list-style-type: none; padding: 0; font-size: 1.2em;">
                        ${$.chapters.map(_t=>`<li style="margin-bottom: 0.5rem;"><strong>${_t.book} ${_t.chapter}</strong></li>`).join("")}
                    </ul>
                </div>`;for(let _t of $.chapters){let ht=A.get(_t.file);bt+=`<div class="chapter-container">
                        <h2>${_t.book} ${_t.chapter}</h2>
                        ${ht}
                    </div>`}let gt=`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>${nt}</title>
<link rel="stylesheet" href="../Styles/stylesheet.css" type="text/css"/>
<link rel="stylesheet" href="../Styles/page_styles.css" type="text/css"/>
</head>
<body>
${bt}
</body>
</html>`;Q.file(pt,gt),lt.push(`<item id="day_${T+1}" href="Text/${pt}" media-type="application/xhtml+xml"/>`),ct.push(`<itemref idref="day_${T+1}"/>`),e.push(`<navPoint id="nav_${T+1}" playOrder="${T+1}">
                    <navLabel><text>${nt}</text></navLabel>
                    <content src="Text/${pt}"/>
                </navPoint>`)}let f="credits.xhtml",S=t==="bsb"?"Berean Standard Bible (BSB)":"King James Version (KJV)",L=`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Credits</title>
<link rel="stylesheet" href="../Styles/stylesheet.css" type="text/css"/>
<link rel="stylesheet" href="../Styles/page_styles.css" type="text/css"/>
</head>
<body>
<h1>Credits</h1>
<p>This Bible reading plan was generated using the <strong>Bible Reading Plan Generator</strong>.</p>
<p>
    <strong>Source Code:</strong> <a href="https://github.com/benkaiser/bsb-plan-generator">https://github.com/benkaiser/bsb-plan-generator</a><br/>
    <strong>Website:</strong> <a href="https://benkaiser.github.io/bsb-plan-generator/">https://benkaiser.github.io/bsb-plan-generator/</a>
</p>
<h2>License Information</h2>
${t==="bsb"?'<p><strong>Berean Standard Bible (BSB):</strong> The Berean Standard Bible is public domain. <a href="https://berean.bible/">https://berean.bible/</a></p>':"<p><strong>King James Version (KJV):</strong> The King James Version is in the public domain in most of the world.</p>"}
</body>
</html>`;Q.file(f,L),lt.push(`<item id="credits" href="Text/${f}" media-type="application/xhtml+xml"/>`),ct.push('<itemref idref="credits"/>'),e.push(`<navPoint id="nav_credits" playOrder="${z.length+1}">
                <navLabel><text>Credits</text></navLabel>
                <content src="Text/${f}"/>
            </navPoint>`),V.file("content.opf",`<?xml version="1.0" encoding="utf-8"?>
<package xmlns="http://www.idpf.org/2007/opf" unique-identifier="uuid_id" version="2.0">
  <metadata xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:opf="http://www.idpf.org/2007/opf">
    <dc:title>Bible Reading Plan</dc:title>
    <dc:language>en</dc:language>
    <dc:identifier id="uuid_id" opf:scheme="uuid">bible-plan-${Date.now()}</dc:identifier>
  </metadata>
  <manifest>
    ${lt.join(`
    `)}
  </manifest>
  <spine toc="ncx">
    ${ct.join(`
    `)}
  </spine>
</package>`),V.file("toc.ncx",`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE ncx PUBLIC "-//NISO//DTD ncx 2005-1//EN" "http://www.daisy.org/z3986/2005/ncx-2005-1.dtd">
<ncx xmlns="http://www.daisy.org/2005/ncx/" version="2005-1">
  <head>
    <meta name="dtb:uid" content="bible-plan-${Date.now()}"/>
    <meta name="dtb:depth" content="1"/>
  </head>
  <docTitle><text>Bible Reading Plan</text></docTitle>
  <navMap>
    ${e.join(`
    `)}
    </navMap>
</ncx>`);let E=await j.generateAsync({type:"blob",mimeType:"application/epub+zip"}),W=URL.createObjectURL(E),K=document.createElement("a");K.href=W,K.download="bible_reading_plan.epub",K.click(),N("EPUB generated successfully!")}catch(j){console.error(j),N("Error generating EPUB: "+j.message)}finally{Z(!1)}},X=async()=>{if(!("showDirectoryPicker"in window)){alert("Audiobook generation is only supported in Chrome and Edge. Firefox and Safari do not yet support the necessary File System APIs.");return}let j;try{j=await window.showDirectoryPicker()}catch(q){if(q.name==="AbortError")return;throw q}Z(!0),N("Starting Audiobook generation...");try{let q=z.length.toString().length,V=20,Q=[];z.forEach((F,L)=>{F.chapters.forEach((E,W)=>{Q.push({dayIdx:L,chIdx:W,file:E.file,book:E.book,chapter:E.chapter})})});let it=z.map(F=>new Array(F.chapters.length)),ot=new Array(z.length).fill(0),lt=0,ct=0,e=null,P=async()=>{for(;lt<Q.length&&!e;){if(Q[lt].dayIdx-ct>20){await new Promise($=>setTimeout($,500));continue}let{dayIdx:L,chIdx:E,file:W,book:K,chapter:T}=Q[lt++];try{let $=await fetch(`audio_processed/${W}.mp3`);if(!$.ok)throw new Error(`Failed to fetch audio for ${K} ${T}`);let at=await $.blob(),nt=it[L];nt[E]=at,ot[L]++}catch($){e=$}}},A=Array.from({length:V},P);for(let F=0;F<z.length;F++){for(;ot[F]<z[F].chapters.length&&!e;)await new Promise(_t=>setTimeout(_t,100));if(e)throw e;let L=z[F],W=`Day_${(F+1).toString().padStart(q,"0")}_`,K=".mp3",T=28-W.length-K.length,at=L.chapters.map(_t=>`${_t.book.substring(0,3)}${_t.chapter}`).join("_").replace(/[^a-z0-9_]/gi,"").substring(0,T),nt=`${W}${at}${K}`;N(`Generating Audiobook: ${F+1} / ${z.length} days...`);let pt=new Blob(it[F],{type:"audio/mpeg"}),gt=await(await j.getFileHandle(nt,{create:!0})).createWritable({keepExistingData:!1});await gt.write(pt),await gt.close(),it[F]=null,ct=F}let g=`BSB Bible Reading Plan - Credits

This plan was generated using the BSB Bible Plan Generator.

Source Code: https://github.com/benkaiser/bsb-plan-generator
Website: https://benkaiser.github.io/bsb-plan-generator/

License Information:
- Berean Standard Bible (BSB): The Berean Standard Bible is public domain. https://berean.bible/
- Bible Audio: The audio recording is by Barry Hays and has also been placed in the public domain.
`,S=await(await j.getFileHandle("CREDITS.txt",{create:!0})).createWritable();await S.write(g),await S.close();try{let F=await fetch("img/cover.jpg");if(F.ok){let L=await F.blob(),W=await(await j.getFileHandle("cover.jpg",{create:!0})).createWritable();await W.write(L),await W.close()}}catch(F){console.error("Failed to write cover image",F)}await Promise.all(A),N("Audiobook generated successfully!")}catch(q){console.error(q),N("Error generating audiobook: "+q.message)}finally{Z(!1)}},G=async j=>{let V=`${t==="bsb"?"bsb_unzipped/bsb - final - 7-18-21/OEBPS/Text":"kjv_unzipped/kjv/OEBPS/Text"}/${j}.htm`,ot=(await(await fetch(V)).text()).match(/<body[^>]*>([\s\S]*)<\/body>/i);return ot?ot[1]:""};return M("div",{children:[M("header",{style:{textAlign:"center",marginBottom:"2rem"},children:[M("h1",{children:"Bible Reading Plan Generator"}),M("p",{children:"Generate custom EPUB reading plans and daily Audiobooks from the Bible."})]}),M("section",{children:[M("h2",{children:"1. Bible Version"}),M("div",{class:"grid",children:[M("label",{children:[M("input",{type:"radio",name:"bibleVersion",value:"bsb",checked:t==="bsb",onChange:()=>o("bsb")}),"BSB (Berean Standard Bible)"]}),M("label",{children:[M("input",{type:"radio",name:"bibleVersion",value:"kjv",checked:t==="kjv",onChange:()=>o("kjv")}),"KJV (King James Version)"]})]}),M("p",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"var(--muted-color)"},children:t==="bsb"?"The Berean Standard Bible is a high-quality, modern English translation that has been dedicated to the public domain.":"The King James Version is a classic English translation widely used for centuries."})]}),M("section",{children:[M("h2",{children:"2. Reading Selection"}),M("div",{class:"grid",children:[M("label",{children:[M("input",{type:"radio",name:"selectionMode",value:"all",checked:s==="all",onChange:()=>a("all")}),"Whole Bible"]}),M("label",{children:[M("input",{type:"radio",name:"selectionMode",value:"custom",checked:s==="custom",onChange:()=>a("custom")}),"Custom Selection"]})]}),s==="custom"&&M("div",{children:[M("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem",borderBottom:"1px solid var(--muted-border-color)",paddingBottom:"1rem"},children:[M("button",{type:"button",class:"outline secondary",style:{padding:"0.25rem 0.75rem",fontSize:"0.8rem",marginBottom:0,width:"auto"},onClick:()=>H("all"),children:"Select All"}),M("button",{type:"button",class:"outline secondary",style:{padding:"0.25rem 0.75rem",fontSize:"0.8rem",marginBottom:0,width:"auto"},onClick:()=>H("none"),children:"Select None"})]}),M("div",{class:"grid",style:{gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"0.5rem",marginBottom:"1rem"},children:[M("button",{type:"button",style:{padding:"0.5rem",fontSize:"0.85rem",marginBottom:0},onClick:()=>H("pentateuch"),children:"Pentateuch"}),M("button",{type:"button",style:{padding:"0.5rem",fontSize:"0.85rem",marginBottom:0},onClick:()=>H("history"),children:"History"}),M("button",{type:"button",style:{padding:"0.5rem",fontSize:"0.85rem",marginBottom:0},onClick:()=>H("wisdom"),children:"Wisdom"}),M("button",{type:"button",style:{padding:"0.5rem",fontSize:"0.85rem",marginBottom:0},onClick:()=>H("major-prophets"),children:"Major Prophets"}),M("button",{type:"button",style:{padding:"0.5rem",fontSize:"0.85rem",marginBottom:0},onClick:()=>H("minor-prophets"),children:"Minor Prophets"}),M("button",{type:"button",style:{padding:"0.5rem",fontSize:"0.85rem",marginBottom:0},onClick:()=>H("gospels"),children:"Gospels"}),M("button",{type:"button",style:{padding:"0.5rem",fontSize:"0.85rem",marginBottom:0},onClick:()=>H("paul"),children:"Paul's Letters"}),M("button",{type:"button",style:{padding:"0.5rem",fontSize:"0.85rem",marginBottom:0},onClick:()=>H("general-epistles"),children:"General Epistles"})]}),M("div",{class:"book-selection",children:kt.map(j=>M("label",{class:"book-item",children:[M("input",{type:"checkbox",checked:l.includes(j.name),onChange:()=>st(j.name)}),j.name]},j.name))})]}),M("div",{class:"grid",children:[M("label",{children:["OT Chapters per day:",M("input",{type:"number",value:h,onInput:j=>m(parseInt(j.currentTarget.value)||0),min:"0"})]}),M("label",{children:["NT Chapters per day:",M("input",{type:"number",value:v,onInput:j=>d(parseInt(j.currentTarget.value)||0),min:"0"})]}),p&&M("label",{children:["Psalms per day:",M("input",{type:"number",value:y,onInput:j=>n(parseInt(j.currentTarget.value)||0),min:"1"})]}),b&&M("label",{children:["Proverbs per day:",M("input",{type:"number",value:_,onInput:j=>u(parseInt(j.currentTarget.value)||0),min:"1"})]})]}),M("div",{style:{marginTop:"1rem",display:"flex",gap:"1rem"},children:[M("button",{type:"button",class:p?"":"outline",onClick:()=>c(!p),children:p?"\u2713 Psalms Split Out":"Split out Psalms"}),M("button",{type:"button",class:b?"":"outline",onClick:()=>k(!b),children:b?"\u2713 Proverbs Split Out":"Split out Proverbs"})]})]}),M("section",{children:[M("h2",{children:"3. Plan Style"}),M("div",{class:"grid",style:{alignItems:"end"},children:[M("label",{children:["Order:",M("select",{value:x,onChange:j=>C(j.currentTarget.value),children:[M("option",{value:"mixed",children:"Mixed (OT and NT together)"}),M("option",{value:"sequential",children:"Sequential (OT then NT)"})]})]}),M("div",{style:{marginBottom:"var(--spacing)"},children:M("label",{children:[M("input",{type:"checkbox",checked:U,onChange:j=>D(j.currentTarget.checked)}),"Use Dates"]})})]}),x==="mixed"&&M("div",{style:{marginBottom:"var(--spacing)",padding:"1rem",border:"1px solid var(--muted-border-color)",borderRadius:"var(--border-radius)"},children:[M("label",{style:{marginBottom:"0.5rem"},children:[M("input",{type:"checkbox",checked:R,onChange:j=>O(j.currentTarget.checked)}),"Repeat shorter section to keep daily mix"]}),M("small",{style:{display:"block",marginLeft:"2rem",color:"var(--muted-color)",lineHeight:1.4},children:"If one part of the Bible (like the New Testament) is finished before the other, it will start over from the beginning so you always have both OT and NT readings every day."})]}),U&&M("div",{class:"grid",children:[M("label",{children:["Start Date:",M("input",{type:"date",value:J,onChange:j=>Y(j.currentTarget.value)})]}),M("div",{children:[M("label",{children:"Reading Days:"}),M("div",{class:"day-selection",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((j,q)=>M("label",{class:"day-item",children:[M("input",{type:"checkbox",checked:w.includes(q),onChange:()=>rt(q)}),j]},q))})]})]})]}),M("section",{children:[M("h2",{children:"4. Generate Plan"}),M("p",{children:[z.length," days total"]}),M("div",{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid var(--muted-border-color)",padding:"1rem",marginBottom:"1rem",borderRadius:"var(--border-radius)"},children:[z.slice(0,5).map((j,q)=>M("div",{class:"preview-item",children:[M("span",{class:"preview-date",children:j.date?j.date.toLocaleDateString():`Day ${q+1}`}),M("span",{children:j.chapters.map(V=>`${V.book} ${V.chapter}`).join(", ")})]},q)),z.length>10?M(wt,{children:[M("div",{style:{textAlign:"center",padding:"1rem",color:"var(--muted-color)",borderBottom:"1px solid var(--muted-border-color)"},children:["... ",z.length-10," days omitted ..."]}),z.slice(-5).map((j,q)=>M("div",{class:"preview-item",children:[M("span",{class:"preview-date",children:j.date?j.date.toLocaleDateString():`Day ${z.length-4+q}`}),M("span",{children:j.chapters.map(V=>`${V.book} ${V.chapter}`).join(", ")})]},`end-${q}`))]}):z.slice(5).map((j,q)=>M("div",{class:"preview-item",children:[M("span",{class:"preview-date",children:j.date?j.date.toLocaleDateString():`Day ${6+q}`}),M("span",{children:j.chapters.map(V=>`${V.book} ${V.chapter}`).join(", ")})]},`mid-${q}`))]}),M("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginTop:"1rem"},children:[M("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[M("button",{onClick:tt,disabled:et||z.length===0,children:et?"Generating...":"Download EPUB"}),M("button",{onClick:X,disabled:et||z.length===0||t!=="bsb",class:"secondary",children:et?"Generating...":"Generate Audiobook (BSB only)"})]}),z.length>0&&M("div",{style:{background:"var(--card-section-background-color)",padding:"1rem",borderRadius:"var(--border-radius)",border:"1px solid var(--muted-border-color)"},children:[M("p",{style:{margin:0},children:M("strong",{children:"Audiobook Info:"})}),M("ul",{style:{margin:"0.5rem 0 0 0",paddingLeft:"1.5rem",fontSize:"0.9rem"},children:[M("li",{children:"Audio is only available for BSB (Berean Standard Bible)."}),M("li",{children:["Estimated: ",B.downloadSizeMB,"MB download, ",B.totalSizeMB,"MB total on disk."]}),M("li",{children:"Requires a folder selection to save daily MP3 files."}),M("li",{style:{color:"var(--secondary)"},children:["Note: Audiobook generation is only supported in ",M("strong",{children:"Chrome"})," and ",M("strong",{children:"Edge"}),"."]})]})]})]}),i&&M("p",{style:{marginTop:"1rem"},children:M("small",{children:i})})]})]})};_e(M(tr,{}),document.getElementById("app"));})();
/*! Bundled license information:

jszip/dist/jszip.min.js:
  (*!
  
  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  *)
*/
