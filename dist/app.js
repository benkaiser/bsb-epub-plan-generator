(()=>{var Ne=Object.create;var te=Object.defineProperty;var Ue=Object.getOwnPropertyDescriptor;var Le=Object.getOwnPropertyNames;var $e=Object.getPrototypeOf,je=Object.prototype.hasOwnProperty;var Ct=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(s,o)=>(typeof require<"u"?require:s)[o]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Me=(t,s)=>()=>(s||t((s={exports:{}}).exports,s),s.exports);var We=(t,s,o,i)=>{if(s&&typeof s=="object"||typeof s=="function")for(let l of Le(s))!je.call(t,l)&&l!==o&&te(t,l,{get:()=>s[l],enumerable:!(i=Ue(s,l))||i.enumerable});return t};var Ze=(t,s,o)=>(o=t!=null?Ne($e(t)):{},We(s||!t||!t.__esModule?te(o,"default",{value:t,enumerable:!0}):o,t));var De=Me((Oe,Vt)=>{(function(t){typeof Oe=="object"&&typeof Vt<"u"?Vt.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=t()})(function(){return function t(s,o,i){function l(m,v){if(!o[m]){if(!s[m]){var c=typeof Ct=="function"&&Ct;if(!v&&c)return c(m,!0);if(r)return r(m,!0);var b=new Error("Cannot find module '"+m+"'");throw b.code="MODULE_NOT_FOUND",b}var n=o[m]={exports:{}};s[m][0].call(n.exports,function(f){var h=s[m][1][f];return l(h||f)},n,n.exports,t,s,o,i)}return o[m].exports}for(var r=typeof Ct=="function"&&Ct,u=0;u<i.length;u++)l(i[u]);return l}({1:[function(t,s,o){"use strict";var i=t("./utils"),l=t("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(u){for(var m,v,c,b,n,f,h,_=[],d=0,y=u.length,w=y,S=i.getTypeOf(u)!=="string";d<u.length;)w=y-d,c=S?(m=u[d++],v=d<y?u[d++]:0,d<y?u[d++]:0):(m=u.charCodeAt(d++),v=d<y?u.charCodeAt(d++):0,d<y?u.charCodeAt(d++):0),b=m>>2,n=(3&m)<<4|v>>4,f=1<w?(15&v)<<2|c>>6:64,h=2<w?63&c:64,_.push(r.charAt(b)+r.charAt(n)+r.charAt(f)+r.charAt(h));return _.join("")},o.decode=function(u){var m,v,c,b,n,f,h=0,_=0,d="data:";if(u.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var y,w=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===r.charAt(64)&&w--,u.charAt(u.length-2)===r.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=l.uint8array?new Uint8Array(0|w):new Array(0|w);h<u.length;)m=r.indexOf(u.charAt(h++))<<2|(b=r.indexOf(u.charAt(h++)))>>4,v=(15&b)<<4|(n=r.indexOf(u.charAt(h++)))>>2,c=(3&n)<<6|(f=r.indexOf(u.charAt(h++))),y[_++]=m,n!==64&&(y[_++]=v),f!==64&&(y[_++]=c);return y}},{"./support":30,"./utils":32}],2:[function(t,s,o){"use strict";var i=t("./external"),l=t("./stream/DataWorker"),r=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function m(v,c,b,n,f){this.compressedSize=v,this.uncompressedSize=c,this.crc32=b,this.compression=n,this.compressedContent=f}m.prototype={getContentWorker:function(){var v=new l(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),c=this;return v.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new l(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(v,c,b){return v.pipe(new r).pipe(new u("uncompressedSize")).pipe(c.compressWorker(b)).pipe(new u("compressedSize")).withStreamInfo("compression",c)},s.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,s,o){"use strict";var i=t("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},o.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,s,o){"use strict";var i=t("./utils"),l=function(){for(var r,u=[],m=0;m<256;m++){r=m;for(var v=0;v<8;v++)r=1&r?3988292384^r>>>1:r>>>1;u[m]=r}return u}();s.exports=function(r,u){return r!==void 0&&r.length?i.getTypeOf(r)!=="string"?function(m,v,c,b){var n=l,f=b+c;m^=-1;for(var h=b;h<f;h++)m=m>>>8^n[255&(m^v[h])];return-1^m}(0|u,r,r.length,0):function(m,v,c,b){var n=l,f=b+c;m^=-1;for(var h=b;h<f;h++)m=m>>>8^n[255&(m^v.charCodeAt(h))];return-1^m}(0|u,r,r.length,0):0}},{"./utils":32}],5:[function(t,s,o){"use strict";o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(t,s,o){"use strict";var i=null;i=typeof Promise<"u"?Promise:t("lie"),s.exports={Promise:i}},{lie:37}],7:[function(t,s,o){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=t("pako"),r=t("./utils"),u=t("./stream/GenericWorker"),m=i?"uint8array":"array";function v(c,b){u.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=b,this.meta={}}o.magic="\b\0",r.inherits(v,u),v.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(m,c.data),!1)},v.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(b){c.push({data:b,meta:c.meta})}},o.compressWorker=function(c){return new v("Deflate",c)},o.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,s,o){"use strict";function i(n,f){var h,_="";for(h=0;h<f;h++)_+=String.fromCharCode(255&n),n>>>=8;return _}function l(n,f,h,_,d,y){var w,S,C=n.file,U=n.compression,B=y!==m.utf8encode,W=r.transformTo("string",y(C.name)),T=r.transformTo("string",m.utf8encode(C.name)),G=C.comment,q=r.transformTo("string",y(G)),k=r.transformTo("string",m.utf8encode(G)),O=T.length!==C.name.length,a=k.length!==G.length,$="",tt="",M="",et=C.dir,j=C.date,X={crc32:0,compressedSize:0,uncompressedSize:0};f&&!h||(X.crc32=n.crc32,X.compressedSize=n.compressedSize,X.uncompressedSize=n.uncompressedSize);var D=0;f&&(D|=8),B||!O&&!a||(D|=2048);var A=0,V=0;et&&(A|=16),d==="UNIX"?(V=798,A|=function(R,Y){var rt=R;return R||(rt=Y?16893:33204),(65535&rt)<<16}(C.unixPermissions,et)):(V=20,A|=function(R){return 63&(R||0)}(C.dosPermissions)),w=j.getUTCHours(),w<<=6,w|=j.getUTCMinutes(),w<<=5,w|=j.getUTCSeconds()/2,S=j.getUTCFullYear()-1980,S<<=4,S|=j.getUTCMonth()+1,S<<=5,S|=j.getUTCDate(),O&&(tt=i(1,1)+i(v(W),4)+T,$+="up"+i(tt.length,2)+tt),a&&(M=i(1,1)+i(v(q),4)+k,$+="uc"+i(M.length,2)+M);var F="";return F+=`
\0`,F+=i(D,2),F+=U.magic,F+=i(w,2),F+=i(S,2),F+=i(X.crc32,4),F+=i(X.compressedSize,4),F+=i(X.uncompressedSize,4),F+=i(W.length,2),F+=i($.length,2),{fileRecord:c.LOCAL_FILE_HEADER+F+W+$,dirRecord:c.CENTRAL_FILE_HEADER+i(V,2)+F+i(q.length,2)+"\0\0\0\0"+i(A,4)+i(_,4)+W+$+q}}var r=t("../utils"),u=t("../stream/GenericWorker"),m=t("../utf8"),v=t("../crc32"),c=t("../signature");function b(n,f,h,_){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=f,this.zipPlatform=h,this.encodeFileName=_,this.streamFiles=n,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(b,u),b.prototype.push=function(n){var f=n.meta.percent||0,h=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(n):(this.bytesWritten+=n.data.length,u.prototype.push.call(this,{data:n.data,meta:{currentFile:this.currentFile,percent:h?(f+100*(h-_-1))/h:100}}))},b.prototype.openedSource=function(n){this.currentSourceOffset=this.bytesWritten,this.currentFile=n.file.name;var f=this.streamFiles&&!n.file.dir;if(f){var h=l(n,f,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(n){this.accumulate=!1;var f=this.streamFiles&&!n.file.dir,h=l(n,f,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),f)this.push({data:function(_){return c.DATA_DESCRIPTOR+i(_.crc32,4)+i(_.compressedSize,4)+i(_.uncompressedSize,4)}(n),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var n=this.bytesWritten,f=0;f<this.dirRecords.length;f++)this.push({data:this.dirRecords[f],meta:{percent:100}});var h=this.bytesWritten-n,_=function(d,y,w,S,C){var U=r.transformTo("string",C(S));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(d,2)+i(d,2)+i(y,4)+i(w,4)+i(U.length,2)+U}(this.dirRecords.length,h,n,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(n){this._sources.push(n);var f=this;return n.on("data",function(h){f.processChunk(h)}),n.on("end",function(){f.closedSource(f.previous.streamInfo),f._sources.length?f.prepareNextSource():f.end()}),n.on("error",function(h){f.error(h)}),this},b.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(n){var f=this._sources;if(!u.prototype.error.call(this,n))return!1;for(var h=0;h<f.length;h++)try{f[h].error(n)}catch{}return!0},b.prototype.lock=function(){u.prototype.lock.call(this);for(var n=this._sources,f=0;f<n.length;f++)n[f].lock()},s.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,s,o){"use strict";var i=t("../compressions"),l=t("./ZipFileWorker");o.generateWorker=function(r,u,m){var v=new l(u.streamFiles,m,u.platform,u.encodeFileName),c=0;try{r.forEach(function(b,n){c++;var f=function(y,w){var S=y||w,C=i[S];if(!C)throw new Error(S+" is not a valid compression method !");return C}(n.options.compression,u.compression),h=n.options.compressionOptions||u.compressionOptions||{},_=n.dir,d=n.date;n._compressWorker(f,h).withStreamInfo("file",{name:b,dir:_,date:d,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(v)}),v.entriesCount=c}catch(b){v.error(b)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,s,o){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new i;for(var r in this)typeof this[r]!="function"&&(l[r]=this[r]);return l}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.1",i.loadAsync=function(l,r){return new i().loadAsync(l,r)},i.external=t("./external"),s.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,s,o){"use strict";var i=t("./utils"),l=t("./external"),r=t("./utf8"),u=t("./zipEntries"),m=t("./stream/Crc32Probe"),v=t("./nodejsUtils");function c(b){return new l.Promise(function(n,f){var h=b.decompressed.getContentWorker().pipe(new m);h.on("error",function(_){f(_)}).on("end",function(){h.streamInfo.crc32!==b.decompressed.crc32?f(new Error("Corrupted zip : CRC32 mismatch")):n()}).resume()})}s.exports=function(b,n){var f=this;return n=i.extend(n||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),v.isNode&&v.isStream(b)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",b,!0,n.optimizedBinaryString,n.base64).then(function(h){var _=new u(n);return _.load(h),_}).then(function(h){var _=[l.Promise.resolve(h)],d=h.files;if(n.checkCRC32)for(var y=0;y<d.length;y++)_.push(c(d[y]));return l.Promise.all(_)}).then(function(h){for(var _=h.shift(),d=_.files,y=0;y<d.length;y++){var w=d[y],S=w.fileNameStr,C=i.resolve(w.fileNameStr);f.file(C,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:n.createFolders}),w.dir||(f.file(C).unsafeOriginalName=S)}return _.zipComment.length&&(f.comment=_.zipComment),f})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,s,o){"use strict";var i=t("../utils"),l=t("../stream/GenericWorker");function r(u,m){l.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(m)}i.inherits(r,l),r.prototype._bindStream=function(u){var m=this;(this._stream=u).pause(),u.on("data",function(v){m.push({data:v,meta:{percent:0}})}).on("error",function(v){m.isPaused?this.generatedError=v:m.error(v)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},r.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,s,o){"use strict";var i=t("readable-stream").Readable;function l(r,u,m){i.call(this,u),this._helper=r;var v=this;r.on("data",function(c,b){v.push(c)||v._helper.pause(),m&&m(b)}).on("error",function(c){v.emit("error",c)}).on("end",function(){v.push(null)})}t("../utils").inherits(l,i),l.prototype._read=function(){this._helper.resume()},s.exports=l},{"../utils":32,"readable-stream":16}],14:[function(t,s,o){"use strict";s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,l);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,l)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var l=new Buffer(i);return l.fill(0),l},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(t,s,o){"use strict";function i(C,U,B){var W,T=r.getTypeOf(U),G=r.extend(B||{},v);G.date=G.date||new Date,G.compression!==null&&(G.compression=G.compression.toUpperCase()),typeof G.unixPermissions=="string"&&(G.unixPermissions=parseInt(G.unixPermissions,8)),G.unixPermissions&&16384&G.unixPermissions&&(G.dir=!0),G.dosPermissions&&16&G.dosPermissions&&(G.dir=!0),G.dir&&(C=d(C)),G.createFolders&&(W=_(C))&&y.call(this,W,!0);var q=T==="string"&&G.binary===!1&&G.base64===!1;B&&B.binary!==void 0||(G.binary=!q),(U instanceof c&&U.uncompressedSize===0||G.dir||!U||U.length===0)&&(G.base64=!1,G.binary=!0,U="",G.compression="STORE",T="string");var k=null;k=U instanceof c||U instanceof u?U:f.isNode&&f.isStream(U)?new h(C,U):r.prepareContent(C,U,G.binary,G.optimizedBinaryString,G.base64);var O=new b(C,k,G);this.files[C]=O}var l=t("./utf8"),r=t("./utils"),u=t("./stream/GenericWorker"),m=t("./stream/StreamHelper"),v=t("./defaults"),c=t("./compressedObject"),b=t("./zipObject"),n=t("./generate"),f=t("./nodejsUtils"),h=t("./nodejs/NodejsStreamInputAdapter"),_=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var U=C.lastIndexOf("/");return 0<U?C.substring(0,U):""},d=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},y=function(C,U){return U=U!==void 0?U:v.createFolders,C=d(C),this.files[C]||i.call(this,C,null,{dir:!0,createFolders:U}),this.files[C]};function w(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var U,B,W;for(U in this.files)W=this.files[U],(B=U.slice(this.root.length,U.length))&&U.slice(0,this.root.length)===this.root&&C(B,W)},filter:function(C){var U=[];return this.forEach(function(B,W){C(B,W)&&U.push(W)}),U},file:function(C,U,B){if(arguments.length!==1)return C=this.root+C,i.call(this,C,U,B),this;if(w(C)){var W=C;return this.filter(function(G,q){return!q.dir&&W.test(G)})}var T=this.files[this.root+C];return T&&!T.dir?T:null},folder:function(C){if(!C)return this;if(w(C))return this.filter(function(T,G){return G.dir&&C.test(T)});var U=this.root+C,B=y.call(this,U),W=this.clone();return W.root=B.name,W},remove:function(C){C=this.root+C;var U=this.files[C];if(U||(C.slice(-1)!=="/"&&(C+="/"),U=this.files[C]),U&&!U.dir)delete this.files[C];else for(var B=this.filter(function(T,G){return G.name.slice(0,C.length)===C}),W=0;W<B.length;W++)delete this.files[B[W].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var U,B={};try{if((B=r.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");r.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var W=B.comment||this.comment||"";U=n.generateWorker(this,B,W)}catch(T){(U=new u("error")).error(T)}return new m(U,B.type||"string",B.mimeType)},generateAsync:function(C,U){return this.generateInternalStream(C).accumulate(U)},generateNodeStream:function(C,U){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(U)}};s.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,s,o){"use strict";s.exports=t("stream")},{stream:void 0}],17:[function(t,s,o){"use strict";var i=t("./DataReader");function l(r){i.call(this,r);for(var u=0;u<this.data.length;u++)r[u]=255&r[u]}t("../utils").inherits(l,i),l.prototype.byteAt=function(r){return this.data[this.zero+r]},l.prototype.lastIndexOfSignature=function(r){for(var u=r.charCodeAt(0),m=r.charCodeAt(1),v=r.charCodeAt(2),c=r.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===u&&this.data[b+1]===m&&this.data[b+2]===v&&this.data[b+3]===c)return b-this.zero;return-1},l.prototype.readAndCheckSignature=function(r){var u=r.charCodeAt(0),m=r.charCodeAt(1),v=r.charCodeAt(2),c=r.charCodeAt(3),b=this.readData(4);return u===b[0]&&m===b[1]&&v===b[2]&&c===b[3]},l.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},s.exports=l},{"../utils":32,"./DataReader":18}],18:[function(t,s,o){"use strict";var i=t("../utils");function l(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var u,m=0;for(this.checkOffset(r),u=this.index+r-1;u>=this.index;u--)m=(m<<8)+this.byteAt(u);return this.index+=r,m},readString:function(r){return i.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},s.exports=l},{"../utils":32}],19:[function(t,s,o){"use strict";var i=t("./Uint8ArrayReader");function l(r){i.call(this,r)}t("../utils").inherits(l,i),l.prototype.readData=function(r){this.checkOffset(r);var u=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},s.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,s,o){"use strict";var i=t("./DataReader");function l(r){i.call(this,r)}t("../utils").inherits(l,i),l.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},l.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},l.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},l.prototype.readData=function(r){this.checkOffset(r);var u=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},s.exports=l},{"../utils":32,"./DataReader":18}],21:[function(t,s,o){"use strict";var i=t("./ArrayReader");function l(r){i.call(this,r)}t("../utils").inherits(l,i),l.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},s.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(t,s,o){"use strict";var i=t("../utils"),l=t("../support"),r=t("./ArrayReader"),u=t("./StringReader"),m=t("./NodeBufferReader"),v=t("./Uint8ArrayReader");s.exports=function(c){var b=i.getTypeOf(c);return i.checkSupport(b),b!=="string"||l.uint8array?b==="nodebuffer"?new m(c):l.uint8array?new v(i.transformTo("uint8array",c)):new r(i.transformTo("array",c)):new u(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,s,o){"use strict";o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,s,o){"use strict";var i=t("./GenericWorker"),l=t("../utils");function r(u){i.call(this,"ConvertWorker to "+u),this.destType=u}l.inherits(r,i),r.prototype.processChunk=function(u){this.push({data:l.transformTo(this.destType,u.data),meta:u.meta})},s.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(t,s,o){"use strict";var i=t("./GenericWorker"),l=t("../crc32");function r(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(r,i),r.prototype.processChunk=function(u){this.streamInfo.crc32=l(u.data,this.streamInfo.crc32||0),this.push(u)},s.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,s,o){"use strict";var i=t("../utils"),l=t("./GenericWorker");function r(u){l.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}i.inherits(r,l),r.prototype.processChunk=function(u){if(u){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+u.data.length}l.prototype.processChunk.call(this,u)},s.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(t,s,o){"use strict";var i=t("../utils"),l=t("./GenericWorker");function r(u){l.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(v){m.dataIsReady=!0,m.data=v,m.max=v&&v.length||0,m.type=i.getTypeOf(v),m.isPaused||m._tickAndRepeat()},function(v){m.error(v)})}i.inherits(r,l),r.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,m);break;case"uint8array":u=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":u=this.data.slice(this.index,m)}return this.index=m,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(t,s,o){"use strict";function i(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,r){return this._listeners[l].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,r){if(this._listeners[l])for(var u=0;u<this._listeners[l].length;u++)this._listeners[l][u].call(this,r)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var r=this;return l.on("data",function(u){r.processChunk(u)}),l.on("end",function(){r.end()}),l.on("error",function(u){r.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,r){return this.extraStreamInfo[l]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},s.exports=i},{}],29:[function(t,s,o){"use strict";var i=t("../utils"),l=t("./ConvertWorker"),r=t("./GenericWorker"),u=t("../base64"),m=t("../support"),v=t("../external"),c=null;if(m.nodestream)try{c=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(f,h){return new v.Promise(function(_,d){var y=[],w=f._internalType,S=f._outputType,C=f._mimeType;f.on("data",function(U,B){y.push(U),h&&h(B)}).on("error",function(U){y=[],d(U)}).on("end",function(){try{var U=function(B,W,T){switch(B){case"blob":return i.newBlob(i.transformTo("arraybuffer",W),T);case"base64":return u.encode(W);default:return i.transformTo(B,W)}}(S,function(B,W){var T,G=0,q=null,k=0;for(T=0;T<W.length;T++)k+=W[T].length;switch(B){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(q=new Uint8Array(k),T=0;T<W.length;T++)q.set(W[T],G),G+=W[T].length;return q;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+B+"'")}}(w,y),C);_(U)}catch(B){d(B)}y=[]}).resume()})}function n(f,h,_){var d=h;switch(h){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=h,this._mimeType=_,i.checkSupport(d),this._worker=f.pipe(new l(d)),f.lock()}catch(y){this._worker=new r("error"),this._worker.error(y)}}n.prototype={accumulate:function(f){return b(this,f)},on:function(f,h){var _=this;return f==="data"?this._worker.on(f,function(d){h.call(_,d.data,d.meta)}):this._worker.on(f,function(){i.delay(h,arguments,_)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(f){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},f)}},s.exports=n},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,s,o){"use strict";if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var i=new ArrayBuffer(0);try{o.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(i),o.blob=l.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!t("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(t,s,o){"use strict";for(var i=t("./utils"),l=t("./support"),r=t("./nodejsUtils"),u=t("./stream/GenericWorker"),m=new Array(256),v=0;v<256;v++)m[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;m[254]=m[254]=1;function c(){u.call(this,"utf-8 decode"),this.leftOver=null}function b(){u.call(this,"utf-8 encode")}o.utf8encode=function(n){return l.nodebuffer?r.newBufferFrom(n,"utf-8"):function(f){var h,_,d,y,w,S=f.length,C=0;for(y=0;y<S;y++)(64512&(_=f.charCodeAt(y)))==55296&&y+1<S&&(64512&(d=f.charCodeAt(y+1)))==56320&&(_=65536+(_-55296<<10)+(d-56320),y++),C+=_<128?1:_<2048?2:_<65536?3:4;for(h=l.uint8array?new Uint8Array(C):new Array(C),y=w=0;w<C;y++)(64512&(_=f.charCodeAt(y)))==55296&&y+1<S&&(64512&(d=f.charCodeAt(y+1)))==56320&&(_=65536+(_-55296<<10)+(d-56320),y++),_<128?h[w++]=_:(_<2048?h[w++]=192|_>>>6:(_<65536?h[w++]=224|_>>>12:(h[w++]=240|_>>>18,h[w++]=128|_>>>12&63),h[w++]=128|_>>>6&63),h[w++]=128|63&_);return h}(n)},o.utf8decode=function(n){return l.nodebuffer?i.transformTo("nodebuffer",n).toString("utf-8"):function(f){var h,_,d,y,w=f.length,S=new Array(2*w);for(h=_=0;h<w;)if((d=f[h++])<128)S[_++]=d;else if(4<(y=m[d]))S[_++]=65533,h+=y-1;else{for(d&=y===2?31:y===3?15:7;1<y&&h<w;)d=d<<6|63&f[h++],y--;1<y?S[_++]=65533:d<65536?S[_++]=d:(d-=65536,S[_++]=55296|d>>10&1023,S[_++]=56320|1023&d)}return S.length!==_&&(S.subarray?S=S.subarray(0,_):S.length=_),i.applyFromCharCode(S)}(n=i.transformTo(l.uint8array?"uint8array":"array",n))},i.inherits(c,u),c.prototype.processChunk=function(n){var f=i.transformTo(l.uint8array?"uint8array":"array",n.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var h=f;(f=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),f.set(h,this.leftOver.length)}else f=this.leftOver.concat(f);this.leftOver=null}var _=function(y,w){var S;for((w=w||y.length)>y.length&&(w=y.length),S=w-1;0<=S&&(192&y[S])==128;)S--;return S<0||S===0?w:S+m[y[S]]>w?S:w}(f),d=f;_!==f.length&&(l.uint8array?(d=f.subarray(0,_),this.leftOver=f.subarray(_,f.length)):(d=f.slice(0,_),this.leftOver=f.slice(_,f.length))),this.push({data:o.utf8decode(d),meta:n.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=c,i.inherits(b,u),b.prototype.processChunk=function(n){this.push({data:o.utf8encode(n.data),meta:n.meta})},o.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,s,o){"use strict";var i=t("./support"),l=t("./base64"),r=t("./nodejsUtils"),u=t("./external");function m(h){return h}function v(h,_){for(var d=0;d<h.length;++d)_[d]=255&h.charCodeAt(d);return _}t("setimmediate"),o.newBlob=function(h,_){o.checkSupport("blob");try{return new Blob([h],{type:_})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(h),d.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(h,_,d){var y=[],w=0,S=h.length;if(S<=d)return String.fromCharCode.apply(null,h);for(;w<S;)_==="array"||_==="nodebuffer"?y.push(String.fromCharCode.apply(null,h.slice(w,Math.min(w+d,S)))):y.push(String.fromCharCode.apply(null,h.subarray(w,Math.min(w+d,S)))),w+=d;return y.join("")},stringifyByChar:function(h){for(var _="",d=0;d<h.length;d++)_+=String.fromCharCode(h[d]);return _},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function b(h){var _=65536,d=o.getTypeOf(h),y=!0;if(d==="uint8array"?y=c.applyCanBeUsed.uint8array:d==="nodebuffer"&&(y=c.applyCanBeUsed.nodebuffer),y)for(;1<_;)try{return c.stringifyByChunk(h,d,_)}catch{_=Math.floor(_/2)}return c.stringifyByChar(h)}function n(h,_){for(var d=0;d<h.length;d++)_[d]=h[d];return _}o.applyFromCharCode=b;var f={};f.string={string:m,array:function(h){return v(h,new Array(h.length))},arraybuffer:function(h){return f.string.uint8array(h).buffer},uint8array:function(h){return v(h,new Uint8Array(h.length))},nodebuffer:function(h){return v(h,r.allocBuffer(h.length))}},f.array={string:b,array:m,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return r.newBufferFrom(h)}},f.arraybuffer={string:function(h){return b(new Uint8Array(h))},array:function(h){return n(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:m,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return r.newBufferFrom(new Uint8Array(h))}},f.uint8array={string:b,array:function(h){return n(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:m,nodebuffer:function(h){return r.newBufferFrom(h)}},f.nodebuffer={string:b,array:function(h){return n(h,new Array(h.length))},arraybuffer:function(h){return f.nodebuffer.uint8array(h).buffer},uint8array:function(h){return n(h,new Uint8Array(h.length))},nodebuffer:m},o.transformTo=function(h,_){if(_=_||"",!h)return _;o.checkSupport(h);var d=o.getTypeOf(_);return f[d][h](_)},o.resolve=function(h){for(var _=h.split("/"),d=[],y=0;y<_.length;y++){var w=_[y];w==="."||w===""&&y!==0&&y!==_.length-1||(w===".."?d.pop():d.push(w))}return d.join("/")},o.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":i.nodebuffer&&r.isBuffer(h)?"nodebuffer":i.uint8array&&h instanceof Uint8Array?"uint8array":i.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(h){if(!i[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(h){var _,d,y="";for(d=0;d<(h||"").length;d++)y+="\\x"+((_=h.charCodeAt(d))<16?"0":"")+_.toString(16).toUpperCase();return y},o.delay=function(h,_,d){setImmediate(function(){h.apply(d||null,_||[])})},o.inherits=function(h,_){function d(){}d.prototype=_.prototype,h.prototype=new d},o.extend=function(){var h,_,d={};for(h=0;h<arguments.length;h++)for(_ in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],_)&&d[_]===void 0&&(d[_]=arguments[h][_]);return d},o.prepareContent=function(h,_,d,y,w){return u.Promise.resolve(_).then(function(S){return i.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new u.Promise(function(C,U){var B=new FileReader;B.onload=function(W){C(W.target.result)},B.onerror=function(W){U(W.target.error)},B.readAsArrayBuffer(S)}):S}).then(function(S){var C=o.getTypeOf(S);return C?(C==="arraybuffer"?S=o.transformTo("uint8array",S):C==="string"&&(w?S=l.decode(S):d&&y!==!0&&(S=function(U){return v(U,i.uint8array?new Uint8Array(U.length):new Array(U.length))}(S))),S):u.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,s,o){"use strict";var i=t("./reader/readerFor"),l=t("./utils"),r=t("./signature"),u=t("./zipEntry"),m=t("./support");function v(c){this.files=[],this.loadOptions=c}v.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(b)+", expected "+l.pretty(c)+")")}},isSignature:function(c,b){var n=this.reader.index;this.reader.setIndex(c);var f=this.reader.readString(4)===b;return this.reader.setIndex(n),f},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),b=m.uint8array?"uint8array":"array",n=l.transformTo(b,c);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,b,n,f=this.zip64EndOfCentralSize-44;0<f;)c=this.reader.readInt(2),b=this.reader.readInt(4),n=this.reader.readData(b),this.zip64ExtensibleData[c]={id:c,length:b,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,b;for(c=0;c<this.files.length;c++)b=this.files[c],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(c=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var b=c;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var f=b-n;if(0<f)this.isSignature(b,r.CENTRAL_FILE_HEADER)||(this.reader.zero=f);else if(f<0)throw new Error("Corrupted zip: missing "+Math.abs(f)+" bytes.")},prepareReader:function(c){this.reader=i(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,s,o){"use strict";var i=t("./reader/readerFor"),l=t("./utils"),r=t("./compressedObject"),u=t("./crc32"),m=t("./utf8"),v=t("./compressions"),c=t("./support");function b(n,f){this.options=n,this.loadOptions=f}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(n){var f,h;if(n.skip(22),this.fileNameLength=n.readInt(2),h=n.readInt(2),this.fileName=n.readData(this.fileNameLength),n.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((f=function(_){for(var d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&v[d].magic===_)return v[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,f,n.readData(this.compressedSize))},readCentralPart:function(n){this.versionMadeBy=n.readInt(2),n.skip(2),this.bitFlag=n.readInt(2),this.compressionMethod=n.readString(2),this.date=n.readDate(),this.crc32=n.readInt(4),this.compressedSize=n.readInt(4),this.uncompressedSize=n.readInt(4);var f=n.readInt(2);if(this.extraFieldsLength=n.readInt(2),this.fileCommentLength=n.readInt(2),this.diskNumberStart=n.readInt(2),this.internalFileAttributes=n.readInt(2),this.externalFileAttributes=n.readInt(4),this.localHeaderOffset=n.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");n.skip(f),this.readExtraFields(n),this.parseZIP64ExtraField(n),this.fileComment=n.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var n=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),n==0&&(this.dosPermissions=63&this.externalFileAttributes),n==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var n=i(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=n.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=n.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=n.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=n.readInt(4))}},readExtraFields:function(n){var f,h,_,d=n.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});n.index+4<d;)f=n.readInt(2),h=n.readInt(2),_=n.readData(h),this.extraFields[f]={id:f,length:h,value:_};n.setIndex(d)},handleUTF8:function(){var n=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var f=this.findExtraFieldUnicodePath();if(f!==null)this.fileNameStr=f;else{var h=l.transformTo(n,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var d=l.transformTo(n,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var n=this.extraFields[28789];if(n){var f=i(n.value);return f.readInt(1)!==1||u(this.fileName)!==f.readInt(4)?null:m.utf8decode(f.readData(n.length-5))}return null},findExtraFieldUnicodeComment:function(){var n=this.extraFields[25461];if(n){var f=i(n.value);return f.readInt(1)!==1||u(this.fileComment)!==f.readInt(4)?null:m.utf8decode(f.readData(n.length-5))}return null}},s.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,s,o){"use strict";function i(f,h,_){this.name=f,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=h,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var l=t("./stream/StreamHelper"),r=t("./stream/DataWorker"),u=t("./utf8"),m=t("./compressedObject"),v=t("./stream/GenericWorker");i.prototype={internalStream:function(f){var h=null,_="string";try{if(!f)throw new Error("No output type specified.");var d=(_=f.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),h=this._decompressWorker();var y=!this._dataBinary;y&&!d&&(h=h.pipe(new u.Utf8EncodeWorker)),!y&&d&&(h=h.pipe(new u.Utf8DecodeWorker))}catch(w){(h=new v("error")).error(w)}return new l(h,_,"")},async:function(f,h){return this.internalStream(f).accumulate(h)},nodeStream:function(f,h){return this.internalStream(f||"nodebuffer").toNodejsStream(h)},_compressWorker:function(f,h){if(this._data instanceof m&&this._data.compression.magic===f.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new u.Utf8EncodeWorker)),m.createWorkerFrom(_,f,h)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof v?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},n=0;n<c.length;n++)i.prototype[c[n]]=b;s.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,s,o){(function(i){"use strict";var l,r,u=i.MutationObserver||i.WebKitMutationObserver;if(u){var m=0,v=new u(f),c=i.document.createTextNode("");v.observe(c,{characterData:!0}),l=function(){c.data=m=++m%2}}else if(i.setImmediate||i.MessageChannel===void 0)l="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var h=i.document.createElement("script");h.onreadystatechange=function(){f(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},i.document.documentElement.appendChild(h)}:function(){setTimeout(f,0)};else{var b=new i.MessageChannel;b.port1.onmessage=f,l=function(){b.port2.postMessage(0)}}var n=[];function f(){var h,_;r=!0;for(var d=n.length;d;){for(_=n,n=[],h=-1;++h<d;)_[h]();d=n.length}r=!1}s.exports=function(h){n.push(h)!==1||r||l()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,s,o){"use strict";var i=t("immediate");function l(){}var r={},u=["REJECTED"],m=["FULFILLED"],v=["PENDING"];function c(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,d!==l&&h(this,d)}function b(d,y,w){this.promise=d,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function n(d,y,w){i(function(){var S;try{S=y(w)}catch(C){return r.reject(d,C)}S===d?r.reject(d,new TypeError("Cannot resolve promise with itself")):r.resolve(d,S)})}function f(d){var y=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof y=="function")return function(){y.apply(d,arguments)}}function h(d,y){var w=!1;function S(B){w||(w=!0,r.reject(d,B))}function C(B){w||(w=!0,r.resolve(d,B))}var U=_(function(){y(C,S)});U.status==="error"&&S(U.value)}function _(d,y){var w={};try{w.value=d(y),w.status="success"}catch(S){w.status="error",w.value=S}return w}(s.exports=c).prototype.finally=function(d){if(typeof d!="function")return this;var y=this.constructor;return this.then(function(w){return y.resolve(d()).then(function(){return w})},function(w){return y.resolve(d()).then(function(){throw w})})},c.prototype.catch=function(d){return this.then(null,d)},c.prototype.then=function(d,y){if(typeof d!="function"&&this.state===m||typeof y!="function"&&this.state===u)return this;var w=new this.constructor(l);return this.state!==v?n(w,this.state===m?d:y,this.outcome):this.queue.push(new b(w,d,y)),w},b.prototype.callFulfilled=function(d){r.resolve(this.promise,d)},b.prototype.otherCallFulfilled=function(d){n(this.promise,this.onFulfilled,d)},b.prototype.callRejected=function(d){r.reject(this.promise,d)},b.prototype.otherCallRejected=function(d){n(this.promise,this.onRejected,d)},r.resolve=function(d,y){var w=_(f,y);if(w.status==="error")return r.reject(d,w.value);var S=w.value;if(S)h(d,S);else{d.state=m,d.outcome=y;for(var C=-1,U=d.queue.length;++C<U;)d.queue[C].callFulfilled(y)}return d},r.reject=function(d,y){d.state=u,d.outcome=y;for(var w=-1,S=d.queue.length;++w<S;)d.queue[w].callRejected(y);return d},c.resolve=function(d){return d instanceof this?d:r.resolve(new this(l),d)},c.reject=function(d){var y=new this(l);return r.reject(y,d)},c.all=function(d){var y=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=d.length,S=!1;if(!w)return this.resolve([]);for(var C=new Array(w),U=0,B=-1,W=new this(l);++B<w;)T(d[B],B);return W;function T(G,q){y.resolve(G).then(function(k){C[q]=k,++U!==w||S||(S=!0,r.resolve(W,C))},function(k){S||(S=!0,r.reject(W,k))})}},c.race=function(d){var y=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=d.length,S=!1;if(!w)return this.resolve([]);for(var C=-1,U=new this(l);++C<w;)B=d[C],y.resolve(B).then(function(W){S||(S=!0,r.resolve(U,W))},function(W){S||(S=!0,r.reject(U,W))});var B;return U}},{immediate:36}],38:[function(t,s,o){"use strict";var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),s.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,s,o){"use strict";var i=t("./zlib/deflate"),l=t("./utils/common"),r=t("./utils/strings"),u=t("./zlib/messages"),m=t("./zlib/zstream"),v=Object.prototype.toString,c=0,b=-1,n=0,f=8;function h(d){if(!(this instanceof h))return new h(d);this.options=l.assign({level:b,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:n,to:""},d||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(w!==c)throw new Error(u[w]);if(y.header&&i.deflateSetHeader(this.strm,y.header),y.dictionary){var S;if(S=typeof y.dictionary=="string"?r.string2buf(y.dictionary):v.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(w=i.deflateSetDictionary(this.strm,S))!==c)throw new Error(u[w]);this._dict_set=!0}}function _(d,y){var w=new h(y);if(w.push(d,!0),w.err)throw w.msg||u[w.err];return w.result}h.prototype.push=function(d,y){var w,S,C=this.strm,U=this.options.chunkSize;if(this.ended)return!1;S=y===~~y?y:y===!0?4:0,typeof d=="string"?C.input=r.string2buf(d):v.call(d)==="[object ArrayBuffer]"?C.input=new Uint8Array(d):C.input=d,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new l.Buf8(U),C.next_out=0,C.avail_out=U),(w=i.deflate(C,S))!==1&&w!==c)return this.onEnd(w),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(l.shrinkBuf(C.output,C.next_out))):this.onData(l.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&w!==1);return S===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===c):S!==2||(this.onEnd(c),!(C.avail_out=0))},h.prototype.onData=function(d){this.chunks.push(d)},h.prototype.onEnd=function(d){d===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},o.Deflate=h,o.deflate=_,o.deflateRaw=function(d,y){return(y=y||{}).raw=!0,_(d,y)},o.gzip=function(d,y){return(y=y||{}).gzip=!0,_(d,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,s,o){"use strict";var i=t("./zlib/inflate"),l=t("./utils/common"),r=t("./utils/strings"),u=t("./zlib/constants"),m=t("./zlib/messages"),v=t("./zlib/zstream"),c=t("./zlib/gzheader"),b=Object.prototype.toString;function n(h){if(!(this instanceof n))return new n(h);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},h||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||h&&h.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&!(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var d=i.inflateInit2(this.strm,_.windowBits);if(d!==u.Z_OK)throw new Error(m[d]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function f(h,_){var d=new n(_);if(d.push(h,!0),d.err)throw d.msg||m[d.err];return d.result}n.prototype.push=function(h,_){var d,y,w,S,C,U,B=this.strm,W=this.options.chunkSize,T=this.options.dictionary,G=!1;if(this.ended)return!1;y=_===~~_?_:_===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof h=="string"?B.input=r.binstring2buf(h):b.call(h)==="[object ArrayBuffer]"?B.input=new Uint8Array(h):B.input=h,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new l.Buf8(W),B.next_out=0,B.avail_out=W),(d=i.inflate(B,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&T&&(U=typeof T=="string"?r.string2buf(T):b.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,d=i.inflateSetDictionary(this.strm,U)),d===u.Z_BUF_ERROR&&G===!0&&(d=u.Z_OK,G=!1),d!==u.Z_STREAM_END&&d!==u.Z_OK)return this.onEnd(d),!(this.ended=!0);B.next_out&&(B.avail_out!==0&&d!==u.Z_STREAM_END&&(B.avail_in!==0||y!==u.Z_FINISH&&y!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=r.utf8border(B.output,B.next_out),S=B.next_out-w,C=r.buf2string(B.output,w),B.next_out=S,B.avail_out=W-S,S&&l.arraySet(B.output,B.output,w,S,0),this.onData(C)):this.onData(l.shrinkBuf(B.output,B.next_out)))),B.avail_in===0&&B.avail_out===0&&(G=!0)}while((0<B.avail_in||B.avail_out===0)&&d!==u.Z_STREAM_END);return d===u.Z_STREAM_END&&(y=u.Z_FINISH),y===u.Z_FINISH?(d=i.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===u.Z_OK):y!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(B.avail_out=0))},n.prototype.onData=function(h){this.chunks.push(h)},n.prototype.onEnd=function(h){h===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},o.Inflate=n,o.inflate=f,o.inflateRaw=function(h,_){return(_=_||{}).raw=!0,f(h,_)},o.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,s,o){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(u){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var v=m.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var c in v)v.hasOwnProperty(c)&&(u[c]=v[c])}}return u},o.shrinkBuf=function(u,m){return u.length===m?u:u.subarray?u.subarray(0,m):(u.length=m,u)};var l={arraySet:function(u,m,v,c,b){if(m.subarray&&u.subarray)u.set(m.subarray(v,v+c),b);else for(var n=0;n<c;n++)u[b+n]=m[v+n]},flattenChunks:function(u){var m,v,c,b,n,f;for(m=c=0,v=u.length;m<v;m++)c+=u[m].length;for(f=new Uint8Array(c),m=b=0,v=u.length;m<v;m++)n=u[m],f.set(n,b),b+=n.length;return f}},r={arraySet:function(u,m,v,c,b){for(var n=0;n<c;n++)u[b+n]=m[v+n]},flattenChunks:function(u){return[].concat.apply([],u)}};o.setTyped=function(u){u?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,l)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,r))},o.setTyped(i)},{}],42:[function(t,s,o){"use strict";var i=t("./common"),l=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var u=new i.Buf8(256),m=0;m<256;m++)u[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function v(c,b){if(b<65537&&(c.subarray&&r||!c.subarray&&l))return String.fromCharCode.apply(null,i.shrinkBuf(c,b));for(var n="",f=0;f<b;f++)n+=String.fromCharCode(c[f]);return n}u[254]=u[254]=1,o.string2buf=function(c){var b,n,f,h,_,d=c.length,y=0;for(h=0;h<d;h++)(64512&(n=c.charCodeAt(h)))==55296&&h+1<d&&(64512&(f=c.charCodeAt(h+1)))==56320&&(n=65536+(n-55296<<10)+(f-56320),h++),y+=n<128?1:n<2048?2:n<65536?3:4;for(b=new i.Buf8(y),h=_=0;_<y;h++)(64512&(n=c.charCodeAt(h)))==55296&&h+1<d&&(64512&(f=c.charCodeAt(h+1)))==56320&&(n=65536+(n-55296<<10)+(f-56320),h++),n<128?b[_++]=n:(n<2048?b[_++]=192|n>>>6:(n<65536?b[_++]=224|n>>>12:(b[_++]=240|n>>>18,b[_++]=128|n>>>12&63),b[_++]=128|n>>>6&63),b[_++]=128|63&n);return b},o.buf2binstring=function(c){return v(c,c.length)},o.binstring2buf=function(c){for(var b=new i.Buf8(c.length),n=0,f=b.length;n<f;n++)b[n]=c.charCodeAt(n);return b},o.buf2string=function(c,b){var n,f,h,_,d=b||c.length,y=new Array(2*d);for(n=f=0;n<d;)if((h=c[n++])<128)y[f++]=h;else if(4<(_=u[h]))y[f++]=65533,n+=_-1;else{for(h&=_===2?31:_===3?15:7;1<_&&n<d;)h=h<<6|63&c[n++],_--;1<_?y[f++]=65533:h<65536?y[f++]=h:(h-=65536,y[f++]=55296|h>>10&1023,y[f++]=56320|1023&h)}return v(y,f)},o.utf8border=function(c,b){var n;for((b=b||c.length)>c.length&&(b=c.length),n=b-1;0<=n&&(192&c[n])==128;)n--;return n<0||n===0?b:n+u[c[n]]>b?n:b}},{"./common":41}],43:[function(t,s,o){"use strict";s.exports=function(i,l,r,u){for(var m=65535&i|0,v=i>>>16&65535|0,c=0;r!==0;){for(r-=c=2e3<r?2e3:r;v=v+(m=m+l[u++]|0)|0,--c;);m%=65521,v%=65521}return m|v<<16|0}},{}],44:[function(t,s,o){"use strict";s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,s,o){"use strict";var i=function(){for(var l,r=[],u=0;u<256;u++){l=u;for(var m=0;m<8;m++)l=1&l?3988292384^l>>>1:l>>>1;r[u]=l}return r}();s.exports=function(l,r,u,m){var v=i,c=m+u;l^=-1;for(var b=m;b<c;b++)l=l>>>8^v[255&(l^r[b])];return-1^l}},{}],46:[function(t,s,o){"use strict";var i,l=t("../utils/common"),r=t("./trees"),u=t("./adler32"),m=t("./crc32"),v=t("./messages"),c=0,b=4,n=0,f=-2,h=-1,_=4,d=2,y=8,w=9,S=286,C=30,U=19,B=2*S+1,W=15,T=3,G=258,q=G+T+1,k=42,O=113,a=1,$=2,tt=3,M=4;function et(e,I){return e.msg=v[I],I}function j(e){return(e<<1)-(4<e?9:0)}function X(e){for(var I=e.length;0<=--I;)e[I]=0}function D(e){var I=e.state,z=I.pending;z>e.avail_out&&(z=e.avail_out),z!==0&&(l.arraySet(e.output,I.pending_buf,I.pending_out,z,e.next_out),e.next_out+=z,I.pending_out+=z,e.total_out+=z,e.avail_out-=z,I.pending-=z,I.pending===0&&(I.pending_out=0))}function A(e,I){r._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,I),e.block_start=e.strstart,D(e.strm)}function V(e,I){e.pending_buf[e.pending++]=I}function F(e,I){e.pending_buf[e.pending++]=I>>>8&255,e.pending_buf[e.pending++]=255&I}function R(e,I){var z,g,p=e.max_chain_length,x=e.strstart,N=e.prev_length,L=e.nice_match,E=e.strstart>e.w_size-q?e.strstart-(e.w_size-q):0,P=e.window,Z=e.w_mask,H=e.prev,J=e.strstart+G,st=P[x+N-1],it=P[x+N];e.prev_length>=e.good_match&&(p>>=2),L>e.lookahead&&(L=e.lookahead);do if(P[(z=I)+N]===it&&P[z+N-1]===st&&P[z]===P[x]&&P[++z]===P[x+1]){x+=2,z++;do;while(P[++x]===P[++z]&&P[++x]===P[++z]&&P[++x]===P[++z]&&P[++x]===P[++z]&&P[++x]===P[++z]&&P[++x]===P[++z]&&P[++x]===P[++z]&&P[++x]===P[++z]&&x<J);if(g=G-(J-x),x=J-G,N<g){if(e.match_start=I,L<=(N=g))break;st=P[x+N-1],it=P[x+N]}}while((I=H[I&Z])>E&&--p!=0);return N<=e.lookahead?N:e.lookahead}function Y(e){var I,z,g,p,x,N,L,E,P,Z,H=e.w_size;do{if(p=e.window_size-e.lookahead-e.strstart,e.strstart>=H+(H-q)){for(l.arraySet(e.window,e.window,H,H,0),e.match_start-=H,e.strstart-=H,e.block_start-=H,I=z=e.hash_size;g=e.head[--I],e.head[I]=H<=g?g-H:0,--z;);for(I=z=H;g=e.prev[--I],e.prev[I]=H<=g?g-H:0,--z;);p+=H}if(e.strm.avail_in===0)break;if(N=e.strm,L=e.window,E=e.strstart+e.lookahead,P=p,Z=void 0,Z=N.avail_in,P<Z&&(Z=P),z=Z===0?0:(N.avail_in-=Z,l.arraySet(L,N.input,N.next_in,Z,E),N.state.wrap===1?N.adler=u(N.adler,L,Z,E):N.state.wrap===2&&(N.adler=m(N.adler,L,Z,E)),N.next_in+=Z,N.total_in+=Z,Z),e.lookahead+=z,e.lookahead+e.insert>=T)for(x=e.strstart-e.insert,e.ins_h=e.window[x],e.ins_h=(e.ins_h<<e.hash_shift^e.window[x+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[x+T-1])&e.hash_mask,e.prev[x&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=x,x++,e.insert--,!(e.lookahead+e.insert<T)););}while(e.lookahead<q&&e.strm.avail_in!==0)}function rt(e,I){for(var z,g;;){if(e.lookahead<q){if(Y(e),e.lookahead<q&&I===c)return a;if(e.lookahead===0)break}if(z=0,e.lookahead>=T&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+T-1])&e.hash_mask,z=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),z!==0&&e.strstart-z<=e.w_size-q&&(e.match_length=R(e,z)),e.match_length>=T)if(g=r._tr_tally(e,e.strstart-e.match_start,e.match_length-T),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=T){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+T-1])&e.hash_mask,z=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,--e.match_length!=0;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else g=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(g&&(A(e,!1),e.strm.avail_out===0))return a}return e.insert=e.strstart<T-1?e.strstart:T-1,I===b?(A(e,!0),e.strm.avail_out===0?tt:M):e.last_lit&&(A(e,!1),e.strm.avail_out===0)?a:$}function K(e,I){for(var z,g,p;;){if(e.lookahead<q){if(Y(e),e.lookahead<q&&I===c)return a;if(e.lookahead===0)break}if(z=0,e.lookahead>=T&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+T-1])&e.hash_mask,z=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=T-1,z!==0&&e.prev_length<e.max_lazy_match&&e.strstart-z<=e.w_size-q&&(e.match_length=R(e,z),e.match_length<=5&&(e.strategy===1||e.match_length===T&&4096<e.strstart-e.match_start)&&(e.match_length=T-1)),e.prev_length>=T&&e.match_length<=e.prev_length){for(p=e.strstart+e.lookahead-T,g=r._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-T),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=p&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+T-1])&e.hash_mask,z=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),--e.prev_length!=0;);if(e.match_available=0,e.match_length=T-1,e.strstart++,g&&(A(e,!1),e.strm.avail_out===0))return a}else if(e.match_available){if((g=r._tr_tally(e,0,e.window[e.strstart-1]))&&A(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return a}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(g=r._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<T-1?e.strstart:T-1,I===b?(A(e,!0),e.strm.avail_out===0?tt:M):e.last_lit&&(A(e,!1),e.strm.avail_out===0)?a:$}function Q(e,I,z,g,p){this.good_length=e,this.max_lazy=I,this.nice_length=z,this.max_chain=g,this.func=p}function nt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*B),this.dyn_dtree=new l.Buf16(2*(2*C+1)),this.bl_tree=new l.Buf16(2*(2*U+1)),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(W+1),this.heap=new l.Buf16(2*S+1),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*S+1),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function at(e){var I;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=d,(I=e.state).pending=0,I.pending_out=0,I.wrap<0&&(I.wrap=-I.wrap),I.status=I.wrap?k:O,e.adler=I.wrap===2?0:1,I.last_flush=c,r._tr_init(I),n):et(e,f)}function lt(e){var I=at(e);return I===n&&function(z){z.window_size=2*z.w_size,X(z.head),z.max_lazy_match=i[z.level].max_lazy,z.good_match=i[z.level].good_length,z.nice_match=i[z.level].nice_length,z.max_chain_length=i[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=T-1,z.match_available=0,z.ins_h=0}(e.state),I}function ot(e,I,z,g,p,x){if(!e)return f;var N=1;if(I===h&&(I=6),g<0?(N=0,g=-g):15<g&&(N=2,g-=16),p<1||w<p||z!==y||g<8||15<g||I<0||9<I||x<0||_<x)return et(e,f);g===8&&(g=9);var L=new nt;return(e.state=L).strm=e,L.wrap=N,L.gzhead=null,L.w_bits=g,L.w_size=1<<L.w_bits,L.w_mask=L.w_size-1,L.hash_bits=p+7,L.hash_size=1<<L.hash_bits,L.hash_mask=L.hash_size-1,L.hash_shift=~~((L.hash_bits+T-1)/T),L.window=new l.Buf8(2*L.w_size),L.head=new l.Buf16(L.hash_size),L.prev=new l.Buf16(L.w_size),L.lit_bufsize=1<<p+6,L.pending_buf_size=4*L.lit_bufsize,L.pending_buf=new l.Buf8(L.pending_buf_size),L.d_buf=1*L.lit_bufsize,L.l_buf=3*L.lit_bufsize,L.level=I,L.strategy=x,L.method=z,lt(e)}i=[new Q(0,0,0,0,function(e,I){var z=65535;for(z>e.pending_buf_size-5&&(z=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Y(e),e.lookahead===0&&I===c)return a;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var g=e.block_start+z;if((e.strstart===0||e.strstart>=g)&&(e.lookahead=e.strstart-g,e.strstart=g,A(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-q&&(A(e,!1),e.strm.avail_out===0))return a}return e.insert=0,I===b?(A(e,!0),e.strm.avail_out===0?tt:M):(e.strstart>e.block_start&&(A(e,!1),e.strm.avail_out),a)}),new Q(4,4,8,4,rt),new Q(4,5,16,8,rt),new Q(4,6,32,32,rt),new Q(4,4,16,16,K),new Q(8,16,32,32,K),new Q(8,16,128,128,K),new Q(8,32,128,256,K),new Q(32,128,258,1024,K),new Q(32,258,258,4096,K)],o.deflateInit=function(e,I){return ot(e,I,y,15,8,0)},o.deflateInit2=ot,o.deflateReset=lt,o.deflateResetKeep=at,o.deflateSetHeader=function(e,I){return e&&e.state?e.state.wrap!==2?f:(e.state.gzhead=I,n):f},o.deflate=function(e,I){var z,g,p,x;if(!e||!e.state||5<I||I<0)return e?et(e,f):f;if(g=e.state,!e.output||!e.input&&e.avail_in!==0||g.status===666&&I!==b)return et(e,e.avail_out===0?-5:f);if(g.strm=e,z=g.last_flush,g.last_flush=I,g.status===k)if(g.wrap===2)e.adler=0,V(g,31),V(g,139),V(g,8),g.gzhead?(V(g,(g.gzhead.text?1:0)+(g.gzhead.hcrc?2:0)+(g.gzhead.extra?4:0)+(g.gzhead.name?8:0)+(g.gzhead.comment?16:0)),V(g,255&g.gzhead.time),V(g,g.gzhead.time>>8&255),V(g,g.gzhead.time>>16&255),V(g,g.gzhead.time>>24&255),V(g,g.level===9?2:2<=g.strategy||g.level<2?4:0),V(g,255&g.gzhead.os),g.gzhead.extra&&g.gzhead.extra.length&&(V(g,255&g.gzhead.extra.length),V(g,g.gzhead.extra.length>>8&255)),g.gzhead.hcrc&&(e.adler=m(e.adler,g.pending_buf,g.pending,0)),g.gzindex=0,g.status=69):(V(g,0),V(g,0),V(g,0),V(g,0),V(g,0),V(g,g.level===9?2:2<=g.strategy||g.level<2?4:0),V(g,3),g.status=O);else{var N=y+(g.w_bits-8<<4)<<8;N|=(2<=g.strategy||g.level<2?0:g.level<6?1:g.level===6?2:3)<<6,g.strstart!==0&&(N|=32),N+=31-N%31,g.status=O,F(g,N),g.strstart!==0&&(F(g,e.adler>>>16),F(g,65535&e.adler)),e.adler=1}if(g.status===69)if(g.gzhead.extra){for(p=g.pending;g.gzindex<(65535&g.gzhead.extra.length)&&(g.pending!==g.pending_buf_size||(g.gzhead.hcrc&&g.pending>p&&(e.adler=m(e.adler,g.pending_buf,g.pending-p,p)),D(e),p=g.pending,g.pending!==g.pending_buf_size));)V(g,255&g.gzhead.extra[g.gzindex]),g.gzindex++;g.gzhead.hcrc&&g.pending>p&&(e.adler=m(e.adler,g.pending_buf,g.pending-p,p)),g.gzindex===g.gzhead.extra.length&&(g.gzindex=0,g.status=73)}else g.status=73;if(g.status===73)if(g.gzhead.name){p=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>p&&(e.adler=m(e.adler,g.pending_buf,g.pending-p,p)),D(e),p=g.pending,g.pending===g.pending_buf_size)){x=1;break}x=g.gzindex<g.gzhead.name.length?255&g.gzhead.name.charCodeAt(g.gzindex++):0,V(g,x)}while(x!==0);g.gzhead.hcrc&&g.pending>p&&(e.adler=m(e.adler,g.pending_buf,g.pending-p,p)),x===0&&(g.gzindex=0,g.status=91)}else g.status=91;if(g.status===91)if(g.gzhead.comment){p=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>p&&(e.adler=m(e.adler,g.pending_buf,g.pending-p,p)),D(e),p=g.pending,g.pending===g.pending_buf_size)){x=1;break}x=g.gzindex<g.gzhead.comment.length?255&g.gzhead.comment.charCodeAt(g.gzindex++):0,V(g,x)}while(x!==0);g.gzhead.hcrc&&g.pending>p&&(e.adler=m(e.adler,g.pending_buf,g.pending-p,p)),x===0&&(g.status=103)}else g.status=103;if(g.status===103&&(g.gzhead.hcrc?(g.pending+2>g.pending_buf_size&&D(e),g.pending+2<=g.pending_buf_size&&(V(g,255&e.adler),V(g,e.adler>>8&255),e.adler=0,g.status=O)):g.status=O),g.pending!==0){if(D(e),e.avail_out===0)return g.last_flush=-1,n}else if(e.avail_in===0&&j(I)<=j(z)&&I!==b)return et(e,-5);if(g.status===666&&e.avail_in!==0)return et(e,-5);if(e.avail_in!==0||g.lookahead!==0||I!==c&&g.status!==666){var L=g.strategy===2?function(E,P){for(var Z;;){if(E.lookahead===0&&(Y(E),E.lookahead===0)){if(P===c)return a;break}if(E.match_length=0,Z=r._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++,Z&&(A(E,!1),E.strm.avail_out===0))return a}return E.insert=0,P===b?(A(E,!0),E.strm.avail_out===0?tt:M):E.last_lit&&(A(E,!1),E.strm.avail_out===0)?a:$}(g,I):g.strategy===3?function(E,P){for(var Z,H,J,st,it=E.window;;){if(E.lookahead<=G){if(Y(E),E.lookahead<=G&&P===c)return a;if(E.lookahead===0)break}if(E.match_length=0,E.lookahead>=T&&0<E.strstart&&(H=it[J=E.strstart-1])===it[++J]&&H===it[++J]&&H===it[++J]){st=E.strstart+G;do;while(H===it[++J]&&H===it[++J]&&H===it[++J]&&H===it[++J]&&H===it[++J]&&H===it[++J]&&H===it[++J]&&H===it[++J]&&J<st);E.match_length=G-(st-J),E.match_length>E.lookahead&&(E.match_length=E.lookahead)}if(E.match_length>=T?(Z=r._tr_tally(E,1,E.match_length-T),E.lookahead-=E.match_length,E.strstart+=E.match_length,E.match_length=0):(Z=r._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++),Z&&(A(E,!1),E.strm.avail_out===0))return a}return E.insert=0,P===b?(A(E,!0),E.strm.avail_out===0?tt:M):E.last_lit&&(A(E,!1),E.strm.avail_out===0)?a:$}(g,I):i[g.level].func(g,I);if(L!==tt&&L!==M||(g.status=666),L===a||L===tt)return e.avail_out===0&&(g.last_flush=-1),n;if(L===$&&(I===1?r._tr_align(g):I!==5&&(r._tr_stored_block(g,0,0,!1),I===3&&(X(g.head),g.lookahead===0&&(g.strstart=0,g.block_start=0,g.insert=0))),D(e),e.avail_out===0))return g.last_flush=-1,n}return I!==b?n:g.wrap<=0?1:(g.wrap===2?(V(g,255&e.adler),V(g,e.adler>>8&255),V(g,e.adler>>16&255),V(g,e.adler>>24&255),V(g,255&e.total_in),V(g,e.total_in>>8&255),V(g,e.total_in>>16&255),V(g,e.total_in>>24&255)):(F(g,e.adler>>>16),F(g,65535&e.adler)),D(e),0<g.wrap&&(g.wrap=-g.wrap),g.pending!==0?n:1)},o.deflateEnd=function(e){var I;return e&&e.state?(I=e.state.status)!==k&&I!==69&&I!==73&&I!==91&&I!==103&&I!==O&&I!==666?et(e,f):(e.state=null,I===O?et(e,-3):n):f},o.deflateSetDictionary=function(e,I){var z,g,p,x,N,L,E,P,Z=I.length;if(!e||!e.state||(x=(z=e.state).wrap)===2||x===1&&z.status!==k||z.lookahead)return f;for(x===1&&(e.adler=u(e.adler,I,Z,0)),z.wrap=0,Z>=z.w_size&&(x===0&&(X(z.head),z.strstart=0,z.block_start=0,z.insert=0),P=new l.Buf8(z.w_size),l.arraySet(P,I,Z-z.w_size,z.w_size,0),I=P,Z=z.w_size),N=e.avail_in,L=e.next_in,E=e.input,e.avail_in=Z,e.next_in=0,e.input=I,Y(z);z.lookahead>=T;){for(g=z.strstart,p=z.lookahead-(T-1);z.ins_h=(z.ins_h<<z.hash_shift^z.window[g+T-1])&z.hash_mask,z.prev[g&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=g,g++,--p;);z.strstart=g,z.lookahead=T-1,Y(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=T-1,z.match_available=0,e.next_in=L,e.input=E,e.avail_in=N,z.wrap=x,n},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,s,o){"use strict";s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,s,o){"use strict";s.exports=function(i,l){var r,u,m,v,c,b,n,f,h,_,d,y,w,S,C,U,B,W,T,G,q,k,O,a,$;r=i.state,u=i.next_in,a=i.input,m=u+(i.avail_in-5),v=i.next_out,$=i.output,c=v-(l-i.avail_out),b=v+(i.avail_out-257),n=r.dmax,f=r.wsize,h=r.whave,_=r.wnext,d=r.window,y=r.hold,w=r.bits,S=r.lencode,C=r.distcode,U=(1<<r.lenbits)-1,B=(1<<r.distbits)-1;t:do{w<15&&(y+=a[u++]<<w,w+=8,y+=a[u++]<<w,w+=8),W=S[y&U];e:for(;;){if(y>>>=T=W>>>24,w-=T,(T=W>>>16&255)===0)$[v++]=65535&W;else{if(!(16&T)){if(!(64&T)){W=S[(65535&W)+(y&(1<<T)-1)];continue e}if(32&T){r.mode=12;break t}i.msg="invalid literal/length code",r.mode=30;break t}G=65535&W,(T&=15)&&(w<T&&(y+=a[u++]<<w,w+=8),G+=y&(1<<T)-1,y>>>=T,w-=T),w<15&&(y+=a[u++]<<w,w+=8,y+=a[u++]<<w,w+=8),W=C[y&B];r:for(;;){if(y>>>=T=W>>>24,w-=T,!(16&(T=W>>>16&255))){if(!(64&T)){W=C[(65535&W)+(y&(1<<T)-1)];continue r}i.msg="invalid distance code",r.mode=30;break t}if(q=65535&W,w<(T&=15)&&(y+=a[u++]<<w,(w+=8)<T&&(y+=a[u++]<<w,w+=8)),n<(q+=y&(1<<T)-1)){i.msg="invalid distance too far back",r.mode=30;break t}if(y>>>=T,w-=T,(T=v-c)<q){if(h<(T=q-T)&&r.sane){i.msg="invalid distance too far back",r.mode=30;break t}if(O=d,(k=0)===_){if(k+=f-T,T<G){for(G-=T;$[v++]=d[k++],--T;);k=v-q,O=$}}else if(_<T){if(k+=f+_-T,(T-=_)<G){for(G-=T;$[v++]=d[k++],--T;);if(k=0,_<G){for(G-=T=_;$[v++]=d[k++],--T;);k=v-q,O=$}}}else if(k+=_-T,T<G){for(G-=T;$[v++]=d[k++],--T;);k=v-q,O=$}for(;2<G;)$[v++]=O[k++],$[v++]=O[k++],$[v++]=O[k++],G-=3;G&&($[v++]=O[k++],1<G&&($[v++]=O[k++]))}else{for(k=v-q;$[v++]=$[k++],$[v++]=$[k++],$[v++]=$[k++],2<(G-=3););G&&($[v++]=$[k++],1<G&&($[v++]=$[k++]))}break}}break}}while(u<m&&v<b);u-=G=w>>3,y&=(1<<(w-=G<<3))-1,i.next_in=u,i.next_out=v,i.avail_in=u<m?m-u+5:5-(u-m),i.avail_out=v<b?b-v+257:257-(v-b),r.hold=y,r.bits=w}},{}],49:[function(t,s,o){"use strict";var i=t("../utils/common"),l=t("./adler32"),r=t("./crc32"),u=t("./inffast"),m=t("./inftrees"),v=1,c=2,b=0,n=-2,f=1,h=852,_=592;function d(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(k){var O;return k&&k.state?(O=k.state,k.total_in=k.total_out=O.total=0,k.msg="",O.wrap&&(k.adler=1&O.wrap),O.mode=f,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new i.Buf32(h),O.distcode=O.distdyn=new i.Buf32(_),O.sane=1,O.back=-1,b):n}function S(k){var O;return k&&k.state?((O=k.state).wsize=0,O.whave=0,O.wnext=0,w(k)):n}function C(k,O){var a,$;return k&&k.state?($=k.state,O<0?(a=0,O=-O):(a=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?n:($.window!==null&&$.wbits!==O&&($.window=null),$.wrap=a,$.wbits=O,S(k))):n}function U(k,O){var a,$;return k?($=new y,(k.state=$).window=null,(a=C(k,O))!==b&&(k.state=null),a):n}var B,W,T=!0;function G(k){if(T){var O;for(B=new i.Buf32(512),W=new i.Buf32(32),O=0;O<144;)k.lens[O++]=8;for(;O<256;)k.lens[O++]=9;for(;O<280;)k.lens[O++]=7;for(;O<288;)k.lens[O++]=8;for(m(v,k.lens,0,288,B,0,k.work,{bits:9}),O=0;O<32;)k.lens[O++]=5;m(c,k.lens,0,32,W,0,k.work,{bits:5}),T=!1}k.lencode=B,k.lenbits=9,k.distcode=W,k.distbits=5}function q(k,O,a,$){var tt,M=k.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new i.Buf8(M.wsize)),$>=M.wsize?(i.arraySet(M.window,O,a-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):($<(tt=M.wsize-M.wnext)&&(tt=$),i.arraySet(M.window,O,a-$,tt,M.wnext),($-=tt)?(i.arraySet(M.window,O,a-$,$,0),M.wnext=$,M.whave=M.wsize):(M.wnext+=tt,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=tt))),0}o.inflateReset=S,o.inflateReset2=C,o.inflateResetKeep=w,o.inflateInit=function(k){return U(k,15)},o.inflateInit2=U,o.inflate=function(k,O){var a,$,tt,M,et,j,X,D,A,V,F,R,Y,rt,K,Q,nt,at,lt,ot,e,I,z,g,p=0,x=new i.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return n;(a=k.state).mode===12&&(a.mode=13),et=k.next_out,tt=k.output,X=k.avail_out,M=k.next_in,$=k.input,j=k.avail_in,D=a.hold,A=a.bits,V=j,F=X,I=b;t:for(;;)switch(a.mode){case f:if(a.wrap===0){a.mode=13;break}for(;A<16;){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}if(2&a.wrap&&D===35615){x[a.check=0]=255&D,x[1]=D>>>8&255,a.check=r(a.check,x,2,0),A=D=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&D)<<8)+(D>>8))%31){k.msg="incorrect header check",a.mode=30;break}if((15&D)!=8){k.msg="unknown compression method",a.mode=30;break}if(A-=4,e=8+(15&(D>>>=4)),a.wbits===0)a.wbits=e;else if(e>a.wbits){k.msg="invalid window size",a.mode=30;break}a.dmax=1<<e,k.adler=a.check=1,a.mode=512&D?10:12,A=D=0;break;case 2:for(;A<16;){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}if(a.flags=D,(255&a.flags)!=8){k.msg="unknown compression method",a.mode=30;break}if(57344&a.flags){k.msg="unknown header flags set",a.mode=30;break}a.head&&(a.head.text=D>>8&1),512&a.flags&&(x[0]=255&D,x[1]=D>>>8&255,a.check=r(a.check,x,2,0)),A=D=0,a.mode=3;case 3:for(;A<32;){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}a.head&&(a.head.time=D),512&a.flags&&(x[0]=255&D,x[1]=D>>>8&255,x[2]=D>>>16&255,x[3]=D>>>24&255,a.check=r(a.check,x,4,0)),A=D=0,a.mode=4;case 4:for(;A<16;){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}a.head&&(a.head.xflags=255&D,a.head.os=D>>8),512&a.flags&&(x[0]=255&D,x[1]=D>>>8&255,a.check=r(a.check,x,2,0)),A=D=0,a.mode=5;case 5:if(1024&a.flags){for(;A<16;){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}a.length=D,a.head&&(a.head.extra_len=D),512&a.flags&&(x[0]=255&D,x[1]=D>>>8&255,a.check=r(a.check,x,2,0)),A=D=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags&&(j<(R=a.length)&&(R=j),R&&(a.head&&(e=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),i.arraySet(a.head.extra,$,M,R,e)),512&a.flags&&(a.check=r(a.check,$,R,M)),j-=R,M+=R,a.length-=R),a.length))break t;a.length=0,a.mode=7;case 7:if(2048&a.flags){if(j===0)break t;for(R=0;e=$[M+R++],a.head&&e&&a.length<65536&&(a.head.name+=String.fromCharCode(e)),e&&R<j;);if(512&a.flags&&(a.check=r(a.check,$,R,M)),j-=R,M+=R,e)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(j===0)break t;for(R=0;e=$[M+R++],a.head&&e&&a.length<65536&&(a.head.comment+=String.fromCharCode(e)),e&&R<j;);if(512&a.flags&&(a.check=r(a.check,$,R,M)),j-=R,M+=R,e)break t}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;A<16;){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}if(D!==(65535&a.check)){k.msg="header crc mismatch",a.mode=30;break}A=D=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),k.adler=a.check=0,a.mode=12;break;case 10:for(;A<32;){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}k.adler=a.check=d(D),A=D=0,a.mode=11;case 11:if(a.havedict===0)return k.next_out=et,k.avail_out=X,k.next_in=M,k.avail_in=j,a.hold=D,a.bits=A,2;k.adler=a.check=1,a.mode=12;case 12:if(O===5||O===6)break t;case 13:if(a.last){D>>>=7&A,A-=7&A,a.mode=27;break}for(;A<3;){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}switch(a.last=1&D,A-=1,3&(D>>>=1)){case 0:a.mode=14;break;case 1:if(G(a),a.mode=20,O!==6)break;D>>>=2,A-=2;break t;case 2:a.mode=17;break;case 3:k.msg="invalid block type",a.mode=30}D>>>=2,A-=2;break;case 14:for(D>>>=7&A,A-=7&A;A<32;){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}if((65535&D)!=(D>>>16^65535)){k.msg="invalid stored block lengths",a.mode=30;break}if(a.length=65535&D,A=D=0,a.mode=15,O===6)break t;case 15:a.mode=16;case 16:if(R=a.length){if(j<R&&(R=j),X<R&&(R=X),R===0)break t;i.arraySet(tt,$,M,R,et),j-=R,M+=R,X-=R,et+=R,a.length-=R;break}a.mode=12;break;case 17:for(;A<14;){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}if(a.nlen=257+(31&D),D>>>=5,A-=5,a.ndist=1+(31&D),D>>>=5,A-=5,a.ncode=4+(15&D),D>>>=4,A-=4,286<a.nlen||30<a.ndist){k.msg="too many length or distance symbols",a.mode=30;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;A<3;){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}a.lens[N[a.have++]]=7&D,D>>>=3,A-=3}for(;a.have<19;)a.lens[N[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,z={bits:a.lenbits},I=m(0,a.lens,0,19,a.lencode,0,a.work,z),a.lenbits=z.bits,I){k.msg="invalid code lengths set",a.mode=30;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;Q=(p=a.lencode[D&(1<<a.lenbits)-1])>>>16&255,nt=65535&p,!((K=p>>>24)<=A);){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}if(nt<16)D>>>=K,A-=K,a.lens[a.have++]=nt;else{if(nt===16){for(g=K+2;A<g;){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}if(D>>>=K,A-=K,a.have===0){k.msg="invalid bit length repeat",a.mode=30;break}e=a.lens[a.have-1],R=3+(3&D),D>>>=2,A-=2}else if(nt===17){for(g=K+3;A<g;){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}A-=K,e=0,R=3+(7&(D>>>=K)),D>>>=3,A-=3}else{for(g=K+7;A<g;){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}A-=K,e=0,R=11+(127&(D>>>=K)),D>>>=7,A-=7}if(a.have+R>a.nlen+a.ndist){k.msg="invalid bit length repeat",a.mode=30;break}for(;R--;)a.lens[a.have++]=e}}if(a.mode===30)break;if(a.lens[256]===0){k.msg="invalid code -- missing end-of-block",a.mode=30;break}if(a.lenbits=9,z={bits:a.lenbits},I=m(v,a.lens,0,a.nlen,a.lencode,0,a.work,z),a.lenbits=z.bits,I){k.msg="invalid literal/lengths set",a.mode=30;break}if(a.distbits=6,a.distcode=a.distdyn,z={bits:a.distbits},I=m(c,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,z),a.distbits=z.bits,I){k.msg="invalid distances set",a.mode=30;break}if(a.mode=20,O===6)break t;case 20:a.mode=21;case 21:if(6<=j&&258<=X){k.next_out=et,k.avail_out=X,k.next_in=M,k.avail_in=j,a.hold=D,a.bits=A,u(k,F),et=k.next_out,tt=k.output,X=k.avail_out,M=k.next_in,$=k.input,j=k.avail_in,D=a.hold,A=a.bits,a.mode===12&&(a.back=-1);break}for(a.back=0;Q=(p=a.lencode[D&(1<<a.lenbits)-1])>>>16&255,nt=65535&p,!((K=p>>>24)<=A);){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}if(Q&&!(240&Q)){for(at=K,lt=Q,ot=nt;Q=(p=a.lencode[ot+((D&(1<<at+lt)-1)>>at)])>>>16&255,nt=65535&p,!(at+(K=p>>>24)<=A);){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}D>>>=at,A-=at,a.back+=at}if(D>>>=K,A-=K,a.back+=K,a.length=nt,Q===0){a.mode=26;break}if(32&Q){a.back=-1,a.mode=12;break}if(64&Q){k.msg="invalid literal/length code",a.mode=30;break}a.extra=15&Q,a.mode=22;case 22:if(a.extra){for(g=a.extra;A<g;){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}a.length+=D&(1<<a.extra)-1,D>>>=a.extra,A-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;Q=(p=a.distcode[D&(1<<a.distbits)-1])>>>16&255,nt=65535&p,!((K=p>>>24)<=A);){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}if(!(240&Q)){for(at=K,lt=Q,ot=nt;Q=(p=a.distcode[ot+((D&(1<<at+lt)-1)>>at)])>>>16&255,nt=65535&p,!(at+(K=p>>>24)<=A);){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}D>>>=at,A-=at,a.back+=at}if(D>>>=K,A-=K,a.back+=K,64&Q){k.msg="invalid distance code",a.mode=30;break}a.offset=nt,a.extra=15&Q,a.mode=24;case 24:if(a.extra){for(g=a.extra;A<g;){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}a.offset+=D&(1<<a.extra)-1,D>>>=a.extra,A-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){k.msg="invalid distance too far back",a.mode=30;break}a.mode=25;case 25:if(X===0)break t;if(R=F-X,a.offset>R){if((R=a.offset-R)>a.whave&&a.sane){k.msg="invalid distance too far back",a.mode=30;break}Y=R>a.wnext?(R-=a.wnext,a.wsize-R):a.wnext-R,R>a.length&&(R=a.length),rt=a.window}else rt=tt,Y=et-a.offset,R=a.length;for(X<R&&(R=X),X-=R,a.length-=R;tt[et++]=rt[Y++],--R;);a.length===0&&(a.mode=21);break;case 26:if(X===0)break t;tt[et++]=a.length,X--,a.mode=21;break;case 27:if(a.wrap){for(;A<32;){if(j===0)break t;j--,D|=$[M++]<<A,A+=8}if(F-=X,k.total_out+=F,a.total+=F,F&&(k.adler=a.check=a.flags?r(a.check,tt,F,et-F):l(a.check,tt,F,et-F)),F=X,(a.flags?D:d(D))!==a.check){k.msg="incorrect data check",a.mode=30;break}A=D=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;A<32;){if(j===0)break t;j--,D+=$[M++]<<A,A+=8}if(D!==(4294967295&a.total)){k.msg="incorrect length check",a.mode=30;break}A=D=0}a.mode=29;case 29:I=1;break t;case 30:I=-3;break t;case 31:return-4;case 32:default:return n}return k.next_out=et,k.avail_out=X,k.next_in=M,k.avail_in=j,a.hold=D,a.bits=A,(a.wsize||F!==k.avail_out&&a.mode<30&&(a.mode<27||O!==4))&&q(k,k.output,k.next_out,F-k.avail_out)?(a.mode=31,-4):(V-=k.avail_in,F-=k.avail_out,k.total_in+=V,k.total_out+=F,a.total+=F,a.wrap&&F&&(k.adler=a.check=a.flags?r(a.check,tt,F,k.next_out-F):l(a.check,tt,F,k.next_out-F)),k.data_type=a.bits+(a.last?64:0)+(a.mode===12?128:0)+(a.mode===20||a.mode===15?256:0),(V==0&&F===0||O===4)&&I===b&&(I=-5),I)},o.inflateEnd=function(k){if(!k||!k.state)return n;var O=k.state;return O.window&&(O.window=null),k.state=null,b},o.inflateGetHeader=function(k,O){var a;return k&&k.state&&2&(a=k.state).wrap?((a.head=O).done=!1,b):n},o.inflateSetDictionary=function(k,O){var a,$=O.length;return k&&k.state?(a=k.state).wrap!==0&&a.mode!==11?n:a.mode===11&&l(1,O,$,0)!==a.check?-3:q(k,O,$,$)?(a.mode=31,-4):(a.havedict=1,b):n},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,s,o){"use strict";var i=t("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(v,c,b,n,f,h,_,d){var y,w,S,C,U,B,W,T,G,q=d.bits,k=0,O=0,a=0,$=0,tt=0,M=0,et=0,j=0,X=0,D=0,A=null,V=0,F=new i.Buf16(16),R=new i.Buf16(16),Y=null,rt=0;for(k=0;k<=15;k++)F[k]=0;for(O=0;O<n;O++)F[c[b+O]]++;for(tt=q,$=15;1<=$&&F[$]===0;$--);if($<tt&&(tt=$),$===0)return f[h++]=20971520,f[h++]=20971520,d.bits=1,0;for(a=1;a<$&&F[a]===0;a++);for(tt<a&&(tt=a),k=j=1;k<=15;k++)if(j<<=1,(j-=F[k])<0)return-1;if(0<j&&(v===0||$!==1))return-1;for(R[1]=0,k=1;k<15;k++)R[k+1]=R[k]+F[k];for(O=0;O<n;O++)c[b+O]!==0&&(_[R[c[b+O]]++]=O);if(B=v===0?(A=Y=_,19):v===1?(A=l,V-=257,Y=r,rt-=257,256):(A=u,Y=m,-1),k=a,U=h,et=O=D=0,S=-1,C=(X=1<<(M=tt))-1,v===1&&852<X||v===2&&592<X)return 1;for(;;){for(W=k-et,G=_[O]<B?(T=0,_[O]):_[O]>B?(T=Y[rt+_[O]],A[V+_[O]]):(T=96,0),y=1<<k-et,a=w=1<<M;f[U+(D>>et)+(w-=y)]=W<<24|T<<16|G|0,w!==0;);for(y=1<<k-1;D&y;)y>>=1;if(y!==0?(D&=y-1,D+=y):D=0,O++,--F[k]==0){if(k===$)break;k=c[b+_[O]]}if(tt<k&&(D&C)!==S){for(et===0&&(et=tt),U+=a,j=1<<(M=k-et);M+et<$&&!((j-=F[M+et])<=0);)M++,j<<=1;if(X+=1<<M,v===1&&852<X||v===2&&592<X)return 1;f[S=D&C]=tt<<24|M<<16|U-h|0}}return D!==0&&(f[U+D]=k-et<<24|64<<16|0),d.bits=tt,0}},{"../utils/common":41}],51:[function(t,s,o){"use strict";s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,s,o){"use strict";var i=t("../utils/common"),l=0,r=1;function u(p){for(var x=p.length;0<=--x;)p[x]=0}var m=0,v=29,c=256,b=c+1+v,n=30,f=19,h=2*b+1,_=15,d=16,y=7,w=256,S=16,C=17,U=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(b+2));u(q);var k=new Array(2*n);u(k);var O=new Array(512);u(O);var a=new Array(256);u(a);var $=new Array(v);u($);var tt,M,et,j=new Array(n);function X(p,x,N,L,E){this.static_tree=p,this.extra_bits=x,this.extra_base=N,this.elems=L,this.max_length=E,this.has_stree=p&&p.length}function D(p,x){this.dyn_tree=p,this.max_code=0,this.stat_desc=x}function A(p){return p<256?O[p]:O[256+(p>>>7)]}function V(p,x){p.pending_buf[p.pending++]=255&x,p.pending_buf[p.pending++]=x>>>8&255}function F(p,x,N){p.bi_valid>d-N?(p.bi_buf|=x<<p.bi_valid&65535,V(p,p.bi_buf),p.bi_buf=x>>d-p.bi_valid,p.bi_valid+=N-d):(p.bi_buf|=x<<p.bi_valid&65535,p.bi_valid+=N)}function R(p,x,N){F(p,N[2*x],N[2*x+1])}function Y(p,x){for(var N=0;N|=1&p,p>>>=1,N<<=1,0<--x;);return N>>>1}function rt(p,x,N){var L,E,P=new Array(_+1),Z=0;for(L=1;L<=_;L++)P[L]=Z=Z+N[L-1]<<1;for(E=0;E<=x;E++){var H=p[2*E+1];H!==0&&(p[2*E]=Y(P[H]++,H))}}function K(p){var x;for(x=0;x<b;x++)p.dyn_ltree[2*x]=0;for(x=0;x<n;x++)p.dyn_dtree[2*x]=0;for(x=0;x<f;x++)p.bl_tree[2*x]=0;p.dyn_ltree[2*w]=1,p.opt_len=p.static_len=0,p.last_lit=p.matches=0}function Q(p){8<p.bi_valid?V(p,p.bi_buf):0<p.bi_valid&&(p.pending_buf[p.pending++]=p.bi_buf),p.bi_buf=0,p.bi_valid=0}function nt(p,x,N,L){var E=2*x,P=2*N;return p[E]<p[P]||p[E]===p[P]&&L[x]<=L[N]}function at(p,x,N){for(var L=p.heap[N],E=N<<1;E<=p.heap_len&&(E<p.heap_len&&nt(x,p.heap[E+1],p.heap[E],p.depth)&&E++,!nt(x,L,p.heap[E],p.depth));)p.heap[N]=p.heap[E],N=E,E<<=1;p.heap[N]=L}function lt(p,x,N){var L,E,P,Z,H=0;if(p.last_lit!==0)for(;L=p.pending_buf[p.d_buf+2*H]<<8|p.pending_buf[p.d_buf+2*H+1],E=p.pending_buf[p.l_buf+H],H++,L===0?R(p,E,x):(R(p,(P=a[E])+c+1,x),(Z=B[P])!==0&&F(p,E-=$[P],Z),R(p,P=A(--L),N),(Z=W[P])!==0&&F(p,L-=j[P],Z)),H<p.last_lit;);R(p,w,x)}function ot(p,x){var N,L,E,P=x.dyn_tree,Z=x.stat_desc.static_tree,H=x.stat_desc.has_stree,J=x.stat_desc.elems,st=-1;for(p.heap_len=0,p.heap_max=h,N=0;N<J;N++)P[2*N]!==0?(p.heap[++p.heap_len]=st=N,p.depth[N]=0):P[2*N+1]=0;for(;p.heap_len<2;)P[2*(E=p.heap[++p.heap_len]=st<2?++st:0)]=1,p.depth[E]=0,p.opt_len--,H&&(p.static_len-=Z[2*E+1]);for(x.max_code=st,N=p.heap_len>>1;1<=N;N--)at(p,P,N);for(E=J;N=p.heap[1],p.heap[1]=p.heap[p.heap_len--],at(p,P,1),L=p.heap[1],p.heap[--p.heap_max]=N,p.heap[--p.heap_max]=L,P[2*E]=P[2*N]+P[2*L],p.depth[E]=(p.depth[N]>=p.depth[L]?p.depth[N]:p.depth[L])+1,P[2*N+1]=P[2*L+1]=E,p.heap[1]=E++,at(p,P,1),2<=p.heap_len;);p.heap[--p.heap_max]=p.heap[1],function(it,_t){var kt,mt,xt,ht,zt,Ut,gt=_t.dyn_tree,Xt=_t.max_code,Be=_t.stat_desc.static_tree,Pe=_t.stat_desc.has_stree,Re=_t.stat_desc.extra_bits,Qt=_t.stat_desc.extra_base,St=_t.stat_desc.max_length,At=0;for(ht=0;ht<=_;ht++)it.bl_count[ht]=0;for(gt[2*it.heap[it.heap_max]+1]=0,kt=it.heap_max+1;kt<h;kt++)St<(ht=gt[2*gt[2*(mt=it.heap[kt])+1]+1]+1)&&(ht=St,At++),gt[2*mt+1]=ht,Xt<mt||(it.bl_count[ht]++,zt=0,Qt<=mt&&(zt=Re[mt-Qt]),Ut=gt[2*mt],it.opt_len+=Ut*(ht+zt),Pe&&(it.static_len+=Ut*(Be[2*mt+1]+zt)));if(At!==0){do{for(ht=St-1;it.bl_count[ht]===0;)ht--;it.bl_count[ht]--,it.bl_count[ht+1]+=2,it.bl_count[St]--,At-=2}while(0<At);for(ht=St;ht!==0;ht--)for(mt=it.bl_count[ht];mt!==0;)Xt<(xt=it.heap[--kt])||(gt[2*xt+1]!==ht&&(it.opt_len+=(ht-gt[2*xt+1])*gt[2*xt],gt[2*xt+1]=ht),mt--)}}(p,x),rt(P,st,p.bl_count)}function e(p,x,N){var L,E,P=-1,Z=x[1],H=0,J=7,st=4;for(Z===0&&(J=138,st=3),x[2*(N+1)+1]=65535,L=0;L<=N;L++)E=Z,Z=x[2*(L+1)+1],++H<J&&E===Z||(H<st?p.bl_tree[2*E]+=H:E!==0?(E!==P&&p.bl_tree[2*E]++,p.bl_tree[2*S]++):H<=10?p.bl_tree[2*C]++:p.bl_tree[2*U]++,P=E,st=(H=0)===Z?(J=138,3):E===Z?(J=6,3):(J=7,4))}function I(p,x,N){var L,E,P=-1,Z=x[1],H=0,J=7,st=4;for(Z===0&&(J=138,st=3),L=0;L<=N;L++)if(E=Z,Z=x[2*(L+1)+1],!(++H<J&&E===Z)){if(H<st)for(;R(p,E,p.bl_tree),--H!=0;);else E!==0?(E!==P&&(R(p,E,p.bl_tree),H--),R(p,S,p.bl_tree),F(p,H-3,2)):H<=10?(R(p,C,p.bl_tree),F(p,H-3,3)):(R(p,U,p.bl_tree),F(p,H-11,7));P=E,st=(H=0)===Z?(J=138,3):E===Z?(J=6,3):(J=7,4)}}u(j);var z=!1;function g(p,x,N,L){F(p,(m<<1)+(L?1:0),3),function(E,P,Z,H){Q(E),H&&(V(E,Z),V(E,~Z)),i.arraySet(E.pending_buf,E.window,P,Z,E.pending),E.pending+=Z}(p,x,N,!0)}o._tr_init=function(p){z||(function(){var x,N,L,E,P,Z=new Array(_+1);for(E=L=0;E<v-1;E++)for($[E]=L,x=0;x<1<<B[E];x++)a[L++]=E;for(a[L-1]=E,E=P=0;E<16;E++)for(j[E]=P,x=0;x<1<<W[E];x++)O[P++]=E;for(P>>=7;E<n;E++)for(j[E]=P<<7,x=0;x<1<<W[E]-7;x++)O[256+P++]=E;for(N=0;N<=_;N++)Z[N]=0;for(x=0;x<=143;)q[2*x+1]=8,x++,Z[8]++;for(;x<=255;)q[2*x+1]=9,x++,Z[9]++;for(;x<=279;)q[2*x+1]=7,x++,Z[7]++;for(;x<=287;)q[2*x+1]=8,x++,Z[8]++;for(rt(q,b+1,Z),x=0;x<n;x++)k[2*x+1]=5,k[2*x]=Y(x,5);tt=new X(q,B,c+1,b,_),M=new X(k,W,0,n,_),et=new X(new Array(0),T,0,f,y)}(),z=!0),p.l_desc=new D(p.dyn_ltree,tt),p.d_desc=new D(p.dyn_dtree,M),p.bl_desc=new D(p.bl_tree,et),p.bi_buf=0,p.bi_valid=0,K(p)},o._tr_stored_block=g,o._tr_flush_block=function(p,x,N,L){var E,P,Z=0;0<p.level?(p.strm.data_type===2&&(p.strm.data_type=function(H){var J,st=4093624447;for(J=0;J<=31;J++,st>>>=1)if(1&st&&H.dyn_ltree[2*J]!==0)return l;if(H.dyn_ltree[18]!==0||H.dyn_ltree[20]!==0||H.dyn_ltree[26]!==0)return r;for(J=32;J<c;J++)if(H.dyn_ltree[2*J]!==0)return r;return l}(p)),ot(p,p.l_desc),ot(p,p.d_desc),Z=function(H){var J;for(e(H,H.dyn_ltree,H.l_desc.max_code),e(H,H.dyn_dtree,H.d_desc.max_code),ot(H,H.bl_desc),J=f-1;3<=J&&H.bl_tree[2*G[J]+1]===0;J--);return H.opt_len+=3*(J+1)+5+5+4,J}(p),E=p.opt_len+3+7>>>3,(P=p.static_len+3+7>>>3)<=E&&(E=P)):E=P=N+5,N+4<=E&&x!==-1?g(p,x,N,L):p.strategy===4||P===E?(F(p,2+(L?1:0),3),lt(p,q,k)):(F(p,4+(L?1:0),3),function(H,J,st,it){var _t;for(F(H,J-257,5),F(H,st-1,5),F(H,it-4,4),_t=0;_t<it;_t++)F(H,H.bl_tree[2*G[_t]+1],3);I(H,H.dyn_ltree,J-1),I(H,H.dyn_dtree,st-1)}(p,p.l_desc.max_code+1,p.d_desc.max_code+1,Z+1),lt(p,p.dyn_ltree,p.dyn_dtree)),K(p),L&&Q(p)},o._tr_tally=function(p,x,N){return p.pending_buf[p.d_buf+2*p.last_lit]=x>>>8&255,p.pending_buf[p.d_buf+2*p.last_lit+1]=255&x,p.pending_buf[p.l_buf+p.last_lit]=255&N,p.last_lit++,x===0?p.dyn_ltree[2*N]++:(p.matches++,x--,p.dyn_ltree[2*(a[N]+c+1)]++,p.dyn_dtree[2*A(x)]++),p.last_lit===p.lit_bufsize-1},o._tr_align=function(p){F(p,2,3),R(p,w,q),function(x){x.bi_valid===16?(V(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):8<=x.bi_valid&&(x.pending_buf[x.pending++]=255&x.bi_buf,x.bi_buf>>=8,x.bi_valid-=8)}(p)}},{"../utils/common":41}],53:[function(t,s,o){"use strict";s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,s,o){(function(i){(function(l,r){"use strict";if(!l.setImmediate){var u,m,v,c,b=1,n={},f=!1,h=l.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(l);_=_&&_.setTimeout?_:l,u={}.toString.call(l.process)==="[object process]"?function(S){process.nextTick(function(){y(S)})}:function(){if(l.postMessage&&!l.importScripts){var S=!0,C=l.onmessage;return l.onmessage=function(){S=!1},l.postMessage("","*"),l.onmessage=C,S}}()?(c="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",w,!1):l.attachEvent("onmessage",w),function(S){l.postMessage(c+S,"*")}):l.MessageChannel?((v=new MessageChannel).port1.onmessage=function(S){y(S.data)},function(S){v.port2.postMessage(S)}):h&&"onreadystatechange"in h.createElement("script")?(m=h.documentElement,function(S){var C=h.createElement("script");C.onreadystatechange=function(){y(S),C.onreadystatechange=null,m.removeChild(C),C=null},m.appendChild(C)}):function(S){setTimeout(y,0,S)},_.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var C=new Array(arguments.length-1),U=0;U<C.length;U++)C[U]=arguments[U+1];var B={callback:S,args:C};return n[b]=B,u(b),b++},_.clearImmediate=d}function d(S){delete n[S]}function y(S){if(f)setTimeout(y,0,S);else{var C=n[S];if(C){f=!0;try{(function(U){var B=U.callback,W=U.args;switch(W.length){case 0:B();break;case 1:B(W[0]);break;case 2:B(W[0],W[1]);break;case 3:B(W[0],W[1],W[2]);break;default:B.apply(r,W)}})(C)}finally{d(S),f=!1}}}}function w(S){S.source===l&&typeof S.data=="string"&&S.data.indexOf(c)===0&&y(+S.data.slice(c.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var Tt,ut,ae,He,vt,ee,se,oe,le,Mt,Lt,$t,Ge,Et={},ue=[],Je=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Bt=Array.isArray;function bt(t,s){for(var o in s)t[o]=s[o];return t}function Wt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Zt(t,s,o){var i,l,r,u={};for(r in s)r=="key"?i=s[r]:r=="ref"?l=s[r]:u[r]=s[r];if(arguments.length>2&&(u.children=arguments.length>3?Tt.call(arguments,2):o),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)u[r]===void 0&&(u[r]=t.defaultProps[r]);return Ft(t,u,i,l,null)}function Ft(t,s,o,i,l){var r={type:t,props:s,key:o,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:l??++ae,__i:-1,__u:0};return l==null&&ut.vnode!=null&&ut.vnode(r),r}function Pt(t){return t.children}function Ot(t,s){this.props=t,this.context=s}function wt(t,s){if(s==null)return t.__?wt(t.__,t.__i+1):null;for(var o;s<t.__k.length;s++)if((o=t.__k[s])!=null&&o.__e!=null)return o.__e;return typeof t.type=="function"?wt(t):null}function he(t){var s,o;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,s=0;s<t.__k.length;s++)if((o=t.__k[s])!=null&&o.__e!=null){t.__e=t.__c.base=o.__e;break}return he(t)}}function re(t){(!t.__d&&(t.__d=!0)&&vt.push(t)&&!Dt.__r++||ee!=ut.debounceRendering)&&((ee=ut.debounceRendering)||se)(Dt)}function Dt(){for(var t,s,o,i,l,r,u,m=1;vt.length;)vt.length>m&&vt.sort(oe),t=vt.shift(),m=vt.length,t.__d&&(o=void 0,i=void 0,l=(i=(s=t).__v).__e,r=[],u=[],s.__P&&((o=bt({},i)).__v=i.__v+1,ut.vnode&&ut.vnode(o),Ht(s.__P,o,i,s.__n,s.__P.namespaceURI,32&i.__u?[l]:null,r,l??wt(i),!!(32&i.__u),u),o.__v=i.__v,o.__.__k[o.__i]=o,fe(r,o,u),i.__e=i.__=null,o.__e!=l&&he(o)));Dt.__r=0}function ce(t,s,o,i,l,r,u,m,v,c,b){var n,f,h,_,d,y,w,S=i&&i.__k||ue,C=s.length;for(v=Ke(o,s,S,v,C),n=0;n<C;n++)(h=o.__k[n])!=null&&(f=h.__i==-1?Et:S[h.__i]||Et,h.__i=n,y=Ht(t,h,f,l,r,u,m,v,c,b),_=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&Gt(f.ref,null,h),b.push(h.ref,h.__c||_,h)),d==null&&_!=null&&(d=_),(w=!!(4&h.__u))||f.__k===h.__k?v=de(h,v,t,w):typeof h.type=="function"&&y!==void 0?v=y:_&&(v=_.nextSibling),h.__u&=-7);return o.__e=d,v}function Ke(t,s,o,i,l){var r,u,m,v,c,b=o.length,n=b,f=0;for(t.__k=new Array(l),r=0;r<l;r++)(u=s[r])!=null&&typeof u!="boolean"&&typeof u!="function"?(typeof u=="string"||typeof u=="number"||typeof u=="bigint"||u.constructor==String?u=t.__k[r]=Ft(null,u,null,null,null):Bt(u)?u=t.__k[r]=Ft(Pt,{children:u},null,null,null):u.constructor==null&&u.__b>0?u=t.__k[r]=Ft(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):t.__k[r]=u,v=r+f,u.__=t,u.__b=t.__b+1,m=null,(c=u.__i=qe(u,o,v,n))!=-1&&(n--,(m=o[c])&&(m.__u|=2)),m==null||m.__v==null?(c==-1&&(l>b?f--:l<b&&f++),typeof u.type!="function"&&(u.__u|=4)):c!=v&&(c==v-1?f--:c==v+1?f++:(c>v?f--:f++,u.__u|=4))):t.__k[r]=null;if(n)for(r=0;r<b;r++)(m=o[r])!=null&&!(2&m.__u)&&(m.__e==i&&(i=wt(m)),_e(m,m));return i}function de(t,s,o,i){var l,r;if(typeof t.type=="function"){for(l=t.__k,r=0;l&&r<l.length;r++)l[r]&&(l[r].__=t,s=de(l[r],s,o,i));return s}t.__e!=s&&(i&&(s&&t.type&&!s.parentNode&&(s=wt(t)),o.insertBefore(t.__e,s||null)),s=t.__e);do s=s&&s.nextSibling;while(s!=null&&s.nodeType==8);return s}function qe(t,s,o,i){var l,r,u,m=t.key,v=t.type,c=s[o],b=c!=null&&(2&c.__u)==0;if(c===null&&m==null||b&&m==c.key&&v==c.type)return o;if(i>(b?1:0)){for(l=o-1,r=o+1;l>=0||r<s.length;)if((c=s[u=l>=0?l--:r++])!=null&&!(2&c.__u)&&m==c.key&&v==c.type)return u}return-1}function ne(t,s,o){s[0]=="-"?t.setProperty(s,o??""):t[s]=o==null?"":typeof o!="number"||Je.test(s)?o:o+"px"}function It(t,s,o,i,l){var r,u;t:if(s=="style")if(typeof o=="string")t.style.cssText=o;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(s in i)o&&s in o||ne(t.style,s,"");if(o)for(s in o)i&&o[s]==i[s]||ne(t.style,s,o[s])}else if(s[0]=="o"&&s[1]=="n")r=s!=(s=s.replace(le,"$1")),u=s.toLowerCase(),s=u in t||s=="onFocusOut"||s=="onFocusIn"?u.slice(2):s.slice(2),t.l||(t.l={}),t.l[s+r]=o,o?i?o.u=i.u:(o.u=Mt,t.addEventListener(s,r?$t:Lt,r)):t.removeEventListener(s,r?$t:Lt,r);else{if(l=="http://www.w3.org/2000/svg")s=s.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(s!="width"&&s!="height"&&s!="href"&&s!="list"&&s!="form"&&s!="tabIndex"&&s!="download"&&s!="rowSpan"&&s!="colSpan"&&s!="role"&&s!="popover"&&s in t)try{t[s]=o??"";break t}catch{}typeof o=="function"||(o==null||o===!1&&s[4]!="-"?t.removeAttribute(s):t.setAttribute(s,s=="popover"&&o==1?"":o))}}function ie(t){return function(s){if(this.l){var o=this.l[s.type+t];if(s.t==null)s.t=Mt++;else if(s.t<o.u)return;return o(ut.event?ut.event(s):s)}}}function Ht(t,s,o,i,l,r,u,m,v,c){var b,n,f,h,_,d,y,w,S,C,U,B,W,T,G,q,k,O=s.type;if(s.constructor!=null)return null;128&o.__u&&(v=!!(32&o.__u),r=[m=s.__e=o.__e]),(b=ut.__b)&&b(s);t:if(typeof O=="function")try{if(w=s.props,S="prototype"in O&&O.prototype.render,C=(b=O.contextType)&&i[b.__c],U=b?C?C.props.value:b.__:i,o.__c?y=(n=s.__c=o.__c).__=n.__E:(S?s.__c=n=new O(w,U):(s.__c=n=new Ot(w,U),n.constructor=O,n.render=Ve),C&&C.sub(n),n.state||(n.state={}),n.__n=i,f=n.__d=!0,n.__h=[],n._sb=[]),S&&n.__s==null&&(n.__s=n.state),S&&O.getDerivedStateFromProps!=null&&(n.__s==n.state&&(n.__s=bt({},n.__s)),bt(n.__s,O.getDerivedStateFromProps(w,n.__s))),h=n.props,_=n.state,n.__v=s,f)S&&O.getDerivedStateFromProps==null&&n.componentWillMount!=null&&n.componentWillMount(),S&&n.componentDidMount!=null&&n.__h.push(n.componentDidMount);else{if(S&&O.getDerivedStateFromProps==null&&w!==h&&n.componentWillReceiveProps!=null&&n.componentWillReceiveProps(w,U),s.__v==o.__v||!n.__e&&n.shouldComponentUpdate!=null&&n.shouldComponentUpdate(w,n.__s,U)===!1){for(s.__v!=o.__v&&(n.props=w,n.state=n.__s,n.__d=!1),s.__e=o.__e,s.__k=o.__k,s.__k.some(function(a){a&&(a.__=s)}),B=0;B<n._sb.length;B++)n.__h.push(n._sb[B]);n._sb=[],n.__h.length&&u.push(n);break t}n.componentWillUpdate!=null&&n.componentWillUpdate(w,n.__s,U),S&&n.componentDidUpdate!=null&&n.__h.push(function(){n.componentDidUpdate(h,_,d)})}if(n.context=U,n.props=w,n.__P=t,n.__e=!1,W=ut.__r,T=0,S){for(n.state=n.__s,n.__d=!1,W&&W(s),b=n.render(n.props,n.state,n.context),G=0;G<n._sb.length;G++)n.__h.push(n._sb[G]);n._sb=[]}else do n.__d=!1,W&&W(s),b=n.render(n.props,n.state,n.context),n.state=n.__s;while(n.__d&&++T<25);n.state=n.__s,n.getChildContext!=null&&(i=bt(bt({},i),n.getChildContext())),S&&!f&&n.getSnapshotBeforeUpdate!=null&&(d=n.getSnapshotBeforeUpdate(h,_)),q=b,b!=null&&b.type===Pt&&b.key==null&&(q=pe(b.props.children)),m=ce(t,Bt(q)?q:[q],s,o,i,l,r,u,m,v,c),n.base=s.__e,s.__u&=-161,n.__h.length&&u.push(n),y&&(n.__E=n.__=null)}catch(a){if(s.__v=null,v||r!=null)if(a.then){for(s.__u|=v?160:128;m&&m.nodeType==8&&m.nextSibling;)m=m.nextSibling;r[r.indexOf(m)]=null,s.__e=m}else{for(k=r.length;k--;)Wt(r[k]);jt(s)}else s.__e=o.__e,s.__k=o.__k,a.then||jt(s);ut.__e(a,s,o)}else r==null&&s.__v==o.__v?(s.__k=o.__k,s.__e=o.__e):m=s.__e=Ye(o.__e,s,o,i,l,r,u,v,c);return(b=ut.diffed)&&b(s),128&s.__u?void 0:m}function jt(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(jt)}function fe(t,s,o){for(var i=0;i<o.length;i++)Gt(o[i],o[++i],o[++i]);ut.__c&&ut.__c(s,t),t.some(function(l){try{t=l.__h,l.__h=[],t.some(function(r){r.call(l)})}catch(r){ut.__e(r,l.__v)}})}function pe(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Bt(t)?t.map(pe):bt({},t)}function Ye(t,s,o,i,l,r,u,m,v){var c,b,n,f,h,_,d,y=o.props||Et,w=s.props,S=s.type;if(S=="svg"?l="http://www.w3.org/2000/svg":S=="math"?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),r!=null){for(c=0;c<r.length;c++)if((h=r[c])&&"setAttribute"in h==!!S&&(S?h.localName==S:h.nodeType==3)){t=h,r[c]=null;break}}if(t==null){if(S==null)return document.createTextNode(w);t=document.createElementNS(l,S,w.is&&w),m&&(ut.__m&&ut.__m(s,r),m=!1),r=null}if(S==null)y===w||m&&t.data==w||(t.data=w);else{if(r=r&&Tt.call(t.childNodes),!m&&r!=null)for(y={},c=0;c<t.attributes.length;c++)y[(h=t.attributes[c]).name]=h.value;for(c in y)if(h=y[c],c!="children"){if(c=="dangerouslySetInnerHTML")n=h;else if(!(c in w)){if(c=="value"&&"defaultValue"in w||c=="checked"&&"defaultChecked"in w)continue;It(t,c,null,h,l)}}for(c in w)h=w[c],c=="children"?f=h:c=="dangerouslySetInnerHTML"?b=h:c=="value"?_=h:c=="checked"?d=h:m&&typeof h!="function"||y[c]===h||It(t,c,h,y[c],l);if(b)m||n&&(b.__html==n.__html||b.__html==t.innerHTML)||(t.innerHTML=b.__html),s.__k=[];else if(n&&(t.innerHTML=""),ce(s.type=="template"?t.content:t,Bt(f)?f:[f],s,o,i,S=="foreignObject"?"http://www.w3.org/1999/xhtml":l,r,u,r?r[0]:o.__k&&wt(o,0),m,v),r!=null)for(c=r.length;c--;)Wt(r[c]);m||(c="value",S=="progress"&&_==null?t.removeAttribute("value"):_!=null&&(_!==t[c]||S=="progress"&&!_||S=="option"&&_!=y[c])&&It(t,c,_,y[c],l),c="checked",d!=null&&d!=t[c]&&It(t,c,d,y[c],l))}return t}function Gt(t,s,o){try{if(typeof t=="function"){var i=typeof t.__u=="function";i&&t.__u(),i&&s==null||(t.__u=t(s))}else t.current=s}catch(l){ut.__e(l,o)}}function _e(t,s,o){var i,l;if(ut.unmount&&ut.unmount(t),(i=t.ref)&&(i.current&&i.current!=t.__e||Gt(i,null,s)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){ut.__e(r,s)}i.base=i.__P=null}if(i=t.__k)for(l=0;l<i.length;l++)i[l]&&_e(i[l],s,o||typeof t.type!="function");o||Wt(t.__e),t.__c=t.__=t.__e=void 0}function Ve(t,s,o){return this.constructor(t,o)}function me(t,s,o){var i,l,r,u;s==document&&(s=document.documentElement),ut.__&&ut.__(t,s),l=(i=typeof o=="function")?null:o&&o.__k||s.__k,r=[],u=[],Ht(s,t=(!i&&o||s).__k=Zt(Pt,null,[t]),l||Et,Et,s.namespaceURI,!i&&o?[o]:l?null:s.firstChild?Tt.call(s.childNodes):null,r,!i&&o?o:l?l.__e:s.firstChild,i,u),fe(r,t,u)}Tt=ue.slice,ut={__e:function(t,s,o,i){for(var l,r,u;s=s.__;)if((l=s.__c)&&!l.__)try{if((r=l.constructor)&&r.getDerivedStateFromError!=null&&(l.setState(r.getDerivedStateFromError(t)),u=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(t,i||{}),u=l.__d),u)return l.__E=l}catch(m){t=m}throw t}},ae=0,He=function(t){return t!=null&&t.constructor==null},Ot.prototype.setState=function(t,s){var o;o=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=bt({},this.state),typeof t=="function"&&(t=t(bt({},o),this.props)),t&&bt(o,t),t!=null&&this.__v&&(s&&this._sb.push(s),re(this))},Ot.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),re(this))},Ot.prototype.render=Pt,vt=[],se=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,oe=function(t,s){return t.__v.__b-s.__v.__b},Dt.__r=0,le=/(PointerCapture)$|Capture$/i,Mt=0,Lt=ie(!1),$t=ie(!0),Ge=0;var Nt,ct,Jt,ge,Kt=0,Ce=[],dt=ut,be=dt.__b,ye=dt.__r,ve=dt.diffed,we=dt.__c,ke=dt.unmount,xe=dt.__;function Ee(t,s){dt.__h&&dt.__h(ct,t,Kt||s),Kt=0;var o=ct.__H||(ct.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({}),o.__[t]}function ft(t){return Kt=1,Xe(ze,t)}function Xe(t,s,o){var i=Ee(Nt++,2);if(i.t=t,!i.__c&&(i.__=[o?o(s):ze(void 0,s),function(m){var v=i.__N?i.__N[0]:i.__[0],c=i.t(v,m);v!==c&&(i.__N=[c,i.__[1]],i.__c.setState({}))}],i.__c=ct,!ct.__f)){var l=function(m,v,c){if(!i.__c.__H)return!0;var b=i.__c.__H.__.filter(function(f){return!!f.__c});if(b.every(function(f){return!f.__N}))return!r||r.call(this,m,v,c);var n=i.__c.props!==m;return b.forEach(function(f){if(f.__N){var h=f.__[0];f.__=f.__N,f.__N=void 0,h!==f.__[0]&&(n=!0)}}),r&&r.call(this,m,v,c)||n};ct.__f=!0;var r=ct.shouldComponentUpdate,u=ct.componentWillUpdate;ct.componentWillUpdate=function(m,v,c){if(this.__e){var b=r;r=void 0,l(m,v,c),r=b}u&&u.call(this,m,v,c)},ct.shouldComponentUpdate=l}return i.__N||i.__}function Yt(t,s){var o=Ee(Nt++,7);return er(o.__H,s)&&(o.__=t(),o.__H=s,o.__h=t),o.__}function Qe(){for(var t;t=Ce.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Rt),t.__H.__h.forEach(qt),t.__H.__h=[]}catch(s){t.__H.__h=[],dt.__e(s,t.__v)}}dt.__b=function(t){ct=null,be&&be(t)},dt.__=function(t,s){t&&s.__k&&s.__k.__m&&(t.__m=s.__k.__m),xe&&xe(t,s)},dt.__r=function(t){ye&&ye(t),Nt=0;var s=(ct=t.__c).__H;s&&(Jt===ct?(s.__h=[],ct.__h=[],s.__.forEach(function(o){o.__N&&(o.__=o.__N),o.u=o.__N=void 0})):(s.__h.forEach(Rt),s.__h.forEach(qt),s.__h=[],Nt=0)),Jt=ct},dt.diffed=function(t){ve&&ve(t);var s=t.__c;s&&s.__H&&(s.__H.__h.length&&(Ce.push(s)!==1&&ge===dt.requestAnimationFrame||((ge=dt.requestAnimationFrame)||tr)(Qe)),s.__H.__.forEach(function(o){o.u&&(o.__H=o.u),o.u=void 0})),Jt=ct=null},dt.__c=function(t,s){s.some(function(o){try{o.__h.forEach(Rt),o.__h=o.__h.filter(function(i){return!i.__||qt(i)})}catch(i){s.some(function(l){l.__h&&(l.__h=[])}),s=[],dt.__e(i,o.__v)}}),we&&we(t,s)},dt.unmount=function(t){ke&&ke(t);var s,o=t.__c;o&&o.__H&&(o.__H.__.forEach(function(i){try{Rt(i)}catch(l){s=l}}),o.__H=void 0,s&&dt.__e(s,o.__v))};var Se=typeof requestAnimationFrame=="function";function tr(t){var s,o=function(){clearTimeout(i),Se&&cancelAnimationFrame(s),setTimeout(t)},i=setTimeout(o,35);Se&&(s=requestAnimationFrame(o))}function Rt(t){var s=ct,o=t.__c;typeof o=="function"&&(t.__c=void 0,o()),ct=s}function qt(t){var s=ct;t.__c=t.__(),ct=s}function er(t,s){return!t||t.length!==s.length||s.some(function(o,i){return o!==t[i]})}function ze(t,s){return typeof s=="function"?s(t):s}var Ie=function(t,s,o,i){var l;s[0]=0;for(var r=1;r<s.length;r++){var u=s[r++],m=s[r]?(s[0]|=u?1:2,o[s[r++]]):s[++r];u===3?i[0]=m:u===4?i[1]=Object.assign(i[1]||{},m):u===5?(i[1]=i[1]||{})[s[++r]]=m:u===6?i[1][s[++r]]+=m+"":u?(l=t.apply(m,Ie(t,m,o,["",null])),i.push(l),m[0]?s[0]|=2:(s[r-2]=0,s[r]=l)):i.push(m)}return i},Ae=new Map;function Fe(t){var s=Ae.get(this);return s||(s=new Map,Ae.set(this,s)),(s=Ie(this,s.get(t)||(s.set(t,s=function(o){for(var i,l,r=1,u="",m="",v=[0],c=function(f){r===1&&(f||(u=u.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?v.push(0,f,u):r===3&&(f||u)?(v.push(3,f,u),r=2):r===2&&u==="..."&&f?v.push(4,f,0):r===2&&u&&!f?v.push(5,0,!0,u):r>=5&&((u||!f&&r===5)&&(v.push(r,0,u,l),r=6),f&&(v.push(r,f,0,l),r=6)),u=""},b=0;b<o.length;b++){b&&(r===1&&c(),c(b));for(var n=0;n<o[b].length;n++)i=o[b][n],r===1?i==="<"?(c(),v=[v],r=3):u+=i:r===4?u==="--"&&i===">"?(r=1,u=""):u=i+u[0]:m?i===m?m="":u+=i:i==='"'||i==="'"?m=i:i===">"?(c(),r=1):r&&(i==="="?(r=5,l=u,u=""):i==="/"&&(r<5||o[b][n+1]===">")?(c(),r===3&&(v=v[0]),r=v,(v=v[0]).push(2,0,r),r=0):i===" "||i==="	"||i===`
`||i==="\r"?(c(),r=2):u+=i),r===3&&u==="!--"&&(r=4,v=v[0])}return c(),v}(t)),s),arguments,[])).length>1?s:s[0]}var Te=Ze(De());var yt=[{name:"Genesis",startFile:1,chapters:50},{name:"Exodus",startFile:51,chapters:40},{name:"Leviticus",startFile:91,chapters:27},{name:"Numbers",startFile:118,chapters:36},{name:"Deuteronomy",startFile:154,chapters:34},{name:"Joshua",startFile:188,chapters:24},{name:"Judges",startFile:212,chapters:21},{name:"Ruth",startFile:233,chapters:4},{name:"1 Samuel",startFile:237,chapters:31},{name:"2 Samuel",startFile:268,chapters:24},{name:"1 Kings",startFile:292,chapters:22},{name:"2 Kings",startFile:314,chapters:25},{name:"1 Chronicles",startFile:339,chapters:29},{name:"2 Chronicles",startFile:368,chapters:36},{name:"Ezra",startFile:404,chapters:10},{name:"Nehemiah",startFile:414,chapters:13},{name:"Esther",startFile:427,chapters:10},{name:"Job",startFile:437,chapters:42},{name:"Psalms",startFile:479,chapters:150},{name:"Proverbs",startFile:629,chapters:31},{name:"Ecclesiastes",startFile:660,chapters:12},{name:"Songs",startFile:672,chapters:8},{name:"Isaiah",startFile:680,chapters:66},{name:"Jeremiah",startFile:746,chapters:52},{name:"Lamentations",startFile:798,chapters:5},{name:"Ezekiel",startFile:803,chapters:48},{name:"Daniel",startFile:851,chapters:12},{name:"Hosea",startFile:863,chapters:14},{name:"Joel",startFile:877,chapters:3},{name:"Amos",startFile:880,chapters:9},{name:"Obadiah",startFile:889,chapters:1},{name:"Jonah",startFile:890,chapters:4},{name:"Micah",startFile:894,chapters:7},{name:"Nahum",startFile:901,chapters:3},{name:"Habakkuk",startFile:904,chapters:3},{name:"Zephaniah",startFile:907,chapters:3},{name:"Haggai",startFile:910,chapters:2},{name:"Zechariah",startFile:912,chapters:14},{name:"Malachi",startFile:926,chapters:4},{name:"Matthew",startFile:930,chapters:28},{name:"Mark",startFile:958,chapters:16},{name:"Luke",startFile:974,chapters:24},{name:"John",startFile:998,chapters:21},{name:"Acts",startFile:1019,chapters:28},{name:"Romans",startFile:1047,chapters:16},{name:"1 Corinthians",startFile:1063,chapters:16},{name:"2 Corinthians",startFile:1079,chapters:13},{name:"Galatians",startFile:1092,chapters:6},{name:"Ephesians",startFile:1098,chapters:6},{name:"Philippians",startFile:1104,chapters:4},{name:"Colossians",startFile:1108,chapters:4},{name:"1 Thessalonians",startFile:1112,chapters:5},{name:"2 Thessalonians",startFile:1117,chapters:3},{name:"1 Timothy",startFile:1120,chapters:6},{name:"2 Timothy",startFile:1126,chapters:4},{name:"Titus",startFile:1130,chapters:3},{name:"Philemon",startFile:1133,chapters:1},{name:"Hebrews",startFile:1134,chapters:13},{name:"James",startFile:1147,chapters:5},{name:"1 Peter",startFile:1152,chapters:5},{name:"2 Peter",startFile:1157,chapters:3},{name:"1 John",startFile:1160,chapters:5},{name:"2 John",startFile:1165,chapters:1},{name:"3 John",startFile:1166,chapters:1},{name:"Jude",startFile:1167,chapters:1},{name:"Revelation",startFile:1168,chapters:22}];var pt=Fe.bind(Zt),rr=()=>{let[t,s]=ft("all"),[o,i]=ft(yt.map(F=>F.name)),[l,r]=ft(3),[u,m]=ft(1),[v,c]=ft(1),[b,n]=ft(1),[f,h]=ft(!1),[_,d]=ft(!1),[y,w]=ft("mixed"),[S,C]=ft(!1),[U,B]=ft(!0),[W,T]=ft(new Date().toISOString().split("T")[0]),[G,q]=ft([1,2,3,4,5,6,0]),[k,O]=ft(""),[a,$]=ft(!1),tt=F=>{i(R=>R.includes(F)?R.filter(Y=>Y!==F):[...R,F])},M=F=>{s("custom");let R=[];if(F==="all"){i(yt.map(Y=>Y.name));return}else if(F==="none"){i([]);return}else F==="gospels"?R=["Matthew","Mark","Luke","John"]:F==="pentateuch"?R=["Genesis","Exodus","Leviticus","Numbers","Deuteronomy"]:F==="history"?R=["Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chronicles","2 Chronicles","Ezra","Nehemiah","Esther"]:F==="wisdom"?R=["Job","Psalms","Proverbs","Ecclesiastes","Songs"]:F==="major-prophets"?R=["Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel"]:F==="minor-prophets"?R=["Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi"]:F==="paul"?R=["Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon"]:F==="general-epistles"&&(R=["Hebrews","James","1 Peter","2 Peter","1 John","2 John","3 John","Jude","Revelation"]);i(Y=>R.every(K=>Y.includes(K))?Y.filter(K=>!R.includes(K)):[...new Set([...Y,...R])])},et=F=>{q(R=>R.includes(F)?R.filter(Y=>Y!==F):[...R,F].sort())},j=Yt(()=>{let F=t==="all"?yt:yt.filter(P=>o.includes(P.name));if(F.length===0)return[];let R=F.filter(P=>yt.indexOf(P)<39),Y=F.filter(P=>yt.indexOf(P)>=39),rt=[],K=[],Q=[];R.forEach(P=>{for(let Z=1;Z<=P.chapters;Z++){let H={book:P.name,chapter:Z,file:P.startFile+Z-1};P.name==="Psalms"&&f?K.push(H):P.name==="Proverbs"&&_?Q.push(H):rt.push(H)}});let nt=[];Y.forEach(P=>{for(let Z=1;Z<=P.chapters;Z++)nt.push({book:P.name,chapter:Z,file:P.startFile+Z-1})});let at=[],lt=new Date(W),ot=0,e=0,I=0,z=0,g=rt.length>0&&l>0?Math.ceil(rt.length/l):0,p=nt.length>0&&u>0?Math.ceil(nt.length/u):0,x=K.length>0&&v>0?Math.ceil(K.length/v):0,N=Q.length>0&&b>0?Math.ceil(Q.length/b):0,L=y==="mixed"?Math.max(g,p,x,N):g+p+x+N,E=0;for(;E<L;){if(!U||G.includes(lt.getDay())){let P=[];if(y==="mixed"){for(let Z=0;Z<l;Z++)ot<rt.length?P.push(rt[ot++]):S&&rt.length>0&&(P.push(rt[ot%rt.length]),ot++);for(let Z=0;Z<v;Z++)I<K.length?P.push(K[I++]):S&&K.length>0&&(P.push(K[I%K.length]),I++);for(let Z=0;Z<b;Z++)z<Q.length?P.push(Q[z++]):S&&Q.length>0&&(P.push(Q[z%Q.length]),z++);for(let Z=0;Z<u;Z++)e<nt.length?P.push(nt[e++]):S&&nt.length>0&&(P.push(nt[e%nt.length]),e++)}else{let Z=l+u+v+b;for(let H=0;H<Z;H++)ot<rt.length?P.push(rt[ot++]):I<K.length?P.push(K[I++]):z<Q.length?P.push(Q[z++]):e<nt.length&&P.push(nt[e++])}P.length>0&&at.push({date:U?new Date(lt):null,chapters:P}),E++}if(U&&lt.setDate(lt.getDate()+1),at.length>5e3)break}return at},[t,o,l,u,v,b,f,_,y,U,W,G,S]),X=Yt(()=>{let F=j.flatMap(rt=>rt.chapters.map(K=>K.file)),R=new Set(F).size,Y=F.length;return{uniqueChapters:R,totalChapters:Y,downloadSizeMB:R,totalSizeMB:Y}},[j]),D=async()=>{$(!0),O("Starting EPUB generation...");try{let F=new Te.default;F.file("mimetype","application/epub+zip",{compression:"STORE"}),F.folder("META-INF").file("container.xml",`<?xml version="1.0"?>
<container version="1.0" xmlns="urn:oasis:names:tc:opendocument:xmlns:container">
  <rootfiles>
    <rootfile full-path="OEBPS/content.opf" media-type="application/oebps-package+xml"/>
  </rootfiles>
</container>`);let Y=F.folder("OEBPS"),rt=Y.folder("Text"),K=await fetch("bsb_unzipped/stylesheet.css").then(x=>x.text()),Q=await fetch("bsb_unzipped/page_styles.css").then(x=>x.text());Y.file("Styles/stylesheet.css",K),Y.file("Styles/page_styles.css",Q);let nt=['<item id="ncx" href="toc.ncx" media-type="application/x-dtbncx+xml"/>','<item id="style" href="Styles/stylesheet.css" media-type="text/css"/>','<item id="page-style" href="Styles/page_styles.css" media-type="text/css"/>'],at=[],lt=[],ot=[...new Set(j.flatMap(x=>x.chapters.map(N=>N.file)))],e=new Map,I=100;for(let x=0;x<ot.length;x+=I){let N=ot.slice(x,x+I);O(`Pre-fetching chapters ${x+1} to ${Math.min(x+I,ot.length)} of ${ot.length}...`),await Promise.all(N.map(async L=>{let E=await V(L);e.set(L,E)}))}for(let x=0;x<j.length;x++){let N=j[x],L=N.date?N.date.toLocaleDateString():"",E=N.date?`Day ${x+1} - ${L}`:`Day ${x+1}`,P=`day_${x+1}.xhtml`;O(`Assembling Day ${x+1} of ${j.length}...`);let Z=`<h1>${E}</h1>`;Z+=`<div class="day-summary" style="page-break-after: always; border-bottom: 2px solid #eee; margin-bottom: 2rem; padding-bottom: 2rem;">
                    <h2>Today's Readings</h2>
                    <ul style="list-style-type: none; padding: 0; font-size: 1.2em;">
                        ${N.chapters.map(J=>`<li style="margin-bottom: 0.5rem;"><strong>${J.book} ${J.chapter}</strong></li>`).join("")}
                    </ul>
                </div>`;for(let J of N.chapters){let st=e.get(J.file);Z+=`<div class="chapter-container">
                        <h2>${J.book} ${J.chapter}</h2>
                        ${st}
                    </div>`}let H=`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>${E}</title>
<link rel="stylesheet" href="../Styles/stylesheet.css" type="text/css"/>
<link rel="stylesheet" href="../Styles/page_styles.css" type="text/css"/>
</head>
<body>
${Z}
</body>
</html>`;rt.file(P,H),nt.push(`<item id="day_${x+1}" href="Text/${P}" media-type="application/xhtml+xml"/>`),at.push(`<itemref idref="day_${x+1}"/>`),lt.push(`<navPoint id="nav_${x+1}" playOrder="${x+1}">
                    <navLabel><text>${E}</text></navLabel>
                    <content src="Text/${P}"/>
                </navPoint>`)}Y.file("content.opf",`<?xml version="1.0" encoding="utf-8"?>
<package xmlns="http://www.idpf.org/2007/opf" unique-identifier="uuid_id" version="2.0">
  <metadata xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:opf="http://www.idpf.org/2007/opf">
    <dc:title>Bible Reading Plan</dc:title>
    <dc:language>en</dc:language>
    <dc:identifier id="uuid_id" opf:scheme="uuid">bible-plan-${Date.now()}</dc:identifier>
  </metadata>
  <manifest>
    ${nt.join(`
    `)}
  </manifest>
  <spine toc="ncx">
    ${at.join(`
    `)}
  </spine>
</package>`),Y.file("toc.ncx",`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE ncx PUBLIC "-//NISO//DTD ncx 2005-1//EN" "http://www.daisy.org/z3986/2005/ncx-2005-1.dtd">
<ncx xmlns="http://www.daisy.org/2005/ncx/" version="2005-1">
  <head>
    <meta name="dtb:uid" content="bible-plan-${Date.now()}"/>
    <meta name="dtb:depth" content="1"/>
  </head>
  <docTitle><text>Bible Reading Plan</text></docTitle>
  <navMap>
    ${lt.join(`
    `)}
  </navMap>
</ncx>`);let z=await F.generateAsync({type:"blob"}),g=URL.createObjectURL(z),p=document.createElement("a");p.href=g,p.download="bible_reading_plan.epub",p.click(),O("EPUB generated successfully!")}catch(F){console.error(F),O("Error generating EPUB: "+F.message)}finally{$(!1)}},A=async()=>{if(!("showDirectoryPicker"in window)){alert("Audiobook generation is only supported in Chrome and Edge. Firefox and Safari do not yet support the necessary File System APIs.");return}let F;try{F=await window.showDirectoryPicker()}catch(R){if(R.name==="AbortError")return;throw R}$(!0),O("Starting Audiobook generation...");try{let R=j.length.toString().length,Y=20,rt=[];j.forEach((I,z)=>{I.chapters.forEach((g,p)=>{rt.push({dayIdx:z,chIdx:p,file:g.file,book:g.book,chapter:g.chapter})})});let K=j.map(I=>new Array(I.chapters.length)),Q=new Array(j.length).fill(0),nt=0,at=0,lt=null,ot=async()=>{for(;nt<rt.length&&!lt;){if(rt[nt].dayIdx-at>20){await new Promise(L=>setTimeout(L,500));continue}let{dayIdx:z,chIdx:g,file:p,book:x,chapter:N}=rt[nt++];try{let L=await fetch(`audio_processed/${p}.mp3`);if(!L.ok)throw new Error(`Failed to fetch audio for ${x} ${N}`);let E=await L.blob();K[z][g]=E,Q[z]++}catch(L){lt=L}}},e=Array.from({length:Y},ot);for(let I=0;I<j.length;I++){for(;Q[I]<j[I].chapters.length&&!lt;)await new Promise(st=>setTimeout(st,100));if(lt)throw lt;let z=j[I],p=`Day_${(I+1).toString().padStart(R,"0")}_`,x=".mp3",N=28-p.length-x.length,E=z.chapters.map(st=>`${st.book.substring(0,3)}${st.chapter}`).join("_").replace(/[^a-z0-9_]/gi,"").substring(0,N),P=`${p}${E}${x}`;O(`Generating Audiobook: ${I+1} / ${j.length} days...`);let Z=new Blob(K[I],{type:"audio/mpeg"}),J=await(await F.getFileHandle(P,{create:!0})).createWritable({keepExistingData:!1});await J.write(Z),await J.close(),K[I]=null,at=I}await Promise.all(e),O("Audiobook generated successfully!")}catch(R){console.error(R),O("Error generating audiobook: "+R.message)}finally{$(!1)}},V=async F=>{let R=`bsb_unzipped/bsb - final - 7-18-21/OEBPS/Text/${F}.htm`,rt=await(await fetch(R)).text(),Q=new DOMParser().parseFromString(rt,"text/html");["#topheading",".bsbheading",".cross",".nav","h1"].forEach(ot=>{Q.querySelectorAll(ot).forEach(I=>I.remove())});let at=new XMLSerializer,lt="";for(let ot of Q.body.childNodes)lt+=at.serializeToString(ot);return lt};return pt`
        <div>
            <header style="text-align: center; margin-bottom: 2rem;">
                <h1>BSB Bible Plan Generator</h1>
                <p>Generate custom EPUB reading plans and corresponding daily Audiobooks.</p>
            </header>

            <section>
                <h2>1. Reading Selection</h2>
                <div class="grid">
                    <label>
                        <input type="radio" name="selectionMode" value="all" checked=${t==="all"} onChange=${()=>s("all")} />
                        Whole Bible
                    </label>
                    <label>
                        <input type="radio" name="selectionMode" value="custom" checked=${t==="custom"} onChange=${()=>s("custom")} />
                        Custom Selection
                    </label>
                </div>

                ${t==="custom"&&pt`
                    <div>
                        <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem; border-bottom: 1px solid var(--muted-border-color); padding-bottom: 1rem;">
                            <button type="button" class="outline secondary" style="padding: 0.25rem 0.75rem; font-size: 0.8rem; margin-bottom: 0; width: auto;" onClick=${()=>M("all")}>Select All</button>
                            <button type="button" class="outline secondary" style="padding: 0.25rem 0.75rem; font-size: 0.8rem; margin-bottom: 0; width: auto;" onClick=${()=>M("none")}>Select NOOOONe</button>
                        </div>
                        <div class="grid" style="grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 0.5rem; margin-bottom: 1rem;">
                            <button type="button" style="padding: 0.5rem; font-size: 0.85rem; margin-bottom: 0;" onClick=${()=>M("pentateuch")}>Pentateuch</button>
                            <button type="button" style="padding: 0.5rem; font-size: 0.85rem; margin-bottom: 0;" onClick=${()=>M("history")}>History</button>
                            <button type="button" style="padding: 0.5rem; font-size: 0.85rem; margin-bottom: 0;" onClick=${()=>M("wisdom")}>Wisdom</button>
                            <button type="button" style="padding: 0.5rem; font-size: 0.85rem; margin-bottom: 0;" onClick=${()=>M("major-prophets")}>Major Prophets</button>
                            <button type="button" style="padding: 0.5rem; font-size: 0.85rem; margin-bottom: 0;" onClick=${()=>M("minor-prophets")}>Minor Prophets</button>
                            <button type="button" style="padding: 0.5rem; font-size: 0.85rem; margin-bottom: 0;" onClick=${()=>M("gospels")}>Gospels</button>
                            <button type="button" style="padding: 0.5rem; font-size: 0.85rem; margin-bottom: 0;" onClick=${()=>M("paul")}>Paul's Letters</button>
                            <button type="button" style="padding: 0.5rem; font-size: 0.85rem; margin-bottom: 0;" onClick=${()=>M("general-epistles")}>General Epistles</button>
                        </div>
                        <div class="book-selection">
                            ${yt.map(F=>pt`
                                <label class="book-item">
                                    <input type="checkbox" checked=${o.includes(F.name)} onChange=${()=>tt(F.name)} />
                                    ${F.name}
                                </label>
                            `)}
                        </div>
                    </div>
                `}

                <div class="grid">
                    <label>OT Chapters per day:
                        <input type="number" value=${l} onInput=${F=>r(parseInt(F.target.value)||0)} min="0" />
                    </label>
                    <label>NT Chapters per day:
                        <input type="number" value=${u} onInput=${F=>m(parseInt(F.target.value)||0)} min="0" />
                    </label>
                    ${f&&pt`
                        <label>Psalms per day:
                            <input type="number" value=${v} onInput=${F=>c(parseInt(F.target.value)||0)} min="1" />
                        </label>
                    `}
                    ${_&&pt`
                        <label>Proverbs per day:
                            <input type="number" value=${b} onInput=${F=>n(parseInt(F.target.value)||0)} min="1" />
                        </label>
                    `}
                </div>

                <div style="margin-top: 1rem; display: flex; gap: 1rem;">
                    <button type="button" class="${f?"":"outline"}" onClick=${()=>h(!f)}>
                        ${f?"\u2713 Psalms Split Out":"Split out Psalms"}
                    </button>
                    <button type="button" class="${_?"":"outline"}" onClick=${()=>d(!_)}>
                        ${_?"\u2713 Proverbs Split Out":"Split out Proverbs"}
                    </button>
                </div>
            </section>

            <section>
                <h2>2. Plan Style</h2>
                <div class="grid" style="align-items: end;">
                    <label>Order:
                        <select value=${y} onChange=${F=>w(F.target.value)}>
                            <option value="mixed">Mixed (OT and NT together)</option>
                            <option value="sequential">Sequential (OT then NT)</option>
                        </select>
                    </label>
                    <div style="margin-bottom: var(--spacing);">
                        <label>
                            <input type="checkbox" checked=${U} onChange=${F=>B(F.target.checked)} />
                            Use Dates
                        </label>
                    </div>
                </div>

                ${y==="mixed"&&pt`
                    <div style="margin-bottom: var(--spacing); padding: 1rem; border: 1px solid var(--muted-border-color); border-radius: var(--border-radius);">
                        <label style="margin-bottom: 0.5rem;">
                            <input type="checkbox" checked=${S} onChange=${F=>C(F.target.checked)} />
                            Repeat shorter section to keep daily mix
                        </label>
                        <small style="display: block; margin-left: 2rem; color: var(--muted-color); line-height: 1.4;">
                            If one part of the Bible (like the New Testament) is finished before the other,
                            it will start over from the beginning so you always have both OT and NT readings every day.
                        </small>
                    </div>
                `}

                ${U&&pt`
                    <div class="grid">
                        <label>Start Date:
                            <input type="date" value=${W} onChange=${F=>T(F.target.value)} />
                        </label>
                        <div>
                            <label>Reading Days:</label>
                            <div class="day-selection">
                                ${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((F,R)=>pt`
                                    <label class="day-item">
                                        <input type="checkbox" checked=${G.includes(R)} onChange=${()=>et(R)} />
                                        ${F}
                                    </label>
                                `)}
                            </div>
                        </div>
                    </div>
                `}
            </section>

            <section>
                <h2>3. Generate Plan</h2>
                <p>${j.length} days total</p>
                <div style="max-height: 400px; overflow-y: auto; border: 1px solid var(--muted-border-color); padding: 1rem; margin-bottom: 1rem; border-radius: var(--border-radius);">
                    ${j.slice(0,5).map((F,R)=>pt`
                        <div class="preview-item">
                            <span class="preview-date">${F.date?F.date.toLocaleDateString():`Day ${R+1}`}</span>
                            <span>${F.chapters.map(Y=>`${Y.book} ${Y.chapter}`).join(", ")}</span>
                        </div>
                    `)}

                    ${j.length>10?pt`
                        <div style="text-align: center; padding: 1rem; color: var(--muted-color); border-bottom: 1px solid var(--muted-border-color);">
                            ... ${j.length-10} days omitted ...
                        </div>
                        ${j.slice(-5).map((F,R)=>pt`
                            <div class="preview-item">
                                <span class="preview-date">${F.date?F.date.toLocaleDateString():`Day ${j.length-4+R}`}</span>
                                <span>${F.chapters.map(Y=>`${Y.book} ${Y.chapter}`).join(", ")}</span>
                            </div>
                        `)}
                    `:j.slice(5).map((F,R)=>pt`
                        <div class="preview-item">
                            <span class="preview-date">${F.date?F.date.toLocaleDateString():`Day ${6+R}`}</span>
                            <span>${F.chapters.map(Y=>`${Y.book} ${Y.chapter}`).join(", ")}</span>
                        </div>
                    `)}
                </div>
                <div style="display: flex; flex-direction: column; gap: 1rem; margin-top: 1rem;">
                    <div style="display: flex; gap: 1rem; align-items: center;">
                        <button onClick=${D} disabled=${a||j.length===0}>
                            ${a?"Generating...":"Download EPUB"}
                        </button>
                        <button onClick=${A} disabled=${a||j.length===0} class="secondary">
                            ${a?"Generating...":"Generate Audiobook"}
                        </button>
                    </div>

                    ${j.length>0&&pt`
                        <div style="background: var(--card-section-background-color); padding: 1rem; border-radius: var(--border-radius); border: 1px solid var(--muted-border-color);">
                            <p style="margin: 0;"><strong>Audiobook Info:</strong></p>
                            <ul style="margin: 0.5rem 0 0 0; padding-left: 1.5rem; font-size: 0.9rem;">
                                <li>Estimated: ${X.downloadSizeMB}MB download, ${X.totalSizeMB}MB total on disk.</li>
                                <li>Requires a folder selection to save daily MP3 files.</li>
                                <li style="color: var(--secondary);">Note: Audiobook generation is only supported in <strong>Chrome</strong> and <strong>Edge</strong>.</li>
                            </ul>
                        </div>
                    `}
                </div>
                ${k&&pt`<p style="margin-top: 1rem;"><small>${k}</small></p>`}
            </section>
        </div>
    `};me(pt`<${rr} />`,document.getElementById("app"));})();
/*! Bundled license information:

jszip/dist/jszip.min.js:
  (*!
  
  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  *)
*/
