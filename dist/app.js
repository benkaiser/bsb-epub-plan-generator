(()=>{var Ne=Object.create;var Qt=Object.defineProperty;var Ue=Object.getOwnPropertyDescriptor;var Le=Object.getOwnPropertyNames;var je=Object.getPrototypeOf,$e=Object.prototype.hasOwnProperty;var Ct=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(a,o)=>(typeof require<"u"?require:a)[o]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Me=(t,a)=>()=>(a||t((a={exports:{}}).exports,a),a.exports);var We=(t,a,o,i)=>{if(a&&typeof a=="object"||typeof a=="function")for(let l of Le(a))!$e.call(t,l)&&l!==o&&Qt(t,l,{get:()=>a[l],enumerable:!(i=Ue(a,l))||i.enumerable});return t};var Ze=(t,a,o)=>(o=t!=null?Ne(je(t)):{},We(a||!t||!t.__esModule?Qt(o,"default",{value:t,enumerable:!0}):o,t));var Oe=Me((De,qt)=>{(function(t){typeof De=="object"&&typeof qt<"u"?qt.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=t()})(function(){return function t(a,o,i){function l(g,y){if(!o[g]){if(!a[g]){var f=typeof Ct=="function"&&Ct;if(!y&&f)return f(g,!0);if(r)return r(g,!0);var v=new Error("Cannot find module '"+g+"'");throw v.code="MODULE_NOT_FOUND",v}var n=o[g]={exports:{}};a[g][0].call(n.exports,function(p){var u=a[g][1][p];return l(u||p)},n,n.exports,t,a,o,i)}return o[g].exports}for(var r=typeof Ct=="function"&&Ct,h=0;h<i.length;h++)l(i[h]);return l}({1:[function(t,a,o){"use strict";var i=t("./utils"),l=t("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(h){for(var g,y,f,v,n,p,u,m=[],d=0,b=h.length,w=b,x=i.getTypeOf(h)!=="string";d<h.length;)w=b-d,f=x?(g=h[d++],y=d<b?h[d++]:0,d<b?h[d++]:0):(g=h.charCodeAt(d++),y=d<b?h.charCodeAt(d++):0,d<b?h.charCodeAt(d++):0),v=g>>2,n=(3&g)<<4|y>>4,p=1<w?(15&y)<<2|f>>6:64,u=2<w?63&f:64,m.push(r.charAt(v)+r.charAt(n)+r.charAt(p)+r.charAt(u));return m.join("")},o.decode=function(h){var g,y,f,v,n,p,u=0,m=0,d="data:";if(h.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var b,w=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===r.charAt(64)&&w--,h.charAt(h.length-2)===r.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=l.uint8array?new Uint8Array(0|w):new Array(0|w);u<h.length;)g=r.indexOf(h.charAt(u++))<<2|(v=r.indexOf(h.charAt(u++)))>>4,y=(15&v)<<4|(n=r.indexOf(h.charAt(u++)))>>2,f=(3&n)<<6|(p=r.indexOf(h.charAt(u++))),b[m++]=g,n!==64&&(b[m++]=y),p!==64&&(b[m++]=f);return b}},{"./support":30,"./utils":32}],2:[function(t,a,o){"use strict";var i=t("./external"),l=t("./stream/DataWorker"),r=t("./stream/Crc32Probe"),h=t("./stream/DataLengthProbe");function g(y,f,v,n,p){this.compressedSize=y,this.uncompressedSize=f,this.crc32=v,this.compression=n,this.compressedContent=p}g.prototype={getContentWorker:function(){var y=new l(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),f=this;return y.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new l(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(y,f,v){return y.pipe(new r).pipe(new h("uncompressedSize")).pipe(f.compressWorker(v)).pipe(new h("compressedSize")).withStreamInfo("compression",f)},a.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,a,o){"use strict";var i=t("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},o.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,a,o){"use strict";var i=t("./utils"),l=function(){for(var r,h=[],g=0;g<256;g++){r=g;for(var y=0;y<8;y++)r=1&r?3988292384^r>>>1:r>>>1;h[g]=r}return h}();a.exports=function(r,h){return r!==void 0&&r.length?i.getTypeOf(r)!=="string"?function(g,y,f,v){var n=l,p=v+f;g^=-1;for(var u=v;u<p;u++)g=g>>>8^n[255&(g^y[u])];return-1^g}(0|h,r,r.length,0):function(g,y,f,v){var n=l,p=v+f;g^=-1;for(var u=v;u<p;u++)g=g>>>8^n[255&(g^y.charCodeAt(u))];return-1^g}(0|h,r,r.length,0):0}},{"./utils":32}],5:[function(t,a,o){"use strict";o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(t,a,o){"use strict";var i=null;i=typeof Promise<"u"?Promise:t("lie"),a.exports={Promise:i}},{lie:37}],7:[function(t,a,o){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=t("pako"),r=t("./utils"),h=t("./stream/GenericWorker"),g=i?"uint8array":"array";function y(f,v){h.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=v,this.meta={}}o.magic="\b\0",r.inherits(y,h),y.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(g,f.data),!1)},y.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(v){f.push({data:v,meta:f.meta})}},o.compressWorker=function(f){return new y("Deflate",f)},o.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,a,o){"use strict";function i(n,p){var u,m="";for(u=0;u<p;u++)m+=String.fromCharCode(255&n),n>>>=8;return m}function l(n,p,u,m,d,b){var w,x,C=n.file,R=n.compression,O=b!==g.utf8encode,j=r.transformTo("string",b(C.name)),D=r.transformTo("string",g.utf8encode(C.name)),M=C.comment,q=r.transformTo("string",b(M)),k=r.transformTo("string",g.utf8encode(M)),F=D.length!==C.name.length,s=k.length!==M.length,T="",X="",$="",U=C.dir,N=C.date,K={crc32:0,compressedSize:0,uncompressedSize:0};p&&!u||(K.crc32=n.crc32,K.compressedSize=n.compressedSize,K.uncompressedSize=n.uncompressedSize);var A=0;p&&(A|=8),O||!F&&!s||(A|=2048);var E=0,J=0;U&&(E|=16),d==="UNIX"?(J=798,E|=function(W,nt){var it=W;return W||(it=nt?16893:33204),(65535&it)<<16}(C.unixPermissions,U)):(J=20,E|=function(W){return 63&(W||0)}(C.dosPermissions)),w=N.getUTCHours(),w<<=6,w|=N.getUTCMinutes(),w<<=5,w|=N.getUTCSeconds()/2,x=N.getUTCFullYear()-1980,x<<=4,x|=N.getUTCMonth()+1,x<<=5,x|=N.getUTCDate(),F&&(X=i(1,1)+i(y(j),4)+D,T+="up"+i(X.length,2)+X),s&&($=i(1,1)+i(y(q),4)+k,T+="uc"+i($.length,2)+$);var G="";return G+=`
\0`,G+=i(A,2),G+=R.magic,G+=i(w,2),G+=i(x,2),G+=i(K.crc32,4),G+=i(K.compressedSize,4),G+=i(K.uncompressedSize,4),G+=i(j.length,2),G+=i(T.length,2),{fileRecord:f.LOCAL_FILE_HEADER+G+j+T,dirRecord:f.CENTRAL_FILE_HEADER+i(J,2)+G+i(q.length,2)+"\0\0\0\0"+i(E,4)+i(m,4)+j+T+q}}var r=t("../utils"),h=t("../stream/GenericWorker"),g=t("../utf8"),y=t("../crc32"),f=t("../signature");function v(n,p,u,m){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=u,this.encodeFileName=m,this.streamFiles=n,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(v,h),v.prototype.push=function(n){var p=n.meta.percent||0,u=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(n):(this.bytesWritten+=n.data.length,h.prototype.push.call(this,{data:n.data,meta:{currentFile:this.currentFile,percent:u?(p+100*(u-m-1))/u:100}}))},v.prototype.openedSource=function(n){this.currentSourceOffset=this.bytesWritten,this.currentFile=n.file.name;var p=this.streamFiles&&!n.file.dir;if(p){var u=l(n,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:u.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(n){this.accumulate=!1;var p=this.streamFiles&&!n.file.dir,u=l(n,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(u.dirRecord),p)this.push({data:function(m){return f.DATA_DESCRIPTOR+i(m.crc32,4)+i(m.compressedSize,4)+i(m.uncompressedSize,4)}(n),meta:{percent:100}});else for(this.push({data:u.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var n=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var u=this.bytesWritten-n,m=function(d,b,w,x,C){var R=r.transformTo("string",C(x));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(d,2)+i(d,2)+i(b,4)+i(w,4)+i(R.length,2)+R}(this.dirRecords.length,u,n,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(n){this._sources.push(n);var p=this;return n.on("data",function(u){p.processChunk(u)}),n.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),n.on("error",function(u){p.error(u)}),this},v.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(n){var p=this._sources;if(!h.prototype.error.call(this,n))return!1;for(var u=0;u<p.length;u++)try{p[u].error(n)}catch{}return!0},v.prototype.lock=function(){h.prototype.lock.call(this);for(var n=this._sources,p=0;p<n.length;p++)n[p].lock()},a.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,a,o){"use strict";var i=t("../compressions"),l=t("./ZipFileWorker");o.generateWorker=function(r,h,g){var y=new l(h.streamFiles,g,h.platform,h.encodeFileName),f=0;try{r.forEach(function(v,n){f++;var p=function(b,w){var x=b||w,C=i[x];if(!C)throw new Error(x+" is not a valid compression method !");return C}(n.options.compression,h.compression),u=n.options.compressionOptions||h.compressionOptions||{},m=n.dir,d=n.date;n._compressWorker(p,u).withStreamInfo("file",{name:v,dir:m,date:d,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(y)}),y.entriesCount=f}catch(v){y.error(v)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,a,o){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new i;for(var r in this)typeof this[r]!="function"&&(l[r]=this[r]);return l}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.1",i.loadAsync=function(l,r){return new i().loadAsync(l,r)},i.external=t("./external"),a.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,a,o){"use strict";var i=t("./utils"),l=t("./external"),r=t("./utf8"),h=t("./zipEntries"),g=t("./stream/Crc32Probe"),y=t("./nodejsUtils");function f(v){return new l.Promise(function(n,p){var u=v.decompressed.getContentWorker().pipe(new g);u.on("error",function(m){p(m)}).on("end",function(){u.streamInfo.crc32!==v.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):n()}).resume()})}a.exports=function(v,n){var p=this;return n=i.extend(n||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),y.isNode&&y.isStream(v)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",v,!0,n.optimizedBinaryString,n.base64).then(function(u){var m=new h(n);return m.load(u),m}).then(function(u){var m=[l.Promise.resolve(u)],d=u.files;if(n.checkCRC32)for(var b=0;b<d.length;b++)m.push(f(d[b]));return l.Promise.all(m)}).then(function(u){for(var m=u.shift(),d=m.files,b=0;b<d.length;b++){var w=d[b],x=w.fileNameStr,C=i.resolve(w.fileNameStr);p.file(C,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:n.createFolders}),w.dir||(p.file(C).unsafeOriginalName=x)}return m.zipComment.length&&(p.comment=m.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,a,o){"use strict";var i=t("../utils"),l=t("../stream/GenericWorker");function r(h,g){l.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(g)}i.inherits(r,l),r.prototype._bindStream=function(h){var g=this;(this._stream=h).pause(),h.on("data",function(y){g.push({data:y,meta:{percent:0}})}).on("error",function(y){g.isPaused?this.generatedError=y:g.error(y)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},r.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,a,o){"use strict";var i=t("readable-stream").Readable;function l(r,h,g){i.call(this,h),this._helper=r;var y=this;r.on("data",function(f,v){y.push(f)||y._helper.pause(),g&&g(v)}).on("error",function(f){y.emit("error",f)}).on("end",function(){y.push(null)})}t("../utils").inherits(l,i),l.prototype._read=function(){this._helper.resume()},a.exports=l},{"../utils":32,"readable-stream":16}],14:[function(t,a,o){"use strict";a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,l);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,l)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var l=new Buffer(i);return l.fill(0),l},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(t,a,o){"use strict";function i(C,R,O){var j,D=r.getTypeOf(R),M=r.extend(O||{},y);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(C=d(C)),M.createFolders&&(j=m(C))&&b.call(this,j,!0);var q=D==="string"&&M.binary===!1&&M.base64===!1;O&&O.binary!==void 0||(M.binary=!q),(R instanceof f&&R.uncompressedSize===0||M.dir||!R||R.length===0)&&(M.base64=!1,M.binary=!0,R="",M.compression="STORE",D="string");var k=null;k=R instanceof f||R instanceof h?R:p.isNode&&p.isStream(R)?new u(C,R):r.prepareContent(C,R,M.binary,M.optimizedBinaryString,M.base64);var F=new v(C,k,M);this.files[C]=F}var l=t("./utf8"),r=t("./utils"),h=t("./stream/GenericWorker"),g=t("./stream/StreamHelper"),y=t("./defaults"),f=t("./compressedObject"),v=t("./zipObject"),n=t("./generate"),p=t("./nodejsUtils"),u=t("./nodejs/NodejsStreamInputAdapter"),m=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var R=C.lastIndexOf("/");return 0<R?C.substring(0,R):""},d=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},b=function(C,R){return R=R!==void 0?R:y.createFolders,C=d(C),this.files[C]||i.call(this,C,null,{dir:!0,createFolders:R}),this.files[C]};function w(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var R,O,j;for(R in this.files)j=this.files[R],(O=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&C(O,j)},filter:function(C){var R=[];return this.forEach(function(O,j){C(O,j)&&R.push(j)}),R},file:function(C,R,O){if(arguments.length!==1)return C=this.root+C,i.call(this,C,R,O),this;if(w(C)){var j=C;return this.filter(function(M,q){return!q.dir&&j.test(M)})}var D=this.files[this.root+C];return D&&!D.dir?D:null},folder:function(C){if(!C)return this;if(w(C))return this.filter(function(D,M){return M.dir&&C.test(D)});var R=this.root+C,O=b.call(this,R),j=this.clone();return j.root=O.name,j},remove:function(C){C=this.root+C;var R=this.files[C];if(R||(C.slice(-1)!=="/"&&(C+="/"),R=this.files[C]),R&&!R.dir)delete this.files[C];else for(var O=this.filter(function(D,M){return M.name.slice(0,C.length)===C}),j=0;j<O.length;j++)delete this.files[O[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var R,O={};try{if((O=r.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");r.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var j=O.comment||this.comment||"";R=n.generateWorker(this,O,j)}catch(D){(R=new h("error")).error(D)}return new g(R,O.type||"string",O.mimeType)},generateAsync:function(C,R){return this.generateInternalStream(C).accumulate(R)},generateNodeStream:function(C,R){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(R)}};a.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,a,o){"use strict";a.exports=t("stream")},{stream:void 0}],17:[function(t,a,o){"use strict";var i=t("./DataReader");function l(r){i.call(this,r);for(var h=0;h<this.data.length;h++)r[h]=255&r[h]}t("../utils").inherits(l,i),l.prototype.byteAt=function(r){return this.data[this.zero+r]},l.prototype.lastIndexOfSignature=function(r){for(var h=r.charCodeAt(0),g=r.charCodeAt(1),y=r.charCodeAt(2),f=r.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===h&&this.data[v+1]===g&&this.data[v+2]===y&&this.data[v+3]===f)return v-this.zero;return-1},l.prototype.readAndCheckSignature=function(r){var h=r.charCodeAt(0),g=r.charCodeAt(1),y=r.charCodeAt(2),f=r.charCodeAt(3),v=this.readData(4);return h===v[0]&&g===v[1]&&y===v[2]&&f===v[3]},l.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,h},a.exports=l},{"../utils":32,"./DataReader":18}],18:[function(t,a,o){"use strict";var i=t("../utils");function l(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var h,g=0;for(this.checkOffset(r),h=this.index+r-1;h>=this.index;h--)g=(g<<8)+this.byteAt(h);return this.index+=r,g},readString:function(r){return i.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},a.exports=l},{"../utils":32}],19:[function(t,a,o){"use strict";var i=t("./Uint8ArrayReader");function l(r){i.call(this,r)}t("../utils").inherits(l,i),l.prototype.readData=function(r){this.checkOffset(r);var h=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,h},a.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,a,o){"use strict";var i=t("./DataReader");function l(r){i.call(this,r)}t("../utils").inherits(l,i),l.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},l.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},l.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},l.prototype.readData=function(r){this.checkOffset(r);var h=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,h},a.exports=l},{"../utils":32,"./DataReader":18}],21:[function(t,a,o){"use strict";var i=t("./ArrayReader");function l(r){i.call(this,r)}t("../utils").inherits(l,i),l.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,h},a.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(t,a,o){"use strict";var i=t("../utils"),l=t("../support"),r=t("./ArrayReader"),h=t("./StringReader"),g=t("./NodeBufferReader"),y=t("./Uint8ArrayReader");a.exports=function(f){var v=i.getTypeOf(f);return i.checkSupport(v),v!=="string"||l.uint8array?v==="nodebuffer"?new g(f):l.uint8array?new y(i.transformTo("uint8array",f)):new r(i.transformTo("array",f)):new h(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,a,o){"use strict";o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,a,o){"use strict";var i=t("./GenericWorker"),l=t("../utils");function r(h){i.call(this,"ConvertWorker to "+h),this.destType=h}l.inherits(r,i),r.prototype.processChunk=function(h){this.push({data:l.transformTo(this.destType,h.data),meta:h.meta})},a.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(t,a,o){"use strict";var i=t("./GenericWorker"),l=t("../crc32");function r(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(r,i),r.prototype.processChunk=function(h){this.streamInfo.crc32=l(h.data,this.streamInfo.crc32||0),this.push(h)},a.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,a,o){"use strict";var i=t("../utils"),l=t("./GenericWorker");function r(h){l.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}i.inherits(r,l),r.prototype.processChunk=function(h){if(h){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+h.data.length}l.prototype.processChunk.call(this,h)},a.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(t,a,o){"use strict";var i=t("../utils"),l=t("./GenericWorker");function r(h){l.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(y){g.dataIsReady=!0,g.data=y,g.max=y&&y.length||0,g.type=i.getTypeOf(y),g.isPaused||g._tickAndRepeat()},function(y){g.error(y)})}i.inherits(r,l),r.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,g);break;case"uint8array":h=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":h=this.data.slice(this.index,g)}return this.index=g,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(t,a,o){"use strict";function i(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,r){return this._listeners[l].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,r){if(this._listeners[l])for(var h=0;h<this._listeners[l].length;h++)this._listeners[l][h].call(this,r)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var r=this;return l.on("data",function(h){r.processChunk(h)}),l.on("end",function(){r.end()}),l.on("error",function(h){r.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,r){return this.extraStreamInfo[l]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},a.exports=i},{}],29:[function(t,a,o){"use strict";var i=t("../utils"),l=t("./ConvertWorker"),r=t("./GenericWorker"),h=t("../base64"),g=t("../support"),y=t("../external"),f=null;if(g.nodestream)try{f=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(p,u){return new y.Promise(function(m,d){var b=[],w=p._internalType,x=p._outputType,C=p._mimeType;p.on("data",function(R,O){b.push(R),u&&u(O)}).on("error",function(R){b=[],d(R)}).on("end",function(){try{var R=function(O,j,D){switch(O){case"blob":return i.newBlob(i.transformTo("arraybuffer",j),D);case"base64":return h.encode(j);default:return i.transformTo(O,j)}}(x,function(O,j){var D,M=0,q=null,k=0;for(D=0;D<j.length;D++)k+=j[D].length;switch(O){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(q=new Uint8Array(k),D=0;D<j.length;D++)q.set(j[D],M),M+=j[D].length;return q;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+O+"'")}}(w,b),C);m(R)}catch(O){d(O)}b=[]}).resume()})}function n(p,u,m){var d=u;switch(u){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=u,this._mimeType=m,i.checkSupport(d),this._worker=p.pipe(new l(d)),p.lock()}catch(b){this._worker=new r("error"),this._worker.error(b)}}n.prototype={accumulate:function(p){return v(this,p)},on:function(p,u){var m=this;return p==="data"?this._worker.on(p,function(d){u.call(m,d.data,d.meta)}):this._worker.on(p,function(){i.delay(u,arguments,m)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},p)}},a.exports=n},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,a,o){"use strict";if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var i=new ArrayBuffer(0);try{o.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(i),o.blob=l.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!t("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(t,a,o){"use strict";for(var i=t("./utils"),l=t("./support"),r=t("./nodejsUtils"),h=t("./stream/GenericWorker"),g=new Array(256),y=0;y<256;y++)g[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;g[254]=g[254]=1;function f(){h.call(this,"utf-8 decode"),this.leftOver=null}function v(){h.call(this,"utf-8 encode")}o.utf8encode=function(n){return l.nodebuffer?r.newBufferFrom(n,"utf-8"):function(p){var u,m,d,b,w,x=p.length,C=0;for(b=0;b<x;b++)(64512&(m=p.charCodeAt(b)))==55296&&b+1<x&&(64512&(d=p.charCodeAt(b+1)))==56320&&(m=65536+(m-55296<<10)+(d-56320),b++),C+=m<128?1:m<2048?2:m<65536?3:4;for(u=l.uint8array?new Uint8Array(C):new Array(C),b=w=0;w<C;b++)(64512&(m=p.charCodeAt(b)))==55296&&b+1<x&&(64512&(d=p.charCodeAt(b+1)))==56320&&(m=65536+(m-55296<<10)+(d-56320),b++),m<128?u[w++]=m:(m<2048?u[w++]=192|m>>>6:(m<65536?u[w++]=224|m>>>12:(u[w++]=240|m>>>18,u[w++]=128|m>>>12&63),u[w++]=128|m>>>6&63),u[w++]=128|63&m);return u}(n)},o.utf8decode=function(n){return l.nodebuffer?i.transformTo("nodebuffer",n).toString("utf-8"):function(p){var u,m,d,b,w=p.length,x=new Array(2*w);for(u=m=0;u<w;)if((d=p[u++])<128)x[m++]=d;else if(4<(b=g[d]))x[m++]=65533,u+=b-1;else{for(d&=b===2?31:b===3?15:7;1<b&&u<w;)d=d<<6|63&p[u++],b--;1<b?x[m++]=65533:d<65536?x[m++]=d:(d-=65536,x[m++]=55296|d>>10&1023,x[m++]=56320|1023&d)}return x.length!==m&&(x.subarray?x=x.subarray(0,m):x.length=m),i.applyFromCharCode(x)}(n=i.transformTo(l.uint8array?"uint8array":"array",n))},i.inherits(f,h),f.prototype.processChunk=function(n){var p=i.transformTo(l.uint8array?"uint8array":"array",n.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var u=p;(p=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),p.set(u,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var m=function(b,w){var x;for((w=w||b.length)>b.length&&(w=b.length),x=w-1;0<=x&&(192&b[x])==128;)x--;return x<0||x===0?w:x+g[b[x]]>w?x:w}(p),d=p;m!==p.length&&(l.uint8array?(d=p.subarray(0,m),this.leftOver=p.subarray(m,p.length)):(d=p.slice(0,m),this.leftOver=p.slice(m,p.length))),this.push({data:o.utf8decode(d),meta:n.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=f,i.inherits(v,h),v.prototype.processChunk=function(n){this.push({data:o.utf8encode(n.data),meta:n.meta})},o.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,a,o){"use strict";var i=t("./support"),l=t("./base64"),r=t("./nodejsUtils"),h=t("./external");function g(u){return u}function y(u,m){for(var d=0;d<u.length;++d)m[d]=255&u.charCodeAt(d);return m}t("setimmediate"),o.newBlob=function(u,m){o.checkSupport("blob");try{return new Blob([u],{type:m})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(u),d.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(u,m,d){var b=[],w=0,x=u.length;if(x<=d)return String.fromCharCode.apply(null,u);for(;w<x;)m==="array"||m==="nodebuffer"?b.push(String.fromCharCode.apply(null,u.slice(w,Math.min(w+d,x)))):b.push(String.fromCharCode.apply(null,u.subarray(w,Math.min(w+d,x)))),w+=d;return b.join("")},stringifyByChar:function(u){for(var m="",d=0;d<u.length;d++)m+=String.fromCharCode(u[d]);return m},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function v(u){var m=65536,d=o.getTypeOf(u),b=!0;if(d==="uint8array"?b=f.applyCanBeUsed.uint8array:d==="nodebuffer"&&(b=f.applyCanBeUsed.nodebuffer),b)for(;1<m;)try{return f.stringifyByChunk(u,d,m)}catch{m=Math.floor(m/2)}return f.stringifyByChar(u)}function n(u,m){for(var d=0;d<u.length;d++)m[d]=u[d];return m}o.applyFromCharCode=v;var p={};p.string={string:g,array:function(u){return y(u,new Array(u.length))},arraybuffer:function(u){return p.string.uint8array(u).buffer},uint8array:function(u){return y(u,new Uint8Array(u.length))},nodebuffer:function(u){return y(u,r.allocBuffer(u.length))}},p.array={string:v,array:g,arraybuffer:function(u){return new Uint8Array(u).buffer},uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return r.newBufferFrom(u)}},p.arraybuffer={string:function(u){return v(new Uint8Array(u))},array:function(u){return n(new Uint8Array(u),new Array(u.byteLength))},arraybuffer:g,uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return r.newBufferFrom(new Uint8Array(u))}},p.uint8array={string:v,array:function(u){return n(u,new Array(u.length))},arraybuffer:function(u){return u.buffer},uint8array:g,nodebuffer:function(u){return r.newBufferFrom(u)}},p.nodebuffer={string:v,array:function(u){return n(u,new Array(u.length))},arraybuffer:function(u){return p.nodebuffer.uint8array(u).buffer},uint8array:function(u){return n(u,new Uint8Array(u.length))},nodebuffer:g},o.transformTo=function(u,m){if(m=m||"",!u)return m;o.checkSupport(u);var d=o.getTypeOf(m);return p[d][u](m)},o.resolve=function(u){for(var m=u.split("/"),d=[],b=0;b<m.length;b++){var w=m[b];w==="."||w===""&&b!==0&&b!==m.length-1||(w===".."?d.pop():d.push(w))}return d.join("/")},o.getTypeOf=function(u){return typeof u=="string"?"string":Object.prototype.toString.call(u)==="[object Array]"?"array":i.nodebuffer&&r.isBuffer(u)?"nodebuffer":i.uint8array&&u instanceof Uint8Array?"uint8array":i.arraybuffer&&u instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(u){if(!i[u.toLowerCase()])throw new Error(u+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(u){var m,d,b="";for(d=0;d<(u||"").length;d++)b+="\\x"+((m=u.charCodeAt(d))<16?"0":"")+m.toString(16).toUpperCase();return b},o.delay=function(u,m,d){setImmediate(function(){u.apply(d||null,m||[])})},o.inherits=function(u,m){function d(){}d.prototype=m.prototype,u.prototype=new d},o.extend=function(){var u,m,d={};for(u=0;u<arguments.length;u++)for(m in arguments[u])Object.prototype.hasOwnProperty.call(arguments[u],m)&&d[m]===void 0&&(d[m]=arguments[u][m]);return d},o.prepareContent=function(u,m,d,b,w){return h.Promise.resolve(m).then(function(x){return i.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new h.Promise(function(C,R){var O=new FileReader;O.onload=function(j){C(j.target.result)},O.onerror=function(j){R(j.target.error)},O.readAsArrayBuffer(x)}):x}).then(function(x){var C=o.getTypeOf(x);return C?(C==="arraybuffer"?x=o.transformTo("uint8array",x):C==="string"&&(w?x=l.decode(x):d&&b!==!0&&(x=function(R){return y(R,i.uint8array?new Uint8Array(R.length):new Array(R.length))}(x))),x):h.Promise.reject(new Error("Can't read the data of '"+u+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,a,o){"use strict";var i=t("./reader/readerFor"),l=t("./utils"),r=t("./signature"),h=t("./zipEntry"),g=t("./support");function y(f){this.files=[],this.loadOptions=f}y.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(v)+", expected "+l.pretty(f)+")")}},isSignature:function(f,v){var n=this.reader.index;this.reader.setIndex(f);var p=this.reader.readString(4)===v;return this.reader.setIndex(n),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),v=g.uint8array?"uint8array":"array",n=l.transformTo(v,f);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,v,n,p=this.zip64EndOfCentralSize-44;0<p;)f=this.reader.readInt(2),v=this.reader.readInt(4),n=this.reader.readData(v),this.zip64ExtensibleData[f]={id:f,length:v,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,v;for(f=0;f<this.files.length;f++)v=this.files[f],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(f=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var v=f;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var p=v-n;if(0<p)this.isSignature(v,r.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(f){this.reader=i(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,a,o){"use strict";var i=t("./reader/readerFor"),l=t("./utils"),r=t("./compressedObject"),h=t("./crc32"),g=t("./utf8"),y=t("./compressions"),f=t("./support");function v(n,p){this.options=n,this.loadOptions=p}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(n){var p,u;if(n.skip(22),this.fileNameLength=n.readInt(2),u=n.readInt(2),this.fileName=n.readData(this.fileNameLength),n.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(m){for(var d in y)if(Object.prototype.hasOwnProperty.call(y,d)&&y[d].magic===m)return y[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,p,n.readData(this.compressedSize))},readCentralPart:function(n){this.versionMadeBy=n.readInt(2),n.skip(2),this.bitFlag=n.readInt(2),this.compressionMethod=n.readString(2),this.date=n.readDate(),this.crc32=n.readInt(4),this.compressedSize=n.readInt(4),this.uncompressedSize=n.readInt(4);var p=n.readInt(2);if(this.extraFieldsLength=n.readInt(2),this.fileCommentLength=n.readInt(2),this.diskNumberStart=n.readInt(2),this.internalFileAttributes=n.readInt(2),this.externalFileAttributes=n.readInt(4),this.localHeaderOffset=n.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");n.skip(p),this.readExtraFields(n),this.parseZIP64ExtraField(n),this.fileComment=n.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var n=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),n==0&&(this.dosPermissions=63&this.externalFileAttributes),n==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var n=i(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=n.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=n.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=n.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=n.readInt(4))}},readExtraFields:function(n){var p,u,m,d=n.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});n.index+4<d;)p=n.readInt(2),u=n.readInt(2),m=n.readData(u),this.extraFields[p]={id:p,length:u,value:m};n.setIndex(d)},handleUTF8:function(){var n=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var u=l.transformTo(n,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var d=l.transformTo(n,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var n=this.extraFields[28789];if(n){var p=i(n.value);return p.readInt(1)!==1||h(this.fileName)!==p.readInt(4)?null:g.utf8decode(p.readData(n.length-5))}return null},findExtraFieldUnicodeComment:function(){var n=this.extraFields[25461];if(n){var p=i(n.value);return p.readInt(1)!==1||h(this.fileComment)!==p.readInt(4)?null:g.utf8decode(p.readData(n.length-5))}return null}},a.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,a,o){"use strict";function i(p,u,m){this.name=p,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=u,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var l=t("./stream/StreamHelper"),r=t("./stream/DataWorker"),h=t("./utf8"),g=t("./compressedObject"),y=t("./stream/GenericWorker");i.prototype={internalStream:function(p){var u=null,m="string";try{if(!p)throw new Error("No output type specified.");var d=(m=p.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),u=this._decompressWorker();var b=!this._dataBinary;b&&!d&&(u=u.pipe(new h.Utf8EncodeWorker)),!b&&d&&(u=u.pipe(new h.Utf8DecodeWorker))}catch(w){(u=new y("error")).error(w)}return new l(u,m,"")},async:function(p,u){return this.internalStream(p).accumulate(u)},nodeStream:function(p,u){return this.internalStream(p||"nodebuffer").toNodejsStream(u)},_compressWorker:function(p,u){if(this._data instanceof g&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new h.Utf8EncodeWorker)),g.createWorkerFrom(m,p,u)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof y?this._data:new r(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},n=0;n<f.length;n++)i.prototype[f[n]]=v;a.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,a,o){(function(i){"use strict";var l,r,h=i.MutationObserver||i.WebKitMutationObserver;if(h){var g=0,y=new h(p),f=i.document.createTextNode("");y.observe(f,{characterData:!0}),l=function(){f.data=g=++g%2}}else if(i.setImmediate||i.MessageChannel===void 0)l="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var u=i.document.createElement("script");u.onreadystatechange=function(){p(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},i.document.documentElement.appendChild(u)}:function(){setTimeout(p,0)};else{var v=new i.MessageChannel;v.port1.onmessage=p,l=function(){v.port2.postMessage(0)}}var n=[];function p(){var u,m;r=!0;for(var d=n.length;d;){for(m=n,n=[],u=-1;++u<d;)m[u]();d=n.length}r=!1}a.exports=function(u){n.push(u)!==1||r||l()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,a,o){"use strict";var i=t("immediate");function l(){}var r={},h=["REJECTED"],g=["FULFILLED"],y=["PENDING"];function f(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,d!==l&&u(this,d)}function v(d,b,w){this.promise=d,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function n(d,b,w){i(function(){var x;try{x=b(w)}catch(C){return r.reject(d,C)}x===d?r.reject(d,new TypeError("Cannot resolve promise with itself")):r.resolve(d,x)})}function p(d){var b=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof b=="function")return function(){b.apply(d,arguments)}}function u(d,b){var w=!1;function x(O){w||(w=!0,r.reject(d,O))}function C(O){w||(w=!0,r.resolve(d,O))}var R=m(function(){b(C,x)});R.status==="error"&&x(R.value)}function m(d,b){var w={};try{w.value=d(b),w.status="success"}catch(x){w.status="error",w.value=x}return w}(a.exports=f).prototype.finally=function(d){if(typeof d!="function")return this;var b=this.constructor;return this.then(function(w){return b.resolve(d()).then(function(){return w})},function(w){return b.resolve(d()).then(function(){throw w})})},f.prototype.catch=function(d){return this.then(null,d)},f.prototype.then=function(d,b){if(typeof d!="function"&&this.state===g||typeof b!="function"&&this.state===h)return this;var w=new this.constructor(l);return this.state!==y?n(w,this.state===g?d:b,this.outcome):this.queue.push(new v(w,d,b)),w},v.prototype.callFulfilled=function(d){r.resolve(this.promise,d)},v.prototype.otherCallFulfilled=function(d){n(this.promise,this.onFulfilled,d)},v.prototype.callRejected=function(d){r.reject(this.promise,d)},v.prototype.otherCallRejected=function(d){n(this.promise,this.onRejected,d)},r.resolve=function(d,b){var w=m(p,b);if(w.status==="error")return r.reject(d,w.value);var x=w.value;if(x)u(d,x);else{d.state=g,d.outcome=b;for(var C=-1,R=d.queue.length;++C<R;)d.queue[C].callFulfilled(b)}return d},r.reject=function(d,b){d.state=h,d.outcome=b;for(var w=-1,x=d.queue.length;++w<x;)d.queue[w].callRejected(b);return d},f.resolve=function(d){return d instanceof this?d:r.resolve(new this(l),d)},f.reject=function(d){var b=new this(l);return r.reject(b,d)},f.all=function(d){var b=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=d.length,x=!1;if(!w)return this.resolve([]);for(var C=new Array(w),R=0,O=-1,j=new this(l);++O<w;)D(d[O],O);return j;function D(M,q){b.resolve(M).then(function(k){C[q]=k,++R!==w||x||(x=!0,r.resolve(j,C))},function(k){x||(x=!0,r.reject(j,k))})}},f.race=function(d){var b=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=d.length,x=!1;if(!w)return this.resolve([]);for(var C=-1,R=new this(l);++C<w;)O=d[C],b.resolve(O).then(function(j){x||(x=!0,r.resolve(R,j))},function(j){x||(x=!0,r.reject(R,j))});var O;return R}},{immediate:36}],38:[function(t,a,o){"use strict";var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),a.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,a,o){"use strict";var i=t("./zlib/deflate"),l=t("./utils/common"),r=t("./utils/strings"),h=t("./zlib/messages"),g=t("./zlib/zstream"),y=Object.prototype.toString,f=0,v=-1,n=0,p=8;function u(d){if(!(this instanceof u))return new u(d);this.options=l.assign({level:v,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:n,to:""},d||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(w!==f)throw new Error(h[w]);if(b.header&&i.deflateSetHeader(this.strm,b.header),b.dictionary){var x;if(x=typeof b.dictionary=="string"?r.string2buf(b.dictionary):y.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(w=i.deflateSetDictionary(this.strm,x))!==f)throw new Error(h[w]);this._dict_set=!0}}function m(d,b){var w=new u(b);if(w.push(d,!0),w.err)throw w.msg||h[w.err];return w.result}u.prototype.push=function(d,b){var w,x,C=this.strm,R=this.options.chunkSize;if(this.ended)return!1;x=b===~~b?b:b===!0?4:0,typeof d=="string"?C.input=r.string2buf(d):y.call(d)==="[object ArrayBuffer]"?C.input=new Uint8Array(d):C.input=d,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new l.Buf8(R),C.next_out=0,C.avail_out=R),(w=i.deflate(C,x))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(l.shrinkBuf(C.output,C.next_out))):this.onData(l.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&w!==1);return x===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):x!==2||(this.onEnd(f),!(C.avail_out=0))},u.prototype.onData=function(d){this.chunks.push(d)},u.prototype.onEnd=function(d){d===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},o.Deflate=u,o.deflate=m,o.deflateRaw=function(d,b){return(b=b||{}).raw=!0,m(d,b)},o.gzip=function(d,b){return(b=b||{}).gzip=!0,m(d,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,a,o){"use strict";var i=t("./zlib/inflate"),l=t("./utils/common"),r=t("./utils/strings"),h=t("./zlib/constants"),g=t("./zlib/messages"),y=t("./zlib/zstream"),f=t("./zlib/gzheader"),v=Object.prototype.toString;function n(u){if(!(this instanceof n))return new n(u);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},u||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||u&&u.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var d=i.inflateInit2(this.strm,m.windowBits);if(d!==h.Z_OK)throw new Error(g[d]);this.header=new f,i.inflateGetHeader(this.strm,this.header)}function p(u,m){var d=new n(m);if(d.push(u,!0),d.err)throw d.msg||g[d.err];return d.result}n.prototype.push=function(u,m){var d,b,w,x,C,R,O=this.strm,j=this.options.chunkSize,D=this.options.dictionary,M=!1;if(this.ended)return!1;b=m===~~m?m:m===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof u=="string"?O.input=r.binstring2buf(u):v.call(u)==="[object ArrayBuffer]"?O.input=new Uint8Array(u):O.input=u,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new l.Buf8(j),O.next_out=0,O.avail_out=j),(d=i.inflate(O,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&D&&(R=typeof D=="string"?r.string2buf(D):v.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,d=i.inflateSetDictionary(this.strm,R)),d===h.Z_BUF_ERROR&&M===!0&&(d=h.Z_OK,M=!1),d!==h.Z_STREAM_END&&d!==h.Z_OK)return this.onEnd(d),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&d!==h.Z_STREAM_END&&(O.avail_in!==0||b!==h.Z_FINISH&&b!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=r.utf8border(O.output,O.next_out),x=O.next_out-w,C=r.buf2string(O.output,w),O.next_out=x,O.avail_out=j-x,x&&l.arraySet(O.output,O.output,w,x,0),this.onData(C)):this.onData(l.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(M=!0)}while((0<O.avail_in||O.avail_out===0)&&d!==h.Z_STREAM_END);return d===h.Z_STREAM_END&&(b=h.Z_FINISH),b===h.Z_FINISH?(d=i.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===h.Z_OK):b!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(O.avail_out=0))},n.prototype.onData=function(u){this.chunks.push(u)},n.prototype.onEnd=function(u){u===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},o.Inflate=n,o.inflate=p,o.inflateRaw=function(u,m){return(m=m||{}).raw=!0,p(u,m)},o.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,a,o){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(h){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var y=g.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var f in y)y.hasOwnProperty(f)&&(h[f]=y[f])}}return h},o.shrinkBuf=function(h,g){return h.length===g?h:h.subarray?h.subarray(0,g):(h.length=g,h)};var l={arraySet:function(h,g,y,f,v){if(g.subarray&&h.subarray)h.set(g.subarray(y,y+f),v);else for(var n=0;n<f;n++)h[v+n]=g[y+n]},flattenChunks:function(h){var g,y,f,v,n,p;for(g=f=0,y=h.length;g<y;g++)f+=h[g].length;for(p=new Uint8Array(f),g=v=0,y=h.length;g<y;g++)n=h[g],p.set(n,v),v+=n.length;return p}},r={arraySet:function(h,g,y,f,v){for(var n=0;n<f;n++)h[v+n]=g[y+n]},flattenChunks:function(h){return[].concat.apply([],h)}};o.setTyped=function(h){h?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,l)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,r))},o.setTyped(i)},{}],42:[function(t,a,o){"use strict";var i=t("./common"),l=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var h=new i.Buf8(256),g=0;g<256;g++)h[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function y(f,v){if(v<65537&&(f.subarray&&r||!f.subarray&&l))return String.fromCharCode.apply(null,i.shrinkBuf(f,v));for(var n="",p=0;p<v;p++)n+=String.fromCharCode(f[p]);return n}h[254]=h[254]=1,o.string2buf=function(f){var v,n,p,u,m,d=f.length,b=0;for(u=0;u<d;u++)(64512&(n=f.charCodeAt(u)))==55296&&u+1<d&&(64512&(p=f.charCodeAt(u+1)))==56320&&(n=65536+(n-55296<<10)+(p-56320),u++),b+=n<128?1:n<2048?2:n<65536?3:4;for(v=new i.Buf8(b),u=m=0;m<b;u++)(64512&(n=f.charCodeAt(u)))==55296&&u+1<d&&(64512&(p=f.charCodeAt(u+1)))==56320&&(n=65536+(n-55296<<10)+(p-56320),u++),n<128?v[m++]=n:(n<2048?v[m++]=192|n>>>6:(n<65536?v[m++]=224|n>>>12:(v[m++]=240|n>>>18,v[m++]=128|n>>>12&63),v[m++]=128|n>>>6&63),v[m++]=128|63&n);return v},o.buf2binstring=function(f){return y(f,f.length)},o.binstring2buf=function(f){for(var v=new i.Buf8(f.length),n=0,p=v.length;n<p;n++)v[n]=f.charCodeAt(n);return v},o.buf2string=function(f,v){var n,p,u,m,d=v||f.length,b=new Array(2*d);for(n=p=0;n<d;)if((u=f[n++])<128)b[p++]=u;else if(4<(m=h[u]))b[p++]=65533,n+=m-1;else{for(u&=m===2?31:m===3?15:7;1<m&&n<d;)u=u<<6|63&f[n++],m--;1<m?b[p++]=65533:u<65536?b[p++]=u:(u-=65536,b[p++]=55296|u>>10&1023,b[p++]=56320|1023&u)}return y(b,p)},o.utf8border=function(f,v){var n;for((v=v||f.length)>f.length&&(v=f.length),n=v-1;0<=n&&(192&f[n])==128;)n--;return n<0||n===0?v:n+h[f[n]]>v?n:v}},{"./common":41}],43:[function(t,a,o){"use strict";a.exports=function(i,l,r,h){for(var g=65535&i|0,y=i>>>16&65535|0,f=0;r!==0;){for(r-=f=2e3<r?2e3:r;y=y+(g=g+l[h++]|0)|0,--f;);g%=65521,y%=65521}return g|y<<16|0}},{}],44:[function(t,a,o){"use strict";a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,a,o){"use strict";var i=function(){for(var l,r=[],h=0;h<256;h++){l=h;for(var g=0;g<8;g++)l=1&l?3988292384^l>>>1:l>>>1;r[h]=l}return r}();a.exports=function(l,r,h,g){var y=i,f=g+h;l^=-1;for(var v=g;v<f;v++)l=l>>>8^y[255&(l^r[v])];return-1^l}},{}],46:[function(t,a,o){"use strict";var i,l=t("../utils/common"),r=t("./trees"),h=t("./adler32"),g=t("./crc32"),y=t("./messages"),f=0,v=4,n=0,p=-2,u=-1,m=4,d=2,b=8,w=9,x=286,C=30,R=19,O=2*x+1,j=15,D=3,M=258,q=M+D+1,k=42,F=113,s=1,T=2,X=3,$=4;function U(e,B){return e.msg=y[B],B}function N(e){return(e<<1)-(4<e?9:0)}function K(e){for(var B=e.length;0<=--B;)e[B]=0}function A(e){var B=e.state,I=B.pending;I>e.avail_out&&(I=e.avail_out),I!==0&&(l.arraySet(e.output,B.pending_buf,B.pending_out,I,e.next_out),e.next_out+=I,B.pending_out+=I,e.total_out+=I,e.avail_out-=I,B.pending-=I,B.pending===0&&(B.pending_out=0))}function E(e,B){r._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,B),e.block_start=e.strstart,A(e.strm)}function J(e,B){e.pending_buf[e.pending++]=B}function G(e,B){e.pending_buf[e.pending++]=B>>>8&255,e.pending_buf[e.pending++]=255&B}function W(e,B){var I,_,c=e.max_chain_length,S=e.strstart,P=e.prev_length,L=e.nice_match,z=e.strstart>e.w_size-q?e.strstart-(e.w_size-q):0,Z=e.window,Y=e.w_mask,H=e.prev,V=e.strstart+M,ot=Z[S+P-1],rt=Z[S+P];e.prev_length>=e.good_match&&(c>>=2),L>e.lookahead&&(L=e.lookahead);do if(Z[(I=B)+P]===rt&&Z[I+P-1]===ot&&Z[I]===Z[S]&&Z[++I]===Z[S+1]){S+=2,I++;do;while(Z[++S]===Z[++I]&&Z[++S]===Z[++I]&&Z[++S]===Z[++I]&&Z[++S]===Z[++I]&&Z[++S]===Z[++I]&&Z[++S]===Z[++I]&&Z[++S]===Z[++I]&&Z[++S]===Z[++I]&&S<V);if(_=M-(V-S),S=V-M,P<_){if(e.match_start=B,L<=(P=_))break;ot=Z[S+P-1],rt=Z[S+P]}}while((B=H[B&Y])>z&&--c!=0);return P<=e.lookahead?P:e.lookahead}function nt(e){var B,I,_,c,S,P,L,z,Z,Y,H=e.w_size;do{if(c=e.window_size-e.lookahead-e.strstart,e.strstart>=H+(H-q)){for(l.arraySet(e.window,e.window,H,H,0),e.match_start-=H,e.strstart-=H,e.block_start-=H,B=I=e.hash_size;_=e.head[--B],e.head[B]=H<=_?_-H:0,--I;);for(B=I=H;_=e.prev[--B],e.prev[B]=H<=_?_-H:0,--I;);c+=H}if(e.strm.avail_in===0)break;if(P=e.strm,L=e.window,z=e.strstart+e.lookahead,Z=c,Y=void 0,Y=P.avail_in,Z<Y&&(Y=Z),I=Y===0?0:(P.avail_in-=Y,l.arraySet(L,P.input,P.next_in,Y,z),P.state.wrap===1?P.adler=h(P.adler,L,Y,z):P.state.wrap===2&&(P.adler=g(P.adler,L,Y,z)),P.next_in+=Y,P.total_in+=Y,Y),e.lookahead+=I,e.lookahead+e.insert>=D)for(S=e.strstart-e.insert,e.ins_h=e.window[S],e.ins_h=(e.ins_h<<e.hash_shift^e.window[S+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[S+D-1])&e.hash_mask,e.prev[S&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=S,S++,e.insert--,!(e.lookahead+e.insert<D)););}while(e.lookahead<q&&e.strm.avail_in!==0)}function it(e,B){for(var I,_;;){if(e.lookahead<q){if(nt(e),e.lookahead<q&&B===f)return s;if(e.lookahead===0)break}if(I=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,I=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),I!==0&&e.strstart-I<=e.w_size-q&&(e.match_length=W(e,I)),e.match_length>=D)if(_=r._tr_tally(e,e.strstart-e.match_start,e.match_length-D),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=D){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,I=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,--e.match_length!=0;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else _=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(_&&(E(e,!1),e.strm.avail_out===0))return s}return e.insert=e.strstart<D-1?e.strstart:D-1,B===v?(E(e,!0),e.strm.avail_out===0?X:$):e.last_lit&&(E(e,!1),e.strm.avail_out===0)?s:T}function Q(e,B){for(var I,_,c;;){if(e.lookahead<q){if(nt(e),e.lookahead<q&&B===f)return s;if(e.lookahead===0)break}if(I=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,I=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=D-1,I!==0&&e.prev_length<e.max_lazy_match&&e.strstart-I<=e.w_size-q&&(e.match_length=W(e,I),e.match_length<=5&&(e.strategy===1||e.match_length===D&&4096<e.strstart-e.match_start)&&(e.match_length=D-1)),e.prev_length>=D&&e.match_length<=e.prev_length){for(c=e.strstart+e.lookahead-D,_=r._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-D),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=c&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,I=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),--e.prev_length!=0;);if(e.match_available=0,e.match_length=D-1,e.strstart++,_&&(E(e,!1),e.strm.avail_out===0))return s}else if(e.match_available){if((_=r._tr_tally(e,0,e.window[e.strstart-1]))&&E(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return s}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(_=r._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<D-1?e.strstart:D-1,B===v?(E(e,!0),e.strm.avail_out===0?X:$):e.last_lit&&(E(e,!1),e.strm.avail_out===0)?s:T}function tt(e,B,I,_,c){this.good_length=e,this.max_lazy=B,this.nice_length=I,this.max_chain=_,this.func=c}function st(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*O),this.dyn_dtree=new l.Buf16(2*(2*C+1)),this.bl_tree=new l.Buf16(2*(2*R+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(j+1),this.heap=new l.Buf16(2*x+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*x+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function at(e){var B;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=d,(B=e.state).pending=0,B.pending_out=0,B.wrap<0&&(B.wrap=-B.wrap),B.status=B.wrap?k:F,e.adler=B.wrap===2?0:1,B.last_flush=f,r._tr_init(B),n):U(e,p)}function ft(e){var B=at(e);return B===n&&function(I){I.window_size=2*I.w_size,K(I.head),I.max_lazy_match=i[I.level].max_lazy,I.good_match=i[I.level].good_length,I.nice_match=i[I.level].nice_length,I.max_chain_length=i[I.level].max_chain,I.strstart=0,I.block_start=0,I.lookahead=0,I.insert=0,I.match_length=I.prev_length=D-1,I.match_available=0,I.ins_h=0}(e.state),B}function et(e,B,I,_,c,S){if(!e)return p;var P=1;if(B===u&&(B=6),_<0?(P=0,_=-_):15<_&&(P=2,_-=16),c<1||w<c||I!==b||_<8||15<_||B<0||9<B||S<0||m<S)return U(e,p);_===8&&(_=9);var L=new st;return(e.state=L).strm=e,L.wrap=P,L.gzhead=null,L.w_bits=_,L.w_size=1<<L.w_bits,L.w_mask=L.w_size-1,L.hash_bits=c+7,L.hash_size=1<<L.hash_bits,L.hash_mask=L.hash_size-1,L.hash_shift=~~((L.hash_bits+D-1)/D),L.window=new l.Buf8(2*L.w_size),L.head=new l.Buf16(L.hash_size),L.prev=new l.Buf16(L.w_size),L.lit_bufsize=1<<c+6,L.pending_buf_size=4*L.lit_bufsize,L.pending_buf=new l.Buf8(L.pending_buf_size),L.d_buf=1*L.lit_bufsize,L.l_buf=3*L.lit_bufsize,L.level=B,L.strategy=S,L.method=I,ft(e)}i=[new tt(0,0,0,0,function(e,B){var I=65535;for(I>e.pending_buf_size-5&&(I=e.pending_buf_size-5);;){if(e.lookahead<=1){if(nt(e),e.lookahead===0&&B===f)return s;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var _=e.block_start+I;if((e.strstart===0||e.strstart>=_)&&(e.lookahead=e.strstart-_,e.strstart=_,E(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-q&&(E(e,!1),e.strm.avail_out===0))return s}return e.insert=0,B===v?(E(e,!0),e.strm.avail_out===0?X:$):(e.strstart>e.block_start&&(E(e,!1),e.strm.avail_out),s)}),new tt(4,4,8,4,it),new tt(4,5,16,8,it),new tt(4,6,32,32,it),new tt(4,4,16,16,Q),new tt(8,16,32,32,Q),new tt(8,16,128,128,Q),new tt(8,32,128,256,Q),new tt(32,128,258,1024,Q),new tt(32,258,258,4096,Q)],o.deflateInit=function(e,B){return et(e,B,b,15,8,0)},o.deflateInit2=et,o.deflateReset=ft,o.deflateResetKeep=at,o.deflateSetHeader=function(e,B){return e&&e.state?e.state.wrap!==2?p:(e.state.gzhead=B,n):p},o.deflate=function(e,B){var I,_,c,S;if(!e||!e.state||5<B||B<0)return e?U(e,p):p;if(_=e.state,!e.output||!e.input&&e.avail_in!==0||_.status===666&&B!==v)return U(e,e.avail_out===0?-5:p);if(_.strm=e,I=_.last_flush,_.last_flush=B,_.status===k)if(_.wrap===2)e.adler=0,J(_,31),J(_,139),J(_,8),_.gzhead?(J(_,(_.gzhead.text?1:0)+(_.gzhead.hcrc?2:0)+(_.gzhead.extra?4:0)+(_.gzhead.name?8:0)+(_.gzhead.comment?16:0)),J(_,255&_.gzhead.time),J(_,_.gzhead.time>>8&255),J(_,_.gzhead.time>>16&255),J(_,_.gzhead.time>>24&255),J(_,_.level===9?2:2<=_.strategy||_.level<2?4:0),J(_,255&_.gzhead.os),_.gzhead.extra&&_.gzhead.extra.length&&(J(_,255&_.gzhead.extra.length),J(_,_.gzhead.extra.length>>8&255)),_.gzhead.hcrc&&(e.adler=g(e.adler,_.pending_buf,_.pending,0)),_.gzindex=0,_.status=69):(J(_,0),J(_,0),J(_,0),J(_,0),J(_,0),J(_,_.level===9?2:2<=_.strategy||_.level<2?4:0),J(_,3),_.status=F);else{var P=b+(_.w_bits-8<<4)<<8;P|=(2<=_.strategy||_.level<2?0:_.level<6?1:_.level===6?2:3)<<6,_.strstart!==0&&(P|=32),P+=31-P%31,_.status=F,G(_,P),_.strstart!==0&&(G(_,e.adler>>>16),G(_,65535&e.adler)),e.adler=1}if(_.status===69)if(_.gzhead.extra){for(c=_.pending;_.gzindex<(65535&_.gzhead.extra.length)&&(_.pending!==_.pending_buf_size||(_.gzhead.hcrc&&_.pending>c&&(e.adler=g(e.adler,_.pending_buf,_.pending-c,c)),A(e),c=_.pending,_.pending!==_.pending_buf_size));)J(_,255&_.gzhead.extra[_.gzindex]),_.gzindex++;_.gzhead.hcrc&&_.pending>c&&(e.adler=g(e.adler,_.pending_buf,_.pending-c,c)),_.gzindex===_.gzhead.extra.length&&(_.gzindex=0,_.status=73)}else _.status=73;if(_.status===73)if(_.gzhead.name){c=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>c&&(e.adler=g(e.adler,_.pending_buf,_.pending-c,c)),A(e),c=_.pending,_.pending===_.pending_buf_size)){S=1;break}S=_.gzindex<_.gzhead.name.length?255&_.gzhead.name.charCodeAt(_.gzindex++):0,J(_,S)}while(S!==0);_.gzhead.hcrc&&_.pending>c&&(e.adler=g(e.adler,_.pending_buf,_.pending-c,c)),S===0&&(_.gzindex=0,_.status=91)}else _.status=91;if(_.status===91)if(_.gzhead.comment){c=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>c&&(e.adler=g(e.adler,_.pending_buf,_.pending-c,c)),A(e),c=_.pending,_.pending===_.pending_buf_size)){S=1;break}S=_.gzindex<_.gzhead.comment.length?255&_.gzhead.comment.charCodeAt(_.gzindex++):0,J(_,S)}while(S!==0);_.gzhead.hcrc&&_.pending>c&&(e.adler=g(e.adler,_.pending_buf,_.pending-c,c)),S===0&&(_.status=103)}else _.status=103;if(_.status===103&&(_.gzhead.hcrc?(_.pending+2>_.pending_buf_size&&A(e),_.pending+2<=_.pending_buf_size&&(J(_,255&e.adler),J(_,e.adler>>8&255),e.adler=0,_.status=F)):_.status=F),_.pending!==0){if(A(e),e.avail_out===0)return _.last_flush=-1,n}else if(e.avail_in===0&&N(B)<=N(I)&&B!==v)return U(e,-5);if(_.status===666&&e.avail_in!==0)return U(e,-5);if(e.avail_in!==0||_.lookahead!==0||B!==f&&_.status!==666){var L=_.strategy===2?function(z,Z){for(var Y;;){if(z.lookahead===0&&(nt(z),z.lookahead===0)){if(Z===f)return s;break}if(z.match_length=0,Y=r._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++,Y&&(E(z,!1),z.strm.avail_out===0))return s}return z.insert=0,Z===v?(E(z,!0),z.strm.avail_out===0?X:$):z.last_lit&&(E(z,!1),z.strm.avail_out===0)?s:T}(_,B):_.strategy===3?function(z,Z){for(var Y,H,V,ot,rt=z.window;;){if(z.lookahead<=M){if(nt(z),z.lookahead<=M&&Z===f)return s;if(z.lookahead===0)break}if(z.match_length=0,z.lookahead>=D&&0<z.strstart&&(H=rt[V=z.strstart-1])===rt[++V]&&H===rt[++V]&&H===rt[++V]){ot=z.strstart+M;do;while(H===rt[++V]&&H===rt[++V]&&H===rt[++V]&&H===rt[++V]&&H===rt[++V]&&H===rt[++V]&&H===rt[++V]&&H===rt[++V]&&V<ot);z.match_length=M-(ot-V),z.match_length>z.lookahead&&(z.match_length=z.lookahead)}if(z.match_length>=D?(Y=r._tr_tally(z,1,z.match_length-D),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(Y=r._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++),Y&&(E(z,!1),z.strm.avail_out===0))return s}return z.insert=0,Z===v?(E(z,!0),z.strm.avail_out===0?X:$):z.last_lit&&(E(z,!1),z.strm.avail_out===0)?s:T}(_,B):i[_.level].func(_,B);if(L!==X&&L!==$||(_.status=666),L===s||L===X)return e.avail_out===0&&(_.last_flush=-1),n;if(L===T&&(B===1?r._tr_align(_):B!==5&&(r._tr_stored_block(_,0,0,!1),B===3&&(K(_.head),_.lookahead===0&&(_.strstart=0,_.block_start=0,_.insert=0))),A(e),e.avail_out===0))return _.last_flush=-1,n}return B!==v?n:_.wrap<=0?1:(_.wrap===2?(J(_,255&e.adler),J(_,e.adler>>8&255),J(_,e.adler>>16&255),J(_,e.adler>>24&255),J(_,255&e.total_in),J(_,e.total_in>>8&255),J(_,e.total_in>>16&255),J(_,e.total_in>>24&255)):(G(_,e.adler>>>16),G(_,65535&e.adler)),A(e),0<_.wrap&&(_.wrap=-_.wrap),_.pending!==0?n:1)},o.deflateEnd=function(e){var B;return e&&e.state?(B=e.state.status)!==k&&B!==69&&B!==73&&B!==91&&B!==103&&B!==F&&B!==666?U(e,p):(e.state=null,B===F?U(e,-3):n):p},o.deflateSetDictionary=function(e,B){var I,_,c,S,P,L,z,Z,Y=B.length;if(!e||!e.state||(S=(I=e.state).wrap)===2||S===1&&I.status!==k||I.lookahead)return p;for(S===1&&(e.adler=h(e.adler,B,Y,0)),I.wrap=0,Y>=I.w_size&&(S===0&&(K(I.head),I.strstart=0,I.block_start=0,I.insert=0),Z=new l.Buf8(I.w_size),l.arraySet(Z,B,Y-I.w_size,I.w_size,0),B=Z,Y=I.w_size),P=e.avail_in,L=e.next_in,z=e.input,e.avail_in=Y,e.next_in=0,e.input=B,nt(I);I.lookahead>=D;){for(_=I.strstart,c=I.lookahead-(D-1);I.ins_h=(I.ins_h<<I.hash_shift^I.window[_+D-1])&I.hash_mask,I.prev[_&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=_,_++,--c;);I.strstart=_,I.lookahead=D-1,nt(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=D-1,I.match_available=0,e.next_in=L,e.input=z,e.avail_in=P,I.wrap=S,n},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,a,o){"use strict";a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,a,o){"use strict";a.exports=function(i,l){var r,h,g,y,f,v,n,p,u,m,d,b,w,x,C,R,O,j,D,M,q,k,F,s,T;r=i.state,h=i.next_in,s=i.input,g=h+(i.avail_in-5),y=i.next_out,T=i.output,f=y-(l-i.avail_out),v=y+(i.avail_out-257),n=r.dmax,p=r.wsize,u=r.whave,m=r.wnext,d=r.window,b=r.hold,w=r.bits,x=r.lencode,C=r.distcode,R=(1<<r.lenbits)-1,O=(1<<r.distbits)-1;t:do{w<15&&(b+=s[h++]<<w,w+=8,b+=s[h++]<<w,w+=8),j=x[b&R];e:for(;;){if(b>>>=D=j>>>24,w-=D,(D=j>>>16&255)===0)T[y++]=65535&j;else{if(!(16&D)){if(!(64&D)){j=x[(65535&j)+(b&(1<<D)-1)];continue e}if(32&D){r.mode=12;break t}i.msg="invalid literal/length code",r.mode=30;break t}M=65535&j,(D&=15)&&(w<D&&(b+=s[h++]<<w,w+=8),M+=b&(1<<D)-1,b>>>=D,w-=D),w<15&&(b+=s[h++]<<w,w+=8,b+=s[h++]<<w,w+=8),j=C[b&O];r:for(;;){if(b>>>=D=j>>>24,w-=D,!(16&(D=j>>>16&255))){if(!(64&D)){j=C[(65535&j)+(b&(1<<D)-1)];continue r}i.msg="invalid distance code",r.mode=30;break t}if(q=65535&j,w<(D&=15)&&(b+=s[h++]<<w,(w+=8)<D&&(b+=s[h++]<<w,w+=8)),n<(q+=b&(1<<D)-1)){i.msg="invalid distance too far back",r.mode=30;break t}if(b>>>=D,w-=D,(D=y-f)<q){if(u<(D=q-D)&&r.sane){i.msg="invalid distance too far back",r.mode=30;break t}if(F=d,(k=0)===m){if(k+=p-D,D<M){for(M-=D;T[y++]=d[k++],--D;);k=y-q,F=T}}else if(m<D){if(k+=p+m-D,(D-=m)<M){for(M-=D;T[y++]=d[k++],--D;);if(k=0,m<M){for(M-=D=m;T[y++]=d[k++],--D;);k=y-q,F=T}}}else if(k+=m-D,D<M){for(M-=D;T[y++]=d[k++],--D;);k=y-q,F=T}for(;2<M;)T[y++]=F[k++],T[y++]=F[k++],T[y++]=F[k++],M-=3;M&&(T[y++]=F[k++],1<M&&(T[y++]=F[k++]))}else{for(k=y-q;T[y++]=T[k++],T[y++]=T[k++],T[y++]=T[k++],2<(M-=3););M&&(T[y++]=T[k++],1<M&&(T[y++]=T[k++]))}break}}break}}while(h<g&&y<v);h-=M=w>>3,b&=(1<<(w-=M<<3))-1,i.next_in=h,i.next_out=y,i.avail_in=h<g?g-h+5:5-(h-g),i.avail_out=y<v?v-y+257:257-(y-v),r.hold=b,r.bits=w}},{}],49:[function(t,a,o){"use strict";var i=t("../utils/common"),l=t("./adler32"),r=t("./crc32"),h=t("./inffast"),g=t("./inftrees"),y=1,f=2,v=0,n=-2,p=1,u=852,m=592;function d(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(k){var F;return k&&k.state?(F=k.state,k.total_in=k.total_out=F.total=0,k.msg="",F.wrap&&(k.adler=1&F.wrap),F.mode=p,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new i.Buf32(u),F.distcode=F.distdyn=new i.Buf32(m),F.sane=1,F.back=-1,v):n}function x(k){var F;return k&&k.state?((F=k.state).wsize=0,F.whave=0,F.wnext=0,w(k)):n}function C(k,F){var s,T;return k&&k.state?(T=k.state,F<0?(s=0,F=-F):(s=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?n:(T.window!==null&&T.wbits!==F&&(T.window=null),T.wrap=s,T.wbits=F,x(k))):n}function R(k,F){var s,T;return k?(T=new b,(k.state=T).window=null,(s=C(k,F))!==v&&(k.state=null),s):n}var O,j,D=!0;function M(k){if(D){var F;for(O=new i.Buf32(512),j=new i.Buf32(32),F=0;F<144;)k.lens[F++]=8;for(;F<256;)k.lens[F++]=9;for(;F<280;)k.lens[F++]=7;for(;F<288;)k.lens[F++]=8;for(g(y,k.lens,0,288,O,0,k.work,{bits:9}),F=0;F<32;)k.lens[F++]=5;g(f,k.lens,0,32,j,0,k.work,{bits:5}),D=!1}k.lencode=O,k.lenbits=9,k.distcode=j,k.distbits=5}function q(k,F,s,T){var X,$=k.state;return $.window===null&&($.wsize=1<<$.wbits,$.wnext=0,$.whave=0,$.window=new i.Buf8($.wsize)),T>=$.wsize?(i.arraySet($.window,F,s-$.wsize,$.wsize,0),$.wnext=0,$.whave=$.wsize):(T<(X=$.wsize-$.wnext)&&(X=T),i.arraySet($.window,F,s-T,X,$.wnext),(T-=X)?(i.arraySet($.window,F,s-T,T,0),$.wnext=T,$.whave=$.wsize):($.wnext+=X,$.wnext===$.wsize&&($.wnext=0),$.whave<$.wsize&&($.whave+=X))),0}o.inflateReset=x,o.inflateReset2=C,o.inflateResetKeep=w,o.inflateInit=function(k){return R(k,15)},o.inflateInit2=R,o.inflate=function(k,F){var s,T,X,$,U,N,K,A,E,J,G,W,nt,it,Q,tt,st,at,ft,et,e,B,I,_,c=0,S=new i.Buf8(4),P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return n;(s=k.state).mode===12&&(s.mode=13),U=k.next_out,X=k.output,K=k.avail_out,$=k.next_in,T=k.input,N=k.avail_in,A=s.hold,E=s.bits,J=N,G=K,B=v;t:for(;;)switch(s.mode){case p:if(s.wrap===0){s.mode=13;break}for(;E<16;){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}if(2&s.wrap&&A===35615){S[s.check=0]=255&A,S[1]=A>>>8&255,s.check=r(s.check,S,2,0),E=A=0,s.mode=2;break}if(s.flags=0,s.head&&(s.head.done=!1),!(1&s.wrap)||(((255&A)<<8)+(A>>8))%31){k.msg="incorrect header check",s.mode=30;break}if((15&A)!=8){k.msg="unknown compression method",s.mode=30;break}if(E-=4,e=8+(15&(A>>>=4)),s.wbits===0)s.wbits=e;else if(e>s.wbits){k.msg="invalid window size",s.mode=30;break}s.dmax=1<<e,k.adler=s.check=1,s.mode=512&A?10:12,E=A=0;break;case 2:for(;E<16;){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}if(s.flags=A,(255&s.flags)!=8){k.msg="unknown compression method",s.mode=30;break}if(57344&s.flags){k.msg="unknown header flags set",s.mode=30;break}s.head&&(s.head.text=A>>8&1),512&s.flags&&(S[0]=255&A,S[1]=A>>>8&255,s.check=r(s.check,S,2,0)),E=A=0,s.mode=3;case 3:for(;E<32;){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}s.head&&(s.head.time=A),512&s.flags&&(S[0]=255&A,S[1]=A>>>8&255,S[2]=A>>>16&255,S[3]=A>>>24&255,s.check=r(s.check,S,4,0)),E=A=0,s.mode=4;case 4:for(;E<16;){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}s.head&&(s.head.xflags=255&A,s.head.os=A>>8),512&s.flags&&(S[0]=255&A,S[1]=A>>>8&255,s.check=r(s.check,S,2,0)),E=A=0,s.mode=5;case 5:if(1024&s.flags){for(;E<16;){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}s.length=A,s.head&&(s.head.extra_len=A),512&s.flags&&(S[0]=255&A,S[1]=A>>>8&255,s.check=r(s.check,S,2,0)),E=A=0}else s.head&&(s.head.extra=null);s.mode=6;case 6:if(1024&s.flags&&(N<(W=s.length)&&(W=N),W&&(s.head&&(e=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Array(s.head.extra_len)),i.arraySet(s.head.extra,T,$,W,e)),512&s.flags&&(s.check=r(s.check,T,W,$)),N-=W,$+=W,s.length-=W),s.length))break t;s.length=0,s.mode=7;case 7:if(2048&s.flags){if(N===0)break t;for(W=0;e=T[$+W++],s.head&&e&&s.length<65536&&(s.head.name+=String.fromCharCode(e)),e&&W<N;);if(512&s.flags&&(s.check=r(s.check,T,W,$)),N-=W,$+=W,e)break t}else s.head&&(s.head.name=null);s.length=0,s.mode=8;case 8:if(4096&s.flags){if(N===0)break t;for(W=0;e=T[$+W++],s.head&&e&&s.length<65536&&(s.head.comment+=String.fromCharCode(e)),e&&W<N;);if(512&s.flags&&(s.check=r(s.check,T,W,$)),N-=W,$+=W,e)break t}else s.head&&(s.head.comment=null);s.mode=9;case 9:if(512&s.flags){for(;E<16;){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}if(A!==(65535&s.check)){k.msg="header crc mismatch",s.mode=30;break}E=A=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),k.adler=s.check=0,s.mode=12;break;case 10:for(;E<32;){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}k.adler=s.check=d(A),E=A=0,s.mode=11;case 11:if(s.havedict===0)return k.next_out=U,k.avail_out=K,k.next_in=$,k.avail_in=N,s.hold=A,s.bits=E,2;k.adler=s.check=1,s.mode=12;case 12:if(F===5||F===6)break t;case 13:if(s.last){A>>>=7&E,E-=7&E,s.mode=27;break}for(;E<3;){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}switch(s.last=1&A,E-=1,3&(A>>>=1)){case 0:s.mode=14;break;case 1:if(M(s),s.mode=20,F!==6)break;A>>>=2,E-=2;break t;case 2:s.mode=17;break;case 3:k.msg="invalid block type",s.mode=30}A>>>=2,E-=2;break;case 14:for(A>>>=7&E,E-=7&E;E<32;){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}if((65535&A)!=(A>>>16^65535)){k.msg="invalid stored block lengths",s.mode=30;break}if(s.length=65535&A,E=A=0,s.mode=15,F===6)break t;case 15:s.mode=16;case 16:if(W=s.length){if(N<W&&(W=N),K<W&&(W=K),W===0)break t;i.arraySet(X,T,$,W,U),N-=W,$+=W,K-=W,U+=W,s.length-=W;break}s.mode=12;break;case 17:for(;E<14;){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}if(s.nlen=257+(31&A),A>>>=5,E-=5,s.ndist=1+(31&A),A>>>=5,E-=5,s.ncode=4+(15&A),A>>>=4,E-=4,286<s.nlen||30<s.ndist){k.msg="too many length or distance symbols",s.mode=30;break}s.have=0,s.mode=18;case 18:for(;s.have<s.ncode;){for(;E<3;){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}s.lens[P[s.have++]]=7&A,A>>>=3,E-=3}for(;s.have<19;)s.lens[P[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,I={bits:s.lenbits},B=g(0,s.lens,0,19,s.lencode,0,s.work,I),s.lenbits=I.bits,B){k.msg="invalid code lengths set",s.mode=30;break}s.have=0,s.mode=19;case 19:for(;s.have<s.nlen+s.ndist;){for(;tt=(c=s.lencode[A&(1<<s.lenbits)-1])>>>16&255,st=65535&c,!((Q=c>>>24)<=E);){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}if(st<16)A>>>=Q,E-=Q,s.lens[s.have++]=st;else{if(st===16){for(_=Q+2;E<_;){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}if(A>>>=Q,E-=Q,s.have===0){k.msg="invalid bit length repeat",s.mode=30;break}e=s.lens[s.have-1],W=3+(3&A),A>>>=2,E-=2}else if(st===17){for(_=Q+3;E<_;){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}E-=Q,e=0,W=3+(7&(A>>>=Q)),A>>>=3,E-=3}else{for(_=Q+7;E<_;){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}E-=Q,e=0,W=11+(127&(A>>>=Q)),A>>>=7,E-=7}if(s.have+W>s.nlen+s.ndist){k.msg="invalid bit length repeat",s.mode=30;break}for(;W--;)s.lens[s.have++]=e}}if(s.mode===30)break;if(s.lens[256]===0){k.msg="invalid code -- missing end-of-block",s.mode=30;break}if(s.lenbits=9,I={bits:s.lenbits},B=g(y,s.lens,0,s.nlen,s.lencode,0,s.work,I),s.lenbits=I.bits,B){k.msg="invalid literal/lengths set",s.mode=30;break}if(s.distbits=6,s.distcode=s.distdyn,I={bits:s.distbits},B=g(f,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,I),s.distbits=I.bits,B){k.msg="invalid distances set",s.mode=30;break}if(s.mode=20,F===6)break t;case 20:s.mode=21;case 21:if(6<=N&&258<=K){k.next_out=U,k.avail_out=K,k.next_in=$,k.avail_in=N,s.hold=A,s.bits=E,h(k,G),U=k.next_out,X=k.output,K=k.avail_out,$=k.next_in,T=k.input,N=k.avail_in,A=s.hold,E=s.bits,s.mode===12&&(s.back=-1);break}for(s.back=0;tt=(c=s.lencode[A&(1<<s.lenbits)-1])>>>16&255,st=65535&c,!((Q=c>>>24)<=E);){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}if(tt&&!(240&tt)){for(at=Q,ft=tt,et=st;tt=(c=s.lencode[et+((A&(1<<at+ft)-1)>>at)])>>>16&255,st=65535&c,!(at+(Q=c>>>24)<=E);){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}A>>>=at,E-=at,s.back+=at}if(A>>>=Q,E-=Q,s.back+=Q,s.length=st,tt===0){s.mode=26;break}if(32&tt){s.back=-1,s.mode=12;break}if(64&tt){k.msg="invalid literal/length code",s.mode=30;break}s.extra=15&tt,s.mode=22;case 22:if(s.extra){for(_=s.extra;E<_;){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}s.length+=A&(1<<s.extra)-1,A>>>=s.extra,E-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=23;case 23:for(;tt=(c=s.distcode[A&(1<<s.distbits)-1])>>>16&255,st=65535&c,!((Q=c>>>24)<=E);){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}if(!(240&tt)){for(at=Q,ft=tt,et=st;tt=(c=s.distcode[et+((A&(1<<at+ft)-1)>>at)])>>>16&255,st=65535&c,!(at+(Q=c>>>24)<=E);){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}A>>>=at,E-=at,s.back+=at}if(A>>>=Q,E-=Q,s.back+=Q,64&tt){k.msg="invalid distance code",s.mode=30;break}s.offset=st,s.extra=15&tt,s.mode=24;case 24:if(s.extra){for(_=s.extra;E<_;){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}s.offset+=A&(1<<s.extra)-1,A>>>=s.extra,E-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){k.msg="invalid distance too far back",s.mode=30;break}s.mode=25;case 25:if(K===0)break t;if(W=G-K,s.offset>W){if((W=s.offset-W)>s.whave&&s.sane){k.msg="invalid distance too far back",s.mode=30;break}nt=W>s.wnext?(W-=s.wnext,s.wsize-W):s.wnext-W,W>s.length&&(W=s.length),it=s.window}else it=X,nt=U-s.offset,W=s.length;for(K<W&&(W=K),K-=W,s.length-=W;X[U++]=it[nt++],--W;);s.length===0&&(s.mode=21);break;case 26:if(K===0)break t;X[U++]=s.length,K--,s.mode=21;break;case 27:if(s.wrap){for(;E<32;){if(N===0)break t;N--,A|=T[$++]<<E,E+=8}if(G-=K,k.total_out+=G,s.total+=G,G&&(k.adler=s.check=s.flags?r(s.check,X,G,U-G):l(s.check,X,G,U-G)),G=K,(s.flags?A:d(A))!==s.check){k.msg="incorrect data check",s.mode=30;break}E=A=0}s.mode=28;case 28:if(s.wrap&&s.flags){for(;E<32;){if(N===0)break t;N--,A+=T[$++]<<E,E+=8}if(A!==(4294967295&s.total)){k.msg="incorrect length check",s.mode=30;break}E=A=0}s.mode=29;case 29:B=1;break t;case 30:B=-3;break t;case 31:return-4;case 32:default:return n}return k.next_out=U,k.avail_out=K,k.next_in=$,k.avail_in=N,s.hold=A,s.bits=E,(s.wsize||G!==k.avail_out&&s.mode<30&&(s.mode<27||F!==4))&&q(k,k.output,k.next_out,G-k.avail_out)?(s.mode=31,-4):(J-=k.avail_in,G-=k.avail_out,k.total_in+=J,k.total_out+=G,s.total+=G,s.wrap&&G&&(k.adler=s.check=s.flags?r(s.check,X,G,k.next_out-G):l(s.check,X,G,k.next_out-G)),k.data_type=s.bits+(s.last?64:0)+(s.mode===12?128:0)+(s.mode===20||s.mode===15?256:0),(J==0&&G===0||F===4)&&B===v&&(B=-5),B)},o.inflateEnd=function(k){if(!k||!k.state)return n;var F=k.state;return F.window&&(F.window=null),k.state=null,v},o.inflateGetHeader=function(k,F){var s;return k&&k.state&&2&(s=k.state).wrap?((s.head=F).done=!1,v):n},o.inflateSetDictionary=function(k,F){var s,T=F.length;return k&&k.state?(s=k.state).wrap!==0&&s.mode!==11?n:s.mode===11&&l(1,F,T,0)!==s.check?-3:q(k,F,T,T)?(s.mode=31,-4):(s.havedict=1,v):n},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,a,o){"use strict";var i=t("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(y,f,v,n,p,u,m,d){var b,w,x,C,R,O,j,D,M,q=d.bits,k=0,F=0,s=0,T=0,X=0,$=0,U=0,N=0,K=0,A=0,E=null,J=0,G=new i.Buf16(16),W=new i.Buf16(16),nt=null,it=0;for(k=0;k<=15;k++)G[k]=0;for(F=0;F<n;F++)G[f[v+F]]++;for(X=q,T=15;1<=T&&G[T]===0;T--);if(T<X&&(X=T),T===0)return p[u++]=20971520,p[u++]=20971520,d.bits=1,0;for(s=1;s<T&&G[s]===0;s++);for(X<s&&(X=s),k=N=1;k<=15;k++)if(N<<=1,(N-=G[k])<0)return-1;if(0<N&&(y===0||T!==1))return-1;for(W[1]=0,k=1;k<15;k++)W[k+1]=W[k]+G[k];for(F=0;F<n;F++)f[v+F]!==0&&(m[W[f[v+F]]++]=F);if(O=y===0?(E=nt=m,19):y===1?(E=l,J-=257,nt=r,it-=257,256):(E=h,nt=g,-1),k=s,R=u,U=F=A=0,x=-1,C=(K=1<<($=X))-1,y===1&&852<K||y===2&&592<K)return 1;for(;;){for(j=k-U,M=m[F]<O?(D=0,m[F]):m[F]>O?(D=nt[it+m[F]],E[J+m[F]]):(D=96,0),b=1<<k-U,s=w=1<<$;p[R+(A>>U)+(w-=b)]=j<<24|D<<16|M|0,w!==0;);for(b=1<<k-1;A&b;)b>>=1;if(b!==0?(A&=b-1,A+=b):A=0,F++,--G[k]==0){if(k===T)break;k=f[v+m[F]]}if(X<k&&(A&C)!==x){for(U===0&&(U=X),R+=s,N=1<<($=k-U);$+U<T&&!((N-=G[$+U])<=0);)$++,N<<=1;if(K+=1<<$,y===1&&852<K||y===2&&592<K)return 1;p[x=A&C]=X<<24|$<<16|R-u|0}}return A!==0&&(p[R+A]=k-U<<24|64<<16|0),d.bits=X,0}},{"../utils/common":41}],51:[function(t,a,o){"use strict";a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,a,o){"use strict";var i=t("../utils/common"),l=0,r=1;function h(c){for(var S=c.length;0<=--S;)c[S]=0}var g=0,y=29,f=256,v=f+1+y,n=30,p=19,u=2*v+1,m=15,d=16,b=7,w=256,x=16,C=17,R=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(v+2));h(q);var k=new Array(2*n);h(k);var F=new Array(512);h(F);var s=new Array(256);h(s);var T=new Array(y);h(T);var X,$,U,N=new Array(n);function K(c,S,P,L,z){this.static_tree=c,this.extra_bits=S,this.extra_base=P,this.elems=L,this.max_length=z,this.has_stree=c&&c.length}function A(c,S){this.dyn_tree=c,this.max_code=0,this.stat_desc=S}function E(c){return c<256?F[c]:F[256+(c>>>7)]}function J(c,S){c.pending_buf[c.pending++]=255&S,c.pending_buf[c.pending++]=S>>>8&255}function G(c,S,P){c.bi_valid>d-P?(c.bi_buf|=S<<c.bi_valid&65535,J(c,c.bi_buf),c.bi_buf=S>>d-c.bi_valid,c.bi_valid+=P-d):(c.bi_buf|=S<<c.bi_valid&65535,c.bi_valid+=P)}function W(c,S,P){G(c,P[2*S],P[2*S+1])}function nt(c,S){for(var P=0;P|=1&c,c>>>=1,P<<=1,0<--S;);return P>>>1}function it(c,S,P){var L,z,Z=new Array(m+1),Y=0;for(L=1;L<=m;L++)Z[L]=Y=Y+P[L-1]<<1;for(z=0;z<=S;z++){var H=c[2*z+1];H!==0&&(c[2*z]=nt(Z[H]++,H))}}function Q(c){var S;for(S=0;S<v;S++)c.dyn_ltree[2*S]=0;for(S=0;S<n;S++)c.dyn_dtree[2*S]=0;for(S=0;S<p;S++)c.bl_tree[2*S]=0;c.dyn_ltree[2*w]=1,c.opt_len=c.static_len=0,c.last_lit=c.matches=0}function tt(c){8<c.bi_valid?J(c,c.bi_buf):0<c.bi_valid&&(c.pending_buf[c.pending++]=c.bi_buf),c.bi_buf=0,c.bi_valid=0}function st(c,S,P,L){var z=2*S,Z=2*P;return c[z]<c[Z]||c[z]===c[Z]&&L[S]<=L[P]}function at(c,S,P){for(var L=c.heap[P],z=P<<1;z<=c.heap_len&&(z<c.heap_len&&st(S,c.heap[z+1],c.heap[z],c.depth)&&z++,!st(S,L,c.heap[z],c.depth));)c.heap[P]=c.heap[z],P=z,z<<=1;c.heap[P]=L}function ft(c,S,P){var L,z,Z,Y,H=0;if(c.last_lit!==0)for(;L=c.pending_buf[c.d_buf+2*H]<<8|c.pending_buf[c.d_buf+2*H+1],z=c.pending_buf[c.l_buf+H],H++,L===0?W(c,z,S):(W(c,(Z=s[z])+f+1,S),(Y=O[Z])!==0&&G(c,z-=T[Z],Y),W(c,Z=E(--L),P),(Y=j[Z])!==0&&G(c,L-=N[Z],Y)),H<c.last_lit;);W(c,w,S)}function et(c,S){var P,L,z,Z=S.dyn_tree,Y=S.stat_desc.static_tree,H=S.stat_desc.has_stree,V=S.stat_desc.elems,ot=-1;for(c.heap_len=0,c.heap_max=u,P=0;P<V;P++)Z[2*P]!==0?(c.heap[++c.heap_len]=ot=P,c.depth[P]=0):Z[2*P+1]=0;for(;c.heap_len<2;)Z[2*(z=c.heap[++c.heap_len]=ot<2?++ot:0)]=1,c.depth[z]=0,c.opt_len--,H&&(c.static_len-=Y[2*z+1]);for(S.max_code=ot,P=c.heap_len>>1;1<=P;P--)at(c,Z,P);for(z=V;P=c.heap[1],c.heap[1]=c.heap[c.heap_len--],at(c,Z,1),L=c.heap[1],c.heap[--c.heap_max]=P,c.heap[--c.heap_max]=L,Z[2*z]=Z[2*P]+Z[2*L],c.depth[z]=(c.depth[P]>=c.depth[L]?c.depth[P]:c.depth[L])+1,Z[2*P+1]=Z[2*L+1]=z,c.heap[1]=z++,at(c,Z,1),2<=c.heap_len;);c.heap[--c.heap_max]=c.heap[1],function(rt,pt){var kt,mt,xt,ht,zt,Ut,gt=pt.dyn_tree,Vt=pt.max_code,Be=pt.stat_desc.static_tree,Re=pt.stat_desc.has_stree,Pe=pt.stat_desc.extra_bits,Xt=pt.stat_desc.extra_base,St=pt.stat_desc.max_length,At=0;for(ht=0;ht<=m;ht++)rt.bl_count[ht]=0;for(gt[2*rt.heap[rt.heap_max]+1]=0,kt=rt.heap_max+1;kt<u;kt++)St<(ht=gt[2*gt[2*(mt=rt.heap[kt])+1]+1]+1)&&(ht=St,At++),gt[2*mt+1]=ht,Vt<mt||(rt.bl_count[ht]++,zt=0,Xt<=mt&&(zt=Pe[mt-Xt]),Ut=gt[2*mt],rt.opt_len+=Ut*(ht+zt),Re&&(rt.static_len+=Ut*(Be[2*mt+1]+zt)));if(At!==0){do{for(ht=St-1;rt.bl_count[ht]===0;)ht--;rt.bl_count[ht]--,rt.bl_count[ht+1]+=2,rt.bl_count[St]--,At-=2}while(0<At);for(ht=St;ht!==0;ht--)for(mt=rt.bl_count[ht];mt!==0;)Vt<(xt=rt.heap[--kt])||(gt[2*xt+1]!==ht&&(rt.opt_len+=(ht-gt[2*xt+1])*gt[2*xt],gt[2*xt+1]=ht),mt--)}}(c,S),it(Z,ot,c.bl_count)}function e(c,S,P){var L,z,Z=-1,Y=S[1],H=0,V=7,ot=4;for(Y===0&&(V=138,ot=3),S[2*(P+1)+1]=65535,L=0;L<=P;L++)z=Y,Y=S[2*(L+1)+1],++H<V&&z===Y||(H<ot?c.bl_tree[2*z]+=H:z!==0?(z!==Z&&c.bl_tree[2*z]++,c.bl_tree[2*x]++):H<=10?c.bl_tree[2*C]++:c.bl_tree[2*R]++,Z=z,ot=(H=0)===Y?(V=138,3):z===Y?(V=6,3):(V=7,4))}function B(c,S,P){var L,z,Z=-1,Y=S[1],H=0,V=7,ot=4;for(Y===0&&(V=138,ot=3),L=0;L<=P;L++)if(z=Y,Y=S[2*(L+1)+1],!(++H<V&&z===Y)){if(H<ot)for(;W(c,z,c.bl_tree),--H!=0;);else z!==0?(z!==Z&&(W(c,z,c.bl_tree),H--),W(c,x,c.bl_tree),G(c,H-3,2)):H<=10?(W(c,C,c.bl_tree),G(c,H-3,3)):(W(c,R,c.bl_tree),G(c,H-11,7));Z=z,ot=(H=0)===Y?(V=138,3):z===Y?(V=6,3):(V=7,4)}}h(N);var I=!1;function _(c,S,P,L){G(c,(g<<1)+(L?1:0),3),function(z,Z,Y,H){tt(z),H&&(J(z,Y),J(z,~Y)),i.arraySet(z.pending_buf,z.window,Z,Y,z.pending),z.pending+=Y}(c,S,P,!0)}o._tr_init=function(c){I||(function(){var S,P,L,z,Z,Y=new Array(m+1);for(z=L=0;z<y-1;z++)for(T[z]=L,S=0;S<1<<O[z];S++)s[L++]=z;for(s[L-1]=z,z=Z=0;z<16;z++)for(N[z]=Z,S=0;S<1<<j[z];S++)F[Z++]=z;for(Z>>=7;z<n;z++)for(N[z]=Z<<7,S=0;S<1<<j[z]-7;S++)F[256+Z++]=z;for(P=0;P<=m;P++)Y[P]=0;for(S=0;S<=143;)q[2*S+1]=8,S++,Y[8]++;for(;S<=255;)q[2*S+1]=9,S++,Y[9]++;for(;S<=279;)q[2*S+1]=7,S++,Y[7]++;for(;S<=287;)q[2*S+1]=8,S++,Y[8]++;for(it(q,v+1,Y),S=0;S<n;S++)k[2*S+1]=5,k[2*S]=nt(S,5);X=new K(q,O,f+1,v,m),$=new K(k,j,0,n,m),U=new K(new Array(0),D,0,p,b)}(),I=!0),c.l_desc=new A(c.dyn_ltree,X),c.d_desc=new A(c.dyn_dtree,$),c.bl_desc=new A(c.bl_tree,U),c.bi_buf=0,c.bi_valid=0,Q(c)},o._tr_stored_block=_,o._tr_flush_block=function(c,S,P,L){var z,Z,Y=0;0<c.level?(c.strm.data_type===2&&(c.strm.data_type=function(H){var V,ot=4093624447;for(V=0;V<=31;V++,ot>>>=1)if(1&ot&&H.dyn_ltree[2*V]!==0)return l;if(H.dyn_ltree[18]!==0||H.dyn_ltree[20]!==0||H.dyn_ltree[26]!==0)return r;for(V=32;V<f;V++)if(H.dyn_ltree[2*V]!==0)return r;return l}(c)),et(c,c.l_desc),et(c,c.d_desc),Y=function(H){var V;for(e(H,H.dyn_ltree,H.l_desc.max_code),e(H,H.dyn_dtree,H.d_desc.max_code),et(H,H.bl_desc),V=p-1;3<=V&&H.bl_tree[2*M[V]+1]===0;V--);return H.opt_len+=3*(V+1)+5+5+4,V}(c),z=c.opt_len+3+7>>>3,(Z=c.static_len+3+7>>>3)<=z&&(z=Z)):z=Z=P+5,P+4<=z&&S!==-1?_(c,S,P,L):c.strategy===4||Z===z?(G(c,2+(L?1:0),3),ft(c,q,k)):(G(c,4+(L?1:0),3),function(H,V,ot,rt){var pt;for(G(H,V-257,5),G(H,ot-1,5),G(H,rt-4,4),pt=0;pt<rt;pt++)G(H,H.bl_tree[2*M[pt]+1],3);B(H,H.dyn_ltree,V-1),B(H,H.dyn_dtree,ot-1)}(c,c.l_desc.max_code+1,c.d_desc.max_code+1,Y+1),ft(c,c.dyn_ltree,c.dyn_dtree)),Q(c),L&&tt(c)},o._tr_tally=function(c,S,P){return c.pending_buf[c.d_buf+2*c.last_lit]=S>>>8&255,c.pending_buf[c.d_buf+2*c.last_lit+1]=255&S,c.pending_buf[c.l_buf+c.last_lit]=255&P,c.last_lit++,S===0?c.dyn_ltree[2*P]++:(c.matches++,S--,c.dyn_ltree[2*(s[P]+f+1)]++,c.dyn_dtree[2*E(S)]++),c.last_lit===c.lit_bufsize-1},o._tr_align=function(c){G(c,2,3),W(c,w,q),function(S){S.bi_valid===16?(J(S,S.bi_buf),S.bi_buf=0,S.bi_valid=0):8<=S.bi_valid&&(S.pending_buf[S.pending++]=255&S.bi_buf,S.bi_buf>>=8,S.bi_valid-=8)}(c)}},{"../utils/common":41}],53:[function(t,a,o){"use strict";a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,a,o){(function(i){(function(l,r){"use strict";if(!l.setImmediate){var h,g,y,f,v=1,n={},p=!1,u=l.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(l);m=m&&m.setTimeout?m:l,h={}.toString.call(l.process)==="[object process]"?function(x){process.nextTick(function(){b(x)})}:function(){if(l.postMessage&&!l.importScripts){var x=!0,C=l.onmessage;return l.onmessage=function(){x=!1},l.postMessage("","*"),l.onmessage=C,x}}()?(f="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",w,!1):l.attachEvent("onmessage",w),function(x){l.postMessage(f+x,"*")}):l.MessageChannel?((y=new MessageChannel).port1.onmessage=function(x){b(x.data)},function(x){y.port2.postMessage(x)}):u&&"onreadystatechange"in u.createElement("script")?(g=u.documentElement,function(x){var C=u.createElement("script");C.onreadystatechange=function(){b(x),C.onreadystatechange=null,g.removeChild(C),C=null},g.appendChild(C)}):function(x){setTimeout(b,0,x)},m.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var C=new Array(arguments.length-1),R=0;R<C.length;R++)C[R]=arguments[R+1];var O={callback:x,args:C};return n[v]=O,h(v),v++},m.clearImmediate=d}function d(x){delete n[x]}function b(x){if(p)setTimeout(b,0,x);else{var C=n[x];if(C){p=!0;try{(function(R){var O=R.callback,j=R.args;switch(j.length){case 0:O();break;case 1:O(j[0]);break;case 2:O(j[0],j[1]);break;case 3:O(j[0],j[1],j[2]);break;default:O.apply(r,j)}})(C)}finally{d(x),p=!1}}}}function w(x){x.source===l&&typeof x.data=="string"&&x.data.indexOf(f)===0&&b(+x.data.slice(f.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var Tt,lt,ie,He,bt,te,se,ae,oe,Mt,Lt,jt,Ge,Et={},le=[],Ke=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Bt=Array.isArray;function vt(t,a){for(var o in a)t[o]=a[o];return t}function Wt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Zt(t,a,o){var i,l,r,h={};for(r in a)r=="key"?i=a[r]:r=="ref"?l=a[r]:h[r]=a[r];if(arguments.length>2&&(h.children=arguments.length>3?Tt.call(arguments,2):o),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)h[r]===void 0&&(h[r]=t.defaultProps[r]);return Ft(t,h,i,l,null)}function Ft(t,a,o,i,l){var r={type:t,props:a,key:o,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:l??++ie,__i:-1,__u:0};return l==null&&lt.vnode!=null&&lt.vnode(r),r}function Rt(t){return t.children}function Dt(t,a){this.props=t,this.context=a}function wt(t,a){if(a==null)return t.__?wt(t.__,t.__i+1):null;for(var o;a<t.__k.length;a++)if((o=t.__k[a])!=null&&o.__e!=null)return o.__e;return typeof t.type=="function"?wt(t):null}function he(t){var a,o;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,a=0;a<t.__k.length;a++)if((o=t.__k[a])!=null&&o.__e!=null){t.__e=t.__c.base=o.__e;break}return he(t)}}function ee(t){(!t.__d&&(t.__d=!0)&&bt.push(t)&&!Ot.__r++||te!=lt.debounceRendering)&&((te=lt.debounceRendering)||se)(Ot)}function Ot(){for(var t,a,o,i,l,r,h,g=1;bt.length;)bt.length>g&&bt.sort(ae),t=bt.shift(),g=bt.length,t.__d&&(o=void 0,i=void 0,l=(i=(a=t).__v).__e,r=[],h=[],a.__P&&((o=vt({},i)).__v=i.__v+1,lt.vnode&&lt.vnode(o),Ht(a.__P,o,i,a.__n,a.__P.namespaceURI,32&i.__u?[l]:null,r,l??wt(i),!!(32&i.__u),h),o.__v=i.__v,o.__.__k[o.__i]=o,fe(r,o,h),i.__e=i.__=null,o.__e!=l&&he(o)));Ot.__r=0}function ue(t,a,o,i,l,r,h,g,y,f,v){var n,p,u,m,d,b,w,x=i&&i.__k||le,C=a.length;for(y=Je(o,a,x,y,C),n=0;n<C;n++)(u=o.__k[n])!=null&&(p=u.__i==-1?Et:x[u.__i]||Et,u.__i=n,b=Ht(t,u,p,l,r,h,g,y,f,v),m=u.__e,u.ref&&p.ref!=u.ref&&(p.ref&&Gt(p.ref,null,u),v.push(u.ref,u.__c||m,u)),d==null&&m!=null&&(d=m),(w=!!(4&u.__u))||p.__k===u.__k?y=ce(u,y,t,w):typeof u.type=="function"&&b!==void 0?y=b:m&&(y=m.nextSibling),u.__u&=-7);return o.__e=d,y}function Je(t,a,o,i,l){var r,h,g,y,f,v=o.length,n=v,p=0;for(t.__k=new Array(l),r=0;r<l;r++)(h=a[r])!=null&&typeof h!="boolean"&&typeof h!="function"?(typeof h=="string"||typeof h=="number"||typeof h=="bigint"||h.constructor==String?h=t.__k[r]=Ft(null,h,null,null,null):Bt(h)?h=t.__k[r]=Ft(Rt,{children:h},null,null,null):h.constructor==null&&h.__b>0?h=t.__k[r]=Ft(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):t.__k[r]=h,y=r+p,h.__=t,h.__b=t.__b+1,g=null,(f=h.__i=Ye(h,o,y,n))!=-1&&(n--,(g=o[f])&&(g.__u|=2)),g==null||g.__v==null?(f==-1&&(l>v?p--:l<v&&p++),typeof h.type!="function"&&(h.__u|=4)):f!=y&&(f==y-1?p--:f==y+1?p++:(f>y?p--:p++,h.__u|=4))):t.__k[r]=null;if(n)for(r=0;r<v;r++)(g=o[r])!=null&&!(2&g.__u)&&(g.__e==i&&(i=wt(g)),pe(g,g));return i}function ce(t,a,o,i){var l,r;if(typeof t.type=="function"){for(l=t.__k,r=0;l&&r<l.length;r++)l[r]&&(l[r].__=t,a=ce(l[r],a,o,i));return a}t.__e!=a&&(i&&(a&&t.type&&!a.parentNode&&(a=wt(t)),o.insertBefore(t.__e,a||null)),a=t.__e);do a=a&&a.nextSibling;while(a!=null&&a.nodeType==8);return a}function Ye(t,a,o,i){var l,r,h,g=t.key,y=t.type,f=a[o],v=f!=null&&(2&f.__u)==0;if(f===null&&g==null||v&&g==f.key&&y==f.type)return o;if(i>(v?1:0)){for(l=o-1,r=o+1;l>=0||r<a.length;)if((f=a[h=l>=0?l--:r++])!=null&&!(2&f.__u)&&g==f.key&&y==f.type)return h}return-1}function re(t,a,o){a[0]=="-"?t.setProperty(a,o??""):t[a]=o==null?"":typeof o!="number"||Ke.test(a)?o:o+"px"}function It(t,a,o,i,l){var r,h;t:if(a=="style")if(typeof o=="string")t.style.cssText=o;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(a in i)o&&a in o||re(t.style,a,"");if(o)for(a in o)i&&o[a]==i[a]||re(t.style,a,o[a])}else if(a[0]=="o"&&a[1]=="n")r=a!=(a=a.replace(oe,"$1")),h=a.toLowerCase(),a=h in t||a=="onFocusOut"||a=="onFocusIn"?h.slice(2):a.slice(2),t.l||(t.l={}),t.l[a+r]=o,o?i?o.u=i.u:(o.u=Mt,t.addEventListener(a,r?jt:Lt,r)):t.removeEventListener(a,r?jt:Lt,r);else{if(l=="http://www.w3.org/2000/svg")a=a.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(a!="width"&&a!="height"&&a!="href"&&a!="list"&&a!="form"&&a!="tabIndex"&&a!="download"&&a!="rowSpan"&&a!="colSpan"&&a!="role"&&a!="popover"&&a in t)try{t[a]=o??"";break t}catch{}typeof o=="function"||(o==null||o===!1&&a[4]!="-"?t.removeAttribute(a):t.setAttribute(a,a=="popover"&&o==1?"":o))}}function ne(t){return function(a){if(this.l){var o=this.l[a.type+t];if(a.t==null)a.t=Mt++;else if(a.t<o.u)return;return o(lt.event?lt.event(a):a)}}}function Ht(t,a,o,i,l,r,h,g,y,f){var v,n,p,u,m,d,b,w,x,C,R,O,j,D,M,q,k,F=a.type;if(a.constructor!=null)return null;128&o.__u&&(y=!!(32&o.__u),r=[g=a.__e=o.__e]),(v=lt.__b)&&v(a);t:if(typeof F=="function")try{if(w=a.props,x="prototype"in F&&F.prototype.render,C=(v=F.contextType)&&i[v.__c],R=v?C?C.props.value:v.__:i,o.__c?b=(n=a.__c=o.__c).__=n.__E:(x?a.__c=n=new F(w,R):(a.__c=n=new Dt(w,R),n.constructor=F,n.render=Ve),C&&C.sub(n),n.state||(n.state={}),n.__n=i,p=n.__d=!0,n.__h=[],n._sb=[]),x&&n.__s==null&&(n.__s=n.state),x&&F.getDerivedStateFromProps!=null&&(n.__s==n.state&&(n.__s=vt({},n.__s)),vt(n.__s,F.getDerivedStateFromProps(w,n.__s))),u=n.props,m=n.state,n.__v=a,p)x&&F.getDerivedStateFromProps==null&&n.componentWillMount!=null&&n.componentWillMount(),x&&n.componentDidMount!=null&&n.__h.push(n.componentDidMount);else{if(x&&F.getDerivedStateFromProps==null&&w!==u&&n.componentWillReceiveProps!=null&&n.componentWillReceiveProps(w,R),a.__v==o.__v||!n.__e&&n.shouldComponentUpdate!=null&&n.shouldComponentUpdate(w,n.__s,R)===!1){for(a.__v!=o.__v&&(n.props=w,n.state=n.__s,n.__d=!1),a.__e=o.__e,a.__k=o.__k,a.__k.some(function(s){s&&(s.__=a)}),O=0;O<n._sb.length;O++)n.__h.push(n._sb[O]);n._sb=[],n.__h.length&&h.push(n);break t}n.componentWillUpdate!=null&&n.componentWillUpdate(w,n.__s,R),x&&n.componentDidUpdate!=null&&n.__h.push(function(){n.componentDidUpdate(u,m,d)})}if(n.context=R,n.props=w,n.__P=t,n.__e=!1,j=lt.__r,D=0,x){for(n.state=n.__s,n.__d=!1,j&&j(a),v=n.render(n.props,n.state,n.context),M=0;M<n._sb.length;M++)n.__h.push(n._sb[M]);n._sb=[]}else do n.__d=!1,j&&j(a),v=n.render(n.props,n.state,n.context),n.state=n.__s;while(n.__d&&++D<25);n.state=n.__s,n.getChildContext!=null&&(i=vt(vt({},i),n.getChildContext())),x&&!p&&n.getSnapshotBeforeUpdate!=null&&(d=n.getSnapshotBeforeUpdate(u,m)),q=v,v!=null&&v.type===Rt&&v.key==null&&(q=de(v.props.children)),g=ue(t,Bt(q)?q:[q],a,o,i,l,r,h,g,y,f),n.base=a.__e,a.__u&=-161,n.__h.length&&h.push(n),b&&(n.__E=n.__=null)}catch(s){if(a.__v=null,y||r!=null)if(s.then){for(a.__u|=y?160:128;g&&g.nodeType==8&&g.nextSibling;)g=g.nextSibling;r[r.indexOf(g)]=null,a.__e=g}else{for(k=r.length;k--;)Wt(r[k]);$t(a)}else a.__e=o.__e,a.__k=o.__k,s.then||$t(a);lt.__e(s,a,o)}else r==null&&a.__v==o.__v?(a.__k=o.__k,a.__e=o.__e):g=a.__e=qe(o.__e,a,o,i,l,r,h,y,f);return(v=lt.diffed)&&v(a),128&a.__u?void 0:g}function $t(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach($t)}function fe(t,a,o){for(var i=0;i<o.length;i++)Gt(o[i],o[++i],o[++i]);lt.__c&&lt.__c(a,t),t.some(function(l){try{t=l.__h,l.__h=[],t.some(function(r){r.call(l)})}catch(r){lt.__e(r,l.__v)}})}function de(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Bt(t)?t.map(de):vt({},t)}function qe(t,a,o,i,l,r,h,g,y){var f,v,n,p,u,m,d,b=o.props||Et,w=a.props,x=a.type;if(x=="svg"?l="http://www.w3.org/2000/svg":x=="math"?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),r!=null){for(f=0;f<r.length;f++)if((u=r[f])&&"setAttribute"in u==!!x&&(x?u.localName==x:u.nodeType==3)){t=u,r[f]=null;break}}if(t==null){if(x==null)return document.createTextNode(w);t=document.createElementNS(l,x,w.is&&w),g&&(lt.__m&&lt.__m(a,r),g=!1),r=null}if(x==null)b===w||g&&t.data==w||(t.data=w);else{if(r=r&&Tt.call(t.childNodes),!g&&r!=null)for(b={},f=0;f<t.attributes.length;f++)b[(u=t.attributes[f]).name]=u.value;for(f in b)if(u=b[f],f!="children"){if(f=="dangerouslySetInnerHTML")n=u;else if(!(f in w)){if(f=="value"&&"defaultValue"in w||f=="checked"&&"defaultChecked"in w)continue;It(t,f,null,u,l)}}for(f in w)u=w[f],f=="children"?p=u:f=="dangerouslySetInnerHTML"?v=u:f=="value"?m=u:f=="checked"?d=u:g&&typeof u!="function"||b[f]===u||It(t,f,u,b[f],l);if(v)g||n&&(v.__html==n.__html||v.__html==t.innerHTML)||(t.innerHTML=v.__html),a.__k=[];else if(n&&(t.innerHTML=""),ue(a.type=="template"?t.content:t,Bt(p)?p:[p],a,o,i,x=="foreignObject"?"http://www.w3.org/1999/xhtml":l,r,h,r?r[0]:o.__k&&wt(o,0),g,y),r!=null)for(f=r.length;f--;)Wt(r[f]);g||(f="value",x=="progress"&&m==null?t.removeAttribute("value"):m!=null&&(m!==t[f]||x=="progress"&&!m||x=="option"&&m!=b[f])&&It(t,f,m,b[f],l),f="checked",d!=null&&d!=t[f]&&It(t,f,d,b[f],l))}return t}function Gt(t,a,o){try{if(typeof t=="function"){var i=typeof t.__u=="function";i&&t.__u(),i&&a==null||(t.__u=t(a))}else t.current=a}catch(l){lt.__e(l,o)}}function pe(t,a,o){var i,l;if(lt.unmount&&lt.unmount(t),(i=t.ref)&&(i.current&&i.current!=t.__e||Gt(i,null,a)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){lt.__e(r,a)}i.base=i.__P=null}if(i=t.__k)for(l=0;l<i.length;l++)i[l]&&pe(i[l],a,o||typeof t.type!="function");o||Wt(t.__e),t.__c=t.__=t.__e=void 0}function Ve(t,a,o){return this.constructor(t,o)}function _e(t,a,o){var i,l,r,h;a==document&&(a=document.documentElement),lt.__&&lt.__(t,a),l=(i=typeof o=="function")?null:o&&o.__k||a.__k,r=[],h=[],Ht(a,t=(!i&&o||a).__k=Zt(Rt,null,[t]),l||Et,Et,a.namespaceURI,!i&&o?[o]:l?null:a.firstChild?Tt.call(a.childNodes):null,r,!i&&o?o:l?l.__e:a.firstChild,i,h),fe(r,t,h)}Tt=le.slice,lt={__e:function(t,a,o,i){for(var l,r,h;a=a.__;)if((l=a.__c)&&!l.__)try{if((r=l.constructor)&&r.getDerivedStateFromError!=null&&(l.setState(r.getDerivedStateFromError(t)),h=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(t,i||{}),h=l.__d),h)return l.__E=l}catch(g){t=g}throw t}},ie=0,He=function(t){return t!=null&&t.constructor==null},Dt.prototype.setState=function(t,a){var o;o=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=vt({},this.state),typeof t=="function"&&(t=t(vt({},o),this.props)),t&&vt(o,t),t!=null&&this.__v&&(a&&this._sb.push(a),ee(this))},Dt.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ee(this))},Dt.prototype.render=Rt,bt=[],se=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ae=function(t,a){return t.__v.__b-a.__v.__b},Ot.__r=0,oe=/(PointerCapture)$|Capture$/i,Mt=0,Lt=ne(!1),jt=ne(!0),Ge=0;var Nt,ut,Kt,me,Jt=0,Se=[],ct=lt,ge=ct.__b,ve=ct.__r,be=ct.diffed,ye=ct.__c,we=ct.unmount,ke=ct.__;function Ce(t,a){ct.__h&&ct.__h(ut,t,Jt||a),Jt=0;var o=ut.__H||(ut.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({}),o.__[t]}function dt(t){return Jt=1,Xe(ze,t)}function Xe(t,a,o){var i=Ce(Nt++,2);if(i.t=t,!i.__c&&(i.__=[o?o(a):ze(void 0,a),function(g){var y=i.__N?i.__N[0]:i.__[0],f=i.t(y,g);y!==f&&(i.__N=[f,i.__[1]],i.__c.setState({}))}],i.__c=ut,!ut.__f)){var l=function(g,y,f){if(!i.__c.__H)return!0;var v=i.__c.__H.__.filter(function(p){return!!p.__c});if(v.every(function(p){return!p.__N}))return!r||r.call(this,g,y,f);var n=i.__c.props!==g;return v.forEach(function(p){if(p.__N){var u=p.__[0];p.__=p.__N,p.__N=void 0,u!==p.__[0]&&(n=!0)}}),r&&r.call(this,g,y,f)||n};ut.__f=!0;var r=ut.shouldComponentUpdate,h=ut.componentWillUpdate;ut.componentWillUpdate=function(g,y,f){if(this.__e){var v=r;r=void 0,l(g,y,f),r=v}h&&h.call(this,g,y,f)},ut.shouldComponentUpdate=l}return i.__N||i.__}function Ee(t,a){var o=Ce(Nt++,7);return er(o.__H,a)&&(o.__=t(),o.__H=a,o.__h=t),o.__}function Qe(){for(var t;t=Se.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Pt),t.__H.__h.forEach(Yt),t.__H.__h=[]}catch(a){t.__H.__h=[],ct.__e(a,t.__v)}}ct.__b=function(t){ut=null,ge&&ge(t)},ct.__=function(t,a){t&&a.__k&&a.__k.__m&&(t.__m=a.__k.__m),ke&&ke(t,a)},ct.__r=function(t){ve&&ve(t),Nt=0;var a=(ut=t.__c).__H;a&&(Kt===ut?(a.__h=[],ut.__h=[],a.__.forEach(function(o){o.__N&&(o.__=o.__N),o.u=o.__N=void 0})):(a.__h.forEach(Pt),a.__h.forEach(Yt),a.__h=[],Nt=0)),Kt=ut},ct.diffed=function(t){be&&be(t);var a=t.__c;a&&a.__H&&(a.__H.__h.length&&(Se.push(a)!==1&&me===ct.requestAnimationFrame||((me=ct.requestAnimationFrame)||tr)(Qe)),a.__H.__.forEach(function(o){o.u&&(o.__H=o.u),o.u=void 0})),Kt=ut=null},ct.__c=function(t,a){a.some(function(o){try{o.__h.forEach(Pt),o.__h=o.__h.filter(function(i){return!i.__||Yt(i)})}catch(i){a.some(function(l){l.__h&&(l.__h=[])}),a=[],ct.__e(i,o.__v)}}),ye&&ye(t,a)},ct.unmount=function(t){we&&we(t);var a,o=t.__c;o&&o.__H&&(o.__H.__.forEach(function(i){try{Pt(i)}catch(l){a=l}}),o.__H=void 0,a&&ct.__e(a,o.__v))};var xe=typeof requestAnimationFrame=="function";function tr(t){var a,o=function(){clearTimeout(i),xe&&cancelAnimationFrame(a),setTimeout(t)},i=setTimeout(o,35);xe&&(a=requestAnimationFrame(o))}function Pt(t){var a=ut,o=t.__c;typeof o=="function"&&(t.__c=void 0,o()),ut=a}function Yt(t){var a=ut;t.__c=t.__(),ut=a}function er(t,a){return!t||t.length!==a.length||a.some(function(o,i){return o!==t[i]})}function ze(t,a){return typeof a=="function"?a(t):a}var Ie=function(t,a,o,i){var l;a[0]=0;for(var r=1;r<a.length;r++){var h=a[r++],g=a[r]?(a[0]|=h?1:2,o[a[r++]]):a[++r];h===3?i[0]=g:h===4?i[1]=Object.assign(i[1]||{},g):h===5?(i[1]=i[1]||{})[a[++r]]=g:h===6?i[1][a[++r]]+=g+"":h?(l=t.apply(g,Ie(t,g,o,["",null])),i.push(l),g[0]?a[0]|=2:(a[r-2]=0,a[r]=l)):i.push(g)}return i},Ae=new Map;function Fe(t){var a=Ae.get(this);return a||(a=new Map,Ae.set(this,a)),(a=Ie(this,a.get(t)||(a.set(t,a=function(o){for(var i,l,r=1,h="",g="",y=[0],f=function(p){r===1&&(p||(h=h.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?y.push(0,p,h):r===3&&(p||h)?(y.push(3,p,h),r=2):r===2&&h==="..."&&p?y.push(4,p,0):r===2&&h&&!p?y.push(5,0,!0,h):r>=5&&((h||!p&&r===5)&&(y.push(r,0,h,l),r=6),p&&(y.push(r,p,0,l),r=6)),h=""},v=0;v<o.length;v++){v&&(r===1&&f(),f(v));for(var n=0;n<o[v].length;n++)i=o[v][n],r===1?i==="<"?(f(),y=[y],r=3):h+=i:r===4?h==="--"&&i===">"?(r=1,h=""):h=i+h[0]:g?i===g?g="":h+=i:i==='"'||i==="'"?g=i:i===">"?(f(),r=1):r&&(i==="="?(r=5,l=h,h=""):i==="/"&&(r<5||o[v][n+1]===">")?(f(),r===3&&(y=y[0]),r=y,(y=y[0]).push(2,0,r),r=0):i===" "||i==="	"||i===`
`||i==="\r"?(f(),r=2):h+=i),r===3&&h==="!--"&&(r=4,y=y[0])}return f(),y}(t)),a),arguments,[])).length>1?a:a[0]}var Te=Ze(Oe());var yt=[{name:"Genesis",startFile:1,chapters:50},{name:"Exodus",startFile:51,chapters:40},{name:"Leviticus",startFile:91,chapters:27},{name:"Numbers",startFile:118,chapters:36},{name:"Deuteronomy",startFile:154,chapters:34},{name:"Joshua",startFile:188,chapters:24},{name:"Judges",startFile:212,chapters:21},{name:"Ruth",startFile:233,chapters:4},{name:"1 Samuel",startFile:237,chapters:31},{name:"2 Samuel",startFile:268,chapters:24},{name:"1 Kings",startFile:292,chapters:22},{name:"2 Kings",startFile:314,chapters:25},{name:"1 Chronicles",startFile:339,chapters:29},{name:"2 Chronicles",startFile:368,chapters:36},{name:"Ezra",startFile:404,chapters:10},{name:"Nehemiah",startFile:414,chapters:13},{name:"Esther",startFile:427,chapters:10},{name:"Job",startFile:437,chapters:42},{name:"Psalms",startFile:479,chapters:150},{name:"Proverbs",startFile:629,chapters:31},{name:"Ecclesiastes",startFile:660,chapters:12},{name:"Songs",startFile:672,chapters:8},{name:"Isaiah",startFile:680,chapters:66},{name:"Jeremiah",startFile:746,chapters:52},{name:"Lamentations",startFile:798,chapters:5},{name:"Ezekiel",startFile:803,chapters:48},{name:"Daniel",startFile:851,chapters:12},{name:"Hosea",startFile:863,chapters:14},{name:"Joel",startFile:877,chapters:3},{name:"Amos",startFile:880,chapters:9},{name:"Obadiah",startFile:889,chapters:1},{name:"Jonah",startFile:890,chapters:4},{name:"Micah",startFile:894,chapters:7},{name:"Nahum",startFile:901,chapters:3},{name:"Habakkuk",startFile:904,chapters:3},{name:"Zephaniah",startFile:907,chapters:3},{name:"Haggai",startFile:910,chapters:2},{name:"Zechariah",startFile:912,chapters:14},{name:"Malachi",startFile:926,chapters:4},{name:"Matthew",startFile:930,chapters:28},{name:"Mark",startFile:958,chapters:16},{name:"Luke",startFile:974,chapters:24},{name:"John",startFile:998,chapters:21},{name:"Acts",startFile:1019,chapters:28},{name:"Romans",startFile:1047,chapters:16},{name:"1 Corinthians",startFile:1063,chapters:16},{name:"2 Corinthians",startFile:1079,chapters:13},{name:"Galatians",startFile:1092,chapters:6},{name:"Ephesians",startFile:1098,chapters:6},{name:"Philippians",startFile:1104,chapters:4},{name:"Colossians",startFile:1108,chapters:4},{name:"1 Thessalonians",startFile:1112,chapters:5},{name:"2 Thessalonians",startFile:1117,chapters:3},{name:"1 Timothy",startFile:1120,chapters:6},{name:"2 Timothy",startFile:1126,chapters:4},{name:"Titus",startFile:1130,chapters:3},{name:"Philemon",startFile:1133,chapters:1},{name:"Hebrews",startFile:1134,chapters:13},{name:"James",startFile:1147,chapters:5},{name:"1 Peter",startFile:1152,chapters:5},{name:"2 Peter",startFile:1157,chapters:3},{name:"1 John",startFile:1160,chapters:5},{name:"2 John",startFile:1165,chapters:1},{name:"3 John",startFile:1166,chapters:1},{name:"Jude",startFile:1167,chapters:1},{name:"Revelation",startFile:1168,chapters:22}];var _t=Fe.bind(Zt),rr=()=>{let[t,a]=dt("all"),[o,i]=dt(yt.map(U=>U.name)),[l,r]=dt(3),[h,g]=dt(1),[y,f]=dt(0),[v,n]=dt(0),[p,u]=dt("mixed"),[m,d]=dt(!1),[b,w]=dt(!0),[x,C]=dt(new Date().toISOString().split("T")[0]),[R,O]=dt([1,2,3,4,5,6,0]),[j,D]=dt(""),[M,q]=dt(!1),k=U=>{i(N=>N.includes(U)?N.filter(K=>K!==U):[...N,U])},F=U=>{a("custom"),U==="gospels"?i(["Matthew","Mark","Luke","John"]):U==="pentateuch"?i(["Genesis","Exodus","Leviticus","Numbers","Deuteronomy"]):U==="paul"?i(["Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon"]):U==="wisdom"&&i(["Job","Psalms","Proverbs","Ecclesiastes","Song of Solomon"])},s=U=>{O(N=>N.includes(U)?N.filter(K=>K!==U):[...N,U].sort())},T=Ee(()=>{let U=t==="all"?yt:yt.filter(_=>o.includes(_.name));if(U.length===0)return[];let N=U.filter(_=>yt.indexOf(_)<39),K=U.filter(_=>yt.indexOf(_)>=39),A=[],E=[],J=[];N.forEach(_=>{for(let c=1;c<=_.chapters;c++){let S={book:_.name,chapter:c,file:_.startFile+c-1};_.name==="Psalms"&&y>0?E.push(S):_.name==="Proverbs"&&v>0?J.push(S):A.push(S)}});let G=[];K.forEach(_=>{for(let c=1;c<=_.chapters;c++)G.push({book:_.name,chapter:c,file:_.startFile+c-1})});let W=[],nt=new Date(x),it=0,Q=0,tt=0,st=0,at=A.length>0&&l>0?Math.ceil(A.length/l):0,ft=G.length>0&&h>0?Math.ceil(G.length/h):0,et=E.length>0&&y>0?Math.ceil(E.length/y):0,e=J.length>0&&v>0?Math.ceil(J.length/v):0,B=p==="mixed"?Math.max(at,ft,et,e):at+ft+et+e,I=0;for(;I<B;){if(!b||R.includes(nt.getDay())){let _=[];if(p==="mixed"){for(let c=0;c<l;c++)it<A.length?_.push(A[it++]):m&&A.length>0&&(_.push(A[it%A.length]),it++);for(let c=0;c<y;c++)tt<E.length?_.push(E[tt++]):m&&E.length>0&&(_.push(E[tt%E.length]),tt++);for(let c=0;c<v;c++)st<J.length?_.push(J[st++]):m&&J.length>0&&(_.push(J[st%J.length]),st++);for(let c=0;c<h;c++)Q<G.length?_.push(G[Q++]):m&&G.length>0&&(_.push(G[Q%G.length]),Q++)}else{let c=l+h+y+v;for(let S=0;S<c;S++)it<A.length?_.push(A[it++]):tt<E.length?_.push(E[tt++]):st<J.length?_.push(J[st++]):Q<G.length&&_.push(G[Q++])}_.length>0&&W.push({date:b?new Date(nt):null,chapters:_}),I++}if(b&&nt.setDate(nt.getDate()+1),W.length>5e3)break}return W},[t,o,l,h,y,v,p,b,x,R,m]),X=async()=>{q(!0),D("Starting EPUB generation...");try{let U=new Te.default;U.file("mimetype","application/epub+zip",{compression:"STORE"}),U.folder("META-INF").file("container.xml",`<?xml version="1.0"?>
<container version="1.0" xmlns="urn:oasis:names:tc:opendocument:xmlns:container">
  <rootfiles>
    <rootfile full-path="OEBPS/content.opf" media-type="application/oebps-package+xml"/>
  </rootfiles>
</container>`);let K=U.folder("OEBPS"),A=K.folder("Text"),E=await fetch("bsb_unzipped/stylesheet.css").then(et=>et.text()),J=await fetch("bsb_unzipped/page_styles.css").then(et=>et.text());K.file("Styles/stylesheet.css",E),K.file("Styles/page_styles.css",J);let G=['<item id="ncx" href="toc.ncx" media-type="application/x-dtbncx+xml"/>','<item id="style" href="Styles/stylesheet.css" media-type="text/css"/>','<item id="page-style" href="Styles/page_styles.css" media-type="text/css"/>'],W=[],nt=[],it=[...new Set(T.flatMap(et=>et.chapters.map(e=>e.file)))],Q=new Map,tt=100;for(let et=0;et<it.length;et+=tt){let e=it.slice(et,et+tt);D(`Pre-fetching chapters ${et+1} to ${Math.min(et+tt,it.length)} of ${it.length}...`),await Promise.all(e.map(async B=>{let I=await $(B);Q.set(B,I)}))}for(let et=0;et<T.length;et++){let e=T[et],B=e.date?e.date.toLocaleDateString():"",I=e.date?`Day ${et+1} - ${B}`:`Day ${et+1}`,_=`day_${et+1}.xhtml`;D(`Assembling Day ${et+1} of ${T.length}...`);let c=`<h1>${I}</h1>`;c+=`<div class="day-summary" style="page-break-after: always; border-bottom: 2px solid #eee; margin-bottom: 2rem; padding-bottom: 2rem;">
                    <h2>Today's Readings</h2>
                    <ul style="list-style-type: none; padding: 0; font-size: 1.2em;">
                        ${e.chapters.map(P=>`<li style="margin-bottom: 0.5rem;"><strong>${P.book} ${P.chapter}</strong></li>`).join("")}
                    </ul>
                </div>`;for(let P of e.chapters){let L=Q.get(P.file);c+=`<div class="chapter-container">
                        <h2>${P.book} ${P.chapter}</h2>
                        ${L}
                    </div>`}let S=`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>${I}</title>
<link rel="stylesheet" href="../Styles/stylesheet.css" type="text/css"/>
<link rel="stylesheet" href="../Styles/page_styles.css" type="text/css"/>
</head>
<body>
${c}
</body>
</html>`;A.file(_,S),G.push(`<item id="day_${et+1}" href="Text/${_}" media-type="application/xhtml+xml"/>`),W.push(`<itemref idref="day_${et+1}"/>`),nt.push(`<navPoint id="nav_${et+1}" playOrder="${et+1}">
                    <navLabel><text>${I}</text></navLabel>
                    <content src="Text/${_}"/>
                </navPoint>`)}K.file("content.opf",`<?xml version="1.0" encoding="utf-8"?>
<package xmlns="http://www.idpf.org/2007/opf" unique-identifier="uuid_id" version="2.0">
  <metadata xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:opf="http://www.idpf.org/2007/opf">
    <dc:title>Bible Reading Plan</dc:title>
    <dc:language>en</dc:language>
    <dc:identifier id="uuid_id" opf:scheme="uuid">bible-plan-${Date.now()}</dc:identifier>
  </metadata>
  <manifest>
    ${G.join(`
    `)}
  </manifest>
  <spine toc="ncx">
    ${W.join(`
    `)}
  </spine>
</package>`),K.file("toc.ncx",`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE ncx PUBLIC "-//NISO//DTD ncx 2005-1//EN" "http://www.daisy.org/z3986/2005/ncx-2005-1.dtd">
<ncx xmlns="http://www.daisy.org/2005/ncx/" version="2005-1">
  <head>
    <meta name="dtb:uid" content="bible-plan-${Date.now()}"/>
    <meta name="dtb:depth" content="1"/>
  </head>
  <docTitle><text>Bible Reading Plan</text></docTitle>
  <navMap>
    ${nt.join(`
    `)}
  </navMap>
</ncx>`);let st=await U.generateAsync({type:"blob"}),at=URL.createObjectURL(st),ft=document.createElement("a");ft.href=at,ft.download="bible_reading_plan.epub",ft.click(),D("EPUB generated successfully!")}catch(U){console.error(U),D("Error generating EPUB: "+U.message)}finally{q(!1)}},$=async U=>{let N=`bsb_unzipped/bsb - final - 7-18-21/OEBPS/Text/${U}.htm`,A=await(await fetch(N)).text(),J=new DOMParser().parseFromString(A,"text/html");["#topheading",".bsbheading",".cross",".nav","h1"].forEach(it=>{J.querySelectorAll(it).forEach(tt=>tt.remove())});let W=new XMLSerializer,nt="";for(let it of J.body.childNodes)nt+=W.serializeToString(it);return nt};return _t`
        <div>
            <section>
                <h2>Reading Selection</h2>
                <div class="grid">
                    <label>
                        <input type="radio" name="selectionMode" value="all" checked=${t==="all"} onChange=${()=>a("all")} />
                        All Bible
                    </label>
                    <label>
                        <input type="radio" name="selectionMode" value="custom" checked=${t==="custom"} onChange=${()=>a("custom")} />
                        Custom Selection
                    </label>
                </div>

                ${t==="custom"&&_t`
                    <div>
                        <div class="grid">
                            <button type="button" onClick=${()=>F("gospels")}>Gospels</button>
                            <button type="button" onClick=${()=>F("pentateuch")}>Pentateuch</button>
                            <button type="button" onClick=${()=>F("paul")}>Paul's Letters</button>
                            <button type="button" onClick=${()=>F("wisdom")}>Wisdom Books</button>
                        </div>
                        <div class="book-selection">
                            ${yt.map(U=>_t`
                                <label class="book-item">
                                    <input type="checkbox" checked=${o.includes(U.name)} onChange=${()=>k(U.name)} />
                                    ${U.name}
                                </label>
                            `)}
                        </div>
                    </div>
                `}

                <div class="grid">
                    <label>OT Chapters per day:
                        <input type="number" value=${l} onInput=${U=>r(parseInt(U.target.value)||0)} min="0" />
                    </label>
                    <label>NT Chapters per day:
                        <input type="number" value=${h} onInput=${U=>g(parseInt(U.target.value)||0)} min="0" />
                    </label>
                    <label>Psalms per day:
                        <input type="number" value=${y} onInput=${U=>f(parseInt(U.target.value)||0)} min="0" />
                    </label>
                    <label>Proverbs per day:
                        <input type="number" value=${v} onInput=${U=>n(parseInt(U.target.value)||0)} min="0" />
                    </label>
                </div>
            </section>

            <section>
                <h2>Plan Style</h2>
                <div class="grid" style="align-items: end;">
                    <label>Order:
                        <select value=${p} onChange=${U=>u(U.target.value)}>
                            <option value="mixed">Mixed (OT and NT together)</option>
                            <option value="sequential">Sequential (OT then NT)</option>
                        </select>
                    </label>
                    <div style="margin-bottom: var(--spacing);">
                        <label>
                            <input type="checkbox" checked=${b} onChange=${U=>w(U.target.checked)} />
                            Use Dates
                        </label>
                    </div>
                </div>

                ${p==="mixed"&&_t`
                    <div style="margin-bottom: var(--spacing); padding: 1rem; border: 1px solid var(--muted-border-color); border-radius: var(--border-radius);">
                        <label style="margin-bottom: 0.5rem;">
                            <input type="checkbox" checked=${m} onChange=${U=>d(U.target.checked)} />
                            Repeat shorter section to keep daily mix
                        </label>
                        <small style="display: block; margin-left: 2rem; color: var(--muted-color); line-height: 1.4;">
                            If one part of the Bible (like the New Testament) is finished before the other,
                            it will start over from the beginning so you always have both OT and NT readings every day.
                        </small>
                    </div>
                `}

                ${b&&_t`
                    <div class="grid">
                        <label>Start Date:
                            <input type="date" value=${x} onChange=${U=>C(U.target.value)} />
                        </label>
                        <div>
                            <label>Reading Days:</label>
                            <div class="day-selection">
                                ${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((U,N)=>_t`
                                    <label class="day-item">
                                        <input type="checkbox" checked=${R.includes(N)} onChange=${()=>s(N)} />
                                        ${U}
                                    </label>
                                `)}
                            </div>
                        </div>
                    </div>
                `}
            </section>

            <section>
                <h2>Plan Preview</h2>
                <p>${T.length} days total</p>
                <div style="max-height: 400px; overflow-y: auto; border: 1px solid var(--muted-border-color); padding: 1rem; margin-bottom: 1rem; border-radius: var(--border-radius);">
                    ${T.slice(0,5).map((U,N)=>_t`
                        <div class="preview-item">
                            <span class="preview-date">${U.date?U.date.toLocaleDateString():`Day ${N+1}`}</span>
                            <span>${U.chapters.map(K=>`${K.book} ${K.chapter}`).join(", ")}</span>
                        </div>
                    `)}

                    ${T.length>10?_t`
                        <div style="text-align: center; padding: 1rem; color: var(--muted-color); border-bottom: 1px solid var(--muted-border-color);">
                            ... ${T.length-10} days omitted ...
                        </div>
                        ${T.slice(-5).map((U,N)=>_t`
                            <div class="preview-item">
                                <span class="preview-date">${U.date?U.date.toLocaleDateString():`Day ${T.length-4+N}`}</span>
                                <span>${U.chapters.map(K=>`${K.book} ${K.chapter}`).join(", ")}</span>
                            </div>
                        `)}
                    `:T.slice(5).map((U,N)=>_t`
                        <div class="preview-item">
                            <span class="preview-date">${U.date?U.date.toLocaleDateString():`Day ${6+N}`}</span>
                            <span>${U.chapters.map(K=>`${K.book} ${K.chapter}`).join(", ")}</span>
                        </div>
                    `)}
                </div>
                <button onClick=${X} disabled=${M||T.length===0}>
                    ${M?"Generating...":"Download EPUB"}
                </button>
                ${j&&_t`<p><small>${j}</small></p>`}
            </section>
        </div>
    `};_e(_t`<${rr} />`,document.getElementById("app"));})();
/*! Bundled license information:

jszip/dist/jszip.min.js:
  (*!
  
  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  *)
*/
