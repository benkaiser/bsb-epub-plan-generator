(()=>{var Ne=Object.create;var Qt=Object.defineProperty;var Ue=Object.getOwnPropertyDescriptor;var Le=Object.getOwnPropertyNames;var $e=Object.getPrototypeOf,je=Object.prototype.hasOwnProperty;var Ct=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(a,o)=>(typeof require<"u"?require:a)[o]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Me=(t,a)=>()=>(a||t((a={exports:{}}).exports,a),a.exports);var We=(t,a,o,i)=>{if(a&&typeof a=="object"||typeof a=="function")for(let l of Le(a))!je.call(t,l)&&l!==o&&Qt(t,l,{get:()=>a[l],enumerable:!(i=Ue(a,l))||i.enumerable});return t};var Ze=(t,a,o)=>(o=t!=null?Ne($e(t)):{},We(a||!t||!t.__esModule?Qt(o,"default",{value:t,enumerable:!0}):o,t));var De=Me((Oe,qt)=>{(function(t){typeof Oe=="object"&&typeof qt<"u"?qt.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=t()})(function(){return function t(a,o,i){function l(g,y){if(!o[g]){if(!a[g]){var c=typeof Ct=="function"&&Ct;if(!y&&c)return c(g,!0);if(r)return r(g,!0);var v=new Error("Cannot find module '"+g+"'");throw v.code="MODULE_NOT_FOUND",v}var n=o[g]={exports:{}};a[g][0].call(n.exports,function(d){var h=a[g][1][d];return l(h||d)},n,n.exports,t,a,o,i)}return o[g].exports}for(var r=typeof Ct=="function"&&Ct,u=0;u<i.length;u++)l(i[u]);return l}({1:[function(t,a,o){"use strict";var i=t("./utils"),l=t("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(u){for(var g,y,c,v,n,d,h,_=[],f=0,b=u.length,w=b,S=i.getTypeOf(u)!=="string";f<u.length;)w=b-f,c=S?(g=u[f++],y=f<b?u[f++]:0,f<b?u[f++]:0):(g=u.charCodeAt(f++),y=f<b?u.charCodeAt(f++):0,f<b?u.charCodeAt(f++):0),v=g>>2,n=(3&g)<<4|y>>4,d=1<w?(15&y)<<2|c>>6:64,h=2<w?63&c:64,_.push(r.charAt(v)+r.charAt(n)+r.charAt(d)+r.charAt(h));return _.join("")},o.decode=function(u){var g,y,c,v,n,d,h=0,_=0,f="data:";if(u.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var b,w=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===r.charAt(64)&&w--,u.charAt(u.length-2)===r.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=l.uint8array?new Uint8Array(0|w):new Array(0|w);h<u.length;)g=r.indexOf(u.charAt(h++))<<2|(v=r.indexOf(u.charAt(h++)))>>4,y=(15&v)<<4|(n=r.indexOf(u.charAt(h++)))>>2,c=(3&n)<<6|(d=r.indexOf(u.charAt(h++))),b[_++]=g,n!==64&&(b[_++]=y),d!==64&&(b[_++]=c);return b}},{"./support":30,"./utils":32}],2:[function(t,a,o){"use strict";var i=t("./external"),l=t("./stream/DataWorker"),r=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function g(y,c,v,n,d){this.compressedSize=y,this.uncompressedSize=c,this.crc32=v,this.compression=n,this.compressedContent=d}g.prototype={getContentWorker:function(){var y=new l(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),c=this;return y.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new l(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(y,c,v){return y.pipe(new r).pipe(new u("uncompressedSize")).pipe(c.compressWorker(v)).pipe(new u("compressedSize")).withStreamInfo("compression",c)},a.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,a,o){"use strict";var i=t("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},o.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,a,o){"use strict";var i=t("./utils"),l=function(){for(var r,u=[],g=0;g<256;g++){r=g;for(var y=0;y<8;y++)r=1&r?3988292384^r>>>1:r>>>1;u[g]=r}return u}();a.exports=function(r,u){return r!==void 0&&r.length?i.getTypeOf(r)!=="string"?function(g,y,c,v){var n=l,d=v+c;g^=-1;for(var h=v;h<d;h++)g=g>>>8^n[255&(g^y[h])];return-1^g}(0|u,r,r.length,0):function(g,y,c,v){var n=l,d=v+c;g^=-1;for(var h=v;h<d;h++)g=g>>>8^n[255&(g^y.charCodeAt(h))];return-1^g}(0|u,r,r.length,0):0}},{"./utils":32}],5:[function(t,a,o){"use strict";o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(t,a,o){"use strict";var i=null;i=typeof Promise<"u"?Promise:t("lie"),a.exports={Promise:i}},{lie:37}],7:[function(t,a,o){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=t("pako"),r=t("./utils"),u=t("./stream/GenericWorker"),g=i?"uint8array":"array";function y(c,v){u.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=v,this.meta={}}o.magic="\b\0",r.inherits(y,u),y.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(g,c.data),!1)},y.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(v){c.push({data:v,meta:c.meta})}},o.compressWorker=function(c){return new y("Deflate",c)},o.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,a,o){"use strict";function i(n,d){var h,_="";for(h=0;h<d;h++)_+=String.fromCharCode(255&n),n>>>=8;return _}function l(n,d,h,_,f,b){var w,S,z=n.file,B=n.compression,T=b!==g.utf8encode,L=r.transformTo("string",b(z.name)),D=r.transformTo("string",g.utf8encode(z.name)),M=z.comment,J=r.transformTo("string",b(M)),k=r.transformTo("string",g.utf8encode(M)),F=D.length!==z.name.length,s=k.length!==M.length,N="",X="",$="",Q=z.dir,U=z.date,V={crc32:0,compressedSize:0,uncompressedSize:0};d&&!h||(V.crc32=n.crc32,V.compressedSize=n.compressedSize,V.uncompressedSize=n.uncompressedSize);var I=0;d&&(I|=8),T||!F&&!s||(I|=2048);var x=0,K=0;Q&&(x|=16),f==="UNIX"?(K=798,x|=function(W,rt){var it=W;return W||(it=rt?16893:33204),(65535&it)<<16}(z.unixPermissions,Q)):(K=20,x|=function(W){return 63&(W||0)}(z.dosPermissions)),w=U.getUTCHours(),w<<=6,w|=U.getUTCMinutes(),w<<=5,w|=U.getUTCSeconds()/2,S=U.getUTCFullYear()-1980,S<<=4,S|=U.getUTCMonth()+1,S<<=5,S|=U.getUTCDate(),F&&(X=i(1,1)+i(y(L),4)+D,N+="up"+i(X.length,2)+X),s&&($=i(1,1)+i(y(J),4)+k,N+="uc"+i($.length,2)+$);var Z="";return Z+=`
\0`,Z+=i(I,2),Z+=B.magic,Z+=i(w,2),Z+=i(S,2),Z+=i(V.crc32,4),Z+=i(V.compressedSize,4),Z+=i(V.uncompressedSize,4),Z+=i(L.length,2),Z+=i(N.length,2),{fileRecord:c.LOCAL_FILE_HEADER+Z+L+N,dirRecord:c.CENTRAL_FILE_HEADER+i(K,2)+Z+i(J.length,2)+"\0\0\0\0"+i(x,4)+i(_,4)+L+N+J}}var r=t("../utils"),u=t("../stream/GenericWorker"),g=t("../utf8"),y=t("../crc32"),c=t("../signature");function v(n,d,h,_){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=h,this.encodeFileName=_,this.streamFiles=n,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(v,u),v.prototype.push=function(n){var d=n.meta.percent||0,h=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(n):(this.bytesWritten+=n.data.length,u.prototype.push.call(this,{data:n.data,meta:{currentFile:this.currentFile,percent:h?(d+100*(h-_-1))/h:100}}))},v.prototype.openedSource=function(n){this.currentSourceOffset=this.bytesWritten,this.currentFile=n.file.name;var d=this.streamFiles&&!n.file.dir;if(d){var h=l(n,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(n){this.accumulate=!1;var d=this.streamFiles&&!n.file.dir,h=l(n,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),d)this.push({data:function(_){return c.DATA_DESCRIPTOR+i(_.crc32,4)+i(_.compressedSize,4)+i(_.uncompressedSize,4)}(n),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var n=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var h=this.bytesWritten-n,_=function(f,b,w,S,z){var B=r.transformTo("string",z(S));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(f,2)+i(f,2)+i(b,4)+i(w,4)+i(B.length,2)+B}(this.dirRecords.length,h,n,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(n){this._sources.push(n);var d=this;return n.on("data",function(h){d.processChunk(h)}),n.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),n.on("error",function(h){d.error(h)}),this},v.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(n){var d=this._sources;if(!u.prototype.error.call(this,n))return!1;for(var h=0;h<d.length;h++)try{d[h].error(n)}catch{}return!0},v.prototype.lock=function(){u.prototype.lock.call(this);for(var n=this._sources,d=0;d<n.length;d++)n[d].lock()},a.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,a,o){"use strict";var i=t("../compressions"),l=t("./ZipFileWorker");o.generateWorker=function(r,u,g){var y=new l(u.streamFiles,g,u.platform,u.encodeFileName),c=0;try{r.forEach(function(v,n){c++;var d=function(b,w){var S=b||w,z=i[S];if(!z)throw new Error(S+" is not a valid compression method !");return z}(n.options.compression,u.compression),h=n.options.compressionOptions||u.compressionOptions||{},_=n.dir,f=n.date;n._compressWorker(d,h).withStreamInfo("file",{name:v,dir:_,date:f,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(y)}),y.entriesCount=c}catch(v){y.error(v)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,a,o){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new i;for(var r in this)typeof this[r]!="function"&&(l[r]=this[r]);return l}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.1",i.loadAsync=function(l,r){return new i().loadAsync(l,r)},i.external=t("./external"),a.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,a,o){"use strict";var i=t("./utils"),l=t("./external"),r=t("./utf8"),u=t("./zipEntries"),g=t("./stream/Crc32Probe"),y=t("./nodejsUtils");function c(v){return new l.Promise(function(n,d){var h=v.decompressed.getContentWorker().pipe(new g);h.on("error",function(_){d(_)}).on("end",function(){h.streamInfo.crc32!==v.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):n()}).resume()})}a.exports=function(v,n){var d=this;return n=i.extend(n||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),y.isNode&&y.isStream(v)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",v,!0,n.optimizedBinaryString,n.base64).then(function(h){var _=new u(n);return _.load(h),_}).then(function(h){var _=[l.Promise.resolve(h)],f=h.files;if(n.checkCRC32)for(var b=0;b<f.length;b++)_.push(c(f[b]));return l.Promise.all(_)}).then(function(h){for(var _=h.shift(),f=_.files,b=0;b<f.length;b++){var w=f[b],S=w.fileNameStr,z=i.resolve(w.fileNameStr);d.file(z,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:n.createFolders}),w.dir||(d.file(z).unsafeOriginalName=S)}return _.zipComment.length&&(d.comment=_.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,a,o){"use strict";var i=t("../utils"),l=t("../stream/GenericWorker");function r(u,g){l.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(g)}i.inherits(r,l),r.prototype._bindStream=function(u){var g=this;(this._stream=u).pause(),u.on("data",function(y){g.push({data:y,meta:{percent:0}})}).on("error",function(y){g.isPaused?this.generatedError=y:g.error(y)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},r.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,a,o){"use strict";var i=t("readable-stream").Readable;function l(r,u,g){i.call(this,u),this._helper=r;var y=this;r.on("data",function(c,v){y.push(c)||y._helper.pause(),g&&g(v)}).on("error",function(c){y.emit("error",c)}).on("end",function(){y.push(null)})}t("../utils").inherits(l,i),l.prototype._read=function(){this._helper.resume()},a.exports=l},{"../utils":32,"readable-stream":16}],14:[function(t,a,o){"use strict";a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,l);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,l)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var l=new Buffer(i);return l.fill(0),l},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(t,a,o){"use strict";function i(z,B,T){var L,D=r.getTypeOf(B),M=r.extend(T||{},y);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(z=f(z)),M.createFolders&&(L=_(z))&&b.call(this,L,!0);var J=D==="string"&&M.binary===!1&&M.base64===!1;T&&T.binary!==void 0||(M.binary=!J),(B instanceof c&&B.uncompressedSize===0||M.dir||!B||B.length===0)&&(M.base64=!1,M.binary=!0,B="",M.compression="STORE",D="string");var k=null;k=B instanceof c||B instanceof u?B:d.isNode&&d.isStream(B)?new h(z,B):r.prepareContent(z,B,M.binary,M.optimizedBinaryString,M.base64);var F=new v(z,k,M);this.files[z]=F}var l=t("./utf8"),r=t("./utils"),u=t("./stream/GenericWorker"),g=t("./stream/StreamHelper"),y=t("./defaults"),c=t("./compressedObject"),v=t("./zipObject"),n=t("./generate"),d=t("./nodejsUtils"),h=t("./nodejs/NodejsStreamInputAdapter"),_=function(z){z.slice(-1)==="/"&&(z=z.substring(0,z.length-1));var B=z.lastIndexOf("/");return 0<B?z.substring(0,B):""},f=function(z){return z.slice(-1)!=="/"&&(z+="/"),z},b=function(z,B){return B=B!==void 0?B:y.createFolders,z=f(z),this.files[z]||i.call(this,z,null,{dir:!0,createFolders:B}),this.files[z]};function w(z){return Object.prototype.toString.call(z)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(z){var B,T,L;for(B in this.files)L=this.files[B],(T=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&z(T,L)},filter:function(z){var B=[];return this.forEach(function(T,L){z(T,L)&&B.push(L)}),B},file:function(z,B,T){if(arguments.length!==1)return z=this.root+z,i.call(this,z,B,T),this;if(w(z)){var L=z;return this.filter(function(M,J){return!J.dir&&L.test(M)})}var D=this.files[this.root+z];return D&&!D.dir?D:null},folder:function(z){if(!z)return this;if(w(z))return this.filter(function(D,M){return M.dir&&z.test(D)});var B=this.root+z,T=b.call(this,B),L=this.clone();return L.root=T.name,L},remove:function(z){z=this.root+z;var B=this.files[z];if(B||(z.slice(-1)!=="/"&&(z+="/"),B=this.files[z]),B&&!B.dir)delete this.files[z];else for(var T=this.filter(function(D,M){return M.name.slice(0,z.length)===z}),L=0;L<T.length;L++)delete this.files[T[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(z){var B,T={};try{if((T=r.extend(z||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");r.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var L=T.comment||this.comment||"";B=n.generateWorker(this,T,L)}catch(D){(B=new u("error")).error(D)}return new g(B,T.type||"string",T.mimeType)},generateAsync:function(z,B){return this.generateInternalStream(z).accumulate(B)},generateNodeStream:function(z,B){return(z=z||{}).type||(z.type="nodebuffer"),this.generateInternalStream(z).toNodejsStream(B)}};a.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,a,o){"use strict";a.exports=t("stream")},{stream:void 0}],17:[function(t,a,o){"use strict";var i=t("./DataReader");function l(r){i.call(this,r);for(var u=0;u<this.data.length;u++)r[u]=255&r[u]}t("../utils").inherits(l,i),l.prototype.byteAt=function(r){return this.data[this.zero+r]},l.prototype.lastIndexOfSignature=function(r){for(var u=r.charCodeAt(0),g=r.charCodeAt(1),y=r.charCodeAt(2),c=r.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===u&&this.data[v+1]===g&&this.data[v+2]===y&&this.data[v+3]===c)return v-this.zero;return-1},l.prototype.readAndCheckSignature=function(r){var u=r.charCodeAt(0),g=r.charCodeAt(1),y=r.charCodeAt(2),c=r.charCodeAt(3),v=this.readData(4);return u===v[0]&&g===v[1]&&y===v[2]&&c===v[3]},l.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},a.exports=l},{"../utils":32,"./DataReader":18}],18:[function(t,a,o){"use strict";var i=t("../utils");function l(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var u,g=0;for(this.checkOffset(r),u=this.index+r-1;u>=this.index;u--)g=(g<<8)+this.byteAt(u);return this.index+=r,g},readString:function(r){return i.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},a.exports=l},{"../utils":32}],19:[function(t,a,o){"use strict";var i=t("./Uint8ArrayReader");function l(r){i.call(this,r)}t("../utils").inherits(l,i),l.prototype.readData=function(r){this.checkOffset(r);var u=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},a.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,a,o){"use strict";var i=t("./DataReader");function l(r){i.call(this,r)}t("../utils").inherits(l,i),l.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},l.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},l.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},l.prototype.readData=function(r){this.checkOffset(r);var u=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},a.exports=l},{"../utils":32,"./DataReader":18}],21:[function(t,a,o){"use strict";var i=t("./ArrayReader");function l(r){i.call(this,r)}t("../utils").inherits(l,i),l.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},a.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(t,a,o){"use strict";var i=t("../utils"),l=t("../support"),r=t("./ArrayReader"),u=t("./StringReader"),g=t("./NodeBufferReader"),y=t("./Uint8ArrayReader");a.exports=function(c){var v=i.getTypeOf(c);return i.checkSupport(v),v!=="string"||l.uint8array?v==="nodebuffer"?new g(c):l.uint8array?new y(i.transformTo("uint8array",c)):new r(i.transformTo("array",c)):new u(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,a,o){"use strict";o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,a,o){"use strict";var i=t("./GenericWorker"),l=t("../utils");function r(u){i.call(this,"ConvertWorker to "+u),this.destType=u}l.inherits(r,i),r.prototype.processChunk=function(u){this.push({data:l.transformTo(this.destType,u.data),meta:u.meta})},a.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(t,a,o){"use strict";var i=t("./GenericWorker"),l=t("../crc32");function r(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(r,i),r.prototype.processChunk=function(u){this.streamInfo.crc32=l(u.data,this.streamInfo.crc32||0),this.push(u)},a.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,a,o){"use strict";var i=t("../utils"),l=t("./GenericWorker");function r(u){l.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}i.inherits(r,l),r.prototype.processChunk=function(u){if(u){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+u.data.length}l.prototype.processChunk.call(this,u)},a.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(t,a,o){"use strict";var i=t("../utils"),l=t("./GenericWorker");function r(u){l.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(y){g.dataIsReady=!0,g.data=y,g.max=y&&y.length||0,g.type=i.getTypeOf(y),g.isPaused||g._tickAndRepeat()},function(y){g.error(y)})}i.inherits(r,l),r.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,g);break;case"uint8array":u=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":u=this.data.slice(this.index,g)}return this.index=g,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(t,a,o){"use strict";function i(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,r){return this._listeners[l].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,r){if(this._listeners[l])for(var u=0;u<this._listeners[l].length;u++)this._listeners[l][u].call(this,r)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var r=this;return l.on("data",function(u){r.processChunk(u)}),l.on("end",function(){r.end()}),l.on("error",function(u){r.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,r){return this.extraStreamInfo[l]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},a.exports=i},{}],29:[function(t,a,o){"use strict";var i=t("../utils"),l=t("./ConvertWorker"),r=t("./GenericWorker"),u=t("../base64"),g=t("../support"),y=t("../external"),c=null;if(g.nodestream)try{c=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(d,h){return new y.Promise(function(_,f){var b=[],w=d._internalType,S=d._outputType,z=d._mimeType;d.on("data",function(B,T){b.push(B),h&&h(T)}).on("error",function(B){b=[],f(B)}).on("end",function(){try{var B=function(T,L,D){switch(T){case"blob":return i.newBlob(i.transformTo("arraybuffer",L),D);case"base64":return u.encode(L);default:return i.transformTo(T,L)}}(S,function(T,L){var D,M=0,J=null,k=0;for(D=0;D<L.length;D++)k+=L[D].length;switch(T){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(J=new Uint8Array(k),D=0;D<L.length;D++)J.set(L[D],M),M+=L[D].length;return J;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+T+"'")}}(w,b),z);_(B)}catch(T){f(T)}b=[]}).resume()})}function n(d,h,_){var f=h;switch(h){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=h,this._mimeType=_,i.checkSupport(f),this._worker=d.pipe(new l(f)),d.lock()}catch(b){this._worker=new r("error"),this._worker.error(b)}}n.prototype={accumulate:function(d){return v(this,d)},on:function(d,h){var _=this;return d==="data"?this._worker.on(d,function(f){h.call(_,f.data,f.meta)}):this._worker.on(d,function(){i.delay(h,arguments,_)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},d)}},a.exports=n},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,a,o){"use strict";if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var i=new ArrayBuffer(0);try{o.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(i),o.blob=l.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!t("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(t,a,o){"use strict";for(var i=t("./utils"),l=t("./support"),r=t("./nodejsUtils"),u=t("./stream/GenericWorker"),g=new Array(256),y=0;y<256;y++)g[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;g[254]=g[254]=1;function c(){u.call(this,"utf-8 decode"),this.leftOver=null}function v(){u.call(this,"utf-8 encode")}o.utf8encode=function(n){return l.nodebuffer?r.newBufferFrom(n,"utf-8"):function(d){var h,_,f,b,w,S=d.length,z=0;for(b=0;b<S;b++)(64512&(_=d.charCodeAt(b)))==55296&&b+1<S&&(64512&(f=d.charCodeAt(b+1)))==56320&&(_=65536+(_-55296<<10)+(f-56320),b++),z+=_<128?1:_<2048?2:_<65536?3:4;for(h=l.uint8array?new Uint8Array(z):new Array(z),b=w=0;w<z;b++)(64512&(_=d.charCodeAt(b)))==55296&&b+1<S&&(64512&(f=d.charCodeAt(b+1)))==56320&&(_=65536+(_-55296<<10)+(f-56320),b++),_<128?h[w++]=_:(_<2048?h[w++]=192|_>>>6:(_<65536?h[w++]=224|_>>>12:(h[w++]=240|_>>>18,h[w++]=128|_>>>12&63),h[w++]=128|_>>>6&63),h[w++]=128|63&_);return h}(n)},o.utf8decode=function(n){return l.nodebuffer?i.transformTo("nodebuffer",n).toString("utf-8"):function(d){var h,_,f,b,w=d.length,S=new Array(2*w);for(h=_=0;h<w;)if((f=d[h++])<128)S[_++]=f;else if(4<(b=g[f]))S[_++]=65533,h+=b-1;else{for(f&=b===2?31:b===3?15:7;1<b&&h<w;)f=f<<6|63&d[h++],b--;1<b?S[_++]=65533:f<65536?S[_++]=f:(f-=65536,S[_++]=55296|f>>10&1023,S[_++]=56320|1023&f)}return S.length!==_&&(S.subarray?S=S.subarray(0,_):S.length=_),i.applyFromCharCode(S)}(n=i.transformTo(l.uint8array?"uint8array":"array",n))},i.inherits(c,u),c.prototype.processChunk=function(n){var d=i.transformTo(l.uint8array?"uint8array":"array",n.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var h=d;(d=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),d.set(h,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var _=function(b,w){var S;for((w=w||b.length)>b.length&&(w=b.length),S=w-1;0<=S&&(192&b[S])==128;)S--;return S<0||S===0?w:S+g[b[S]]>w?S:w}(d),f=d;_!==d.length&&(l.uint8array?(f=d.subarray(0,_),this.leftOver=d.subarray(_,d.length)):(f=d.slice(0,_),this.leftOver=d.slice(_,d.length))),this.push({data:o.utf8decode(f),meta:n.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=c,i.inherits(v,u),v.prototype.processChunk=function(n){this.push({data:o.utf8encode(n.data),meta:n.meta})},o.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,a,o){"use strict";var i=t("./support"),l=t("./base64"),r=t("./nodejsUtils"),u=t("./external");function g(h){return h}function y(h,_){for(var f=0;f<h.length;++f)_[f]=255&h.charCodeAt(f);return _}t("setimmediate"),o.newBlob=function(h,_){o.checkSupport("blob");try{return new Blob([h],{type:_})}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return f.append(h),f.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(h,_,f){var b=[],w=0,S=h.length;if(S<=f)return String.fromCharCode.apply(null,h);for(;w<S;)_==="array"||_==="nodebuffer"?b.push(String.fromCharCode.apply(null,h.slice(w,Math.min(w+f,S)))):b.push(String.fromCharCode.apply(null,h.subarray(w,Math.min(w+f,S)))),w+=f;return b.join("")},stringifyByChar:function(h){for(var _="",f=0;f<h.length;f++)_+=String.fromCharCode(h[f]);return _},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function v(h){var _=65536,f=o.getTypeOf(h),b=!0;if(f==="uint8array"?b=c.applyCanBeUsed.uint8array:f==="nodebuffer"&&(b=c.applyCanBeUsed.nodebuffer),b)for(;1<_;)try{return c.stringifyByChunk(h,f,_)}catch{_=Math.floor(_/2)}return c.stringifyByChar(h)}function n(h,_){for(var f=0;f<h.length;f++)_[f]=h[f];return _}o.applyFromCharCode=v;var d={};d.string={string:g,array:function(h){return y(h,new Array(h.length))},arraybuffer:function(h){return d.string.uint8array(h).buffer},uint8array:function(h){return y(h,new Uint8Array(h.length))},nodebuffer:function(h){return y(h,r.allocBuffer(h.length))}},d.array={string:v,array:g,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return r.newBufferFrom(h)}},d.arraybuffer={string:function(h){return v(new Uint8Array(h))},array:function(h){return n(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:g,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return r.newBufferFrom(new Uint8Array(h))}},d.uint8array={string:v,array:function(h){return n(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:g,nodebuffer:function(h){return r.newBufferFrom(h)}},d.nodebuffer={string:v,array:function(h){return n(h,new Array(h.length))},arraybuffer:function(h){return d.nodebuffer.uint8array(h).buffer},uint8array:function(h){return n(h,new Uint8Array(h.length))},nodebuffer:g},o.transformTo=function(h,_){if(_=_||"",!h)return _;o.checkSupport(h);var f=o.getTypeOf(_);return d[f][h](_)},o.resolve=function(h){for(var _=h.split("/"),f=[],b=0;b<_.length;b++){var w=_[b];w==="."||w===""&&b!==0&&b!==_.length-1||(w===".."?f.pop():f.push(w))}return f.join("/")},o.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":i.nodebuffer&&r.isBuffer(h)?"nodebuffer":i.uint8array&&h instanceof Uint8Array?"uint8array":i.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(h){if(!i[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(h){var _,f,b="";for(f=0;f<(h||"").length;f++)b+="\\x"+((_=h.charCodeAt(f))<16?"0":"")+_.toString(16).toUpperCase();return b},o.delay=function(h,_,f){setImmediate(function(){h.apply(f||null,_||[])})},o.inherits=function(h,_){function f(){}f.prototype=_.prototype,h.prototype=new f},o.extend=function(){var h,_,f={};for(h=0;h<arguments.length;h++)for(_ in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],_)&&f[_]===void 0&&(f[_]=arguments[h][_]);return f},o.prepareContent=function(h,_,f,b,w){return u.Promise.resolve(_).then(function(S){return i.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new u.Promise(function(z,B){var T=new FileReader;T.onload=function(L){z(L.target.result)},T.onerror=function(L){B(L.target.error)},T.readAsArrayBuffer(S)}):S}).then(function(S){var z=o.getTypeOf(S);return z?(z==="arraybuffer"?S=o.transformTo("uint8array",S):z==="string"&&(w?S=l.decode(S):f&&b!==!0&&(S=function(B){return y(B,i.uint8array?new Uint8Array(B.length):new Array(B.length))}(S))),S):u.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,a,o){"use strict";var i=t("./reader/readerFor"),l=t("./utils"),r=t("./signature"),u=t("./zipEntry"),g=t("./support");function y(c){this.files=[],this.loadOptions=c}y.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(v)+", expected "+l.pretty(c)+")")}},isSignature:function(c,v){var n=this.reader.index;this.reader.setIndex(c);var d=this.reader.readString(4)===v;return this.reader.setIndex(n),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),v=g.uint8array?"uint8array":"array",n=l.transformTo(v,c);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,v,n,d=this.zip64EndOfCentralSize-44;0<d;)c=this.reader.readInt(2),v=this.reader.readInt(4),n=this.reader.readData(v),this.zip64ExtensibleData[c]={id:c,length:v,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,v;for(c=0;c<this.files.length;c++)v=this.files[c],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(c=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var v=c;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var d=v-n;if(0<d)this.isSignature(v,r.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(c){this.reader=i(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,a,o){"use strict";var i=t("./reader/readerFor"),l=t("./utils"),r=t("./compressedObject"),u=t("./crc32"),g=t("./utf8"),y=t("./compressions"),c=t("./support");function v(n,d){this.options=n,this.loadOptions=d}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(n){var d,h;if(n.skip(22),this.fileNameLength=n.readInt(2),h=n.readInt(2),this.fileName=n.readData(this.fileNameLength),n.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=function(_){for(var f in y)if(Object.prototype.hasOwnProperty.call(y,f)&&y[f].magic===_)return y[f];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,d,n.readData(this.compressedSize))},readCentralPart:function(n){this.versionMadeBy=n.readInt(2),n.skip(2),this.bitFlag=n.readInt(2),this.compressionMethod=n.readString(2),this.date=n.readDate(),this.crc32=n.readInt(4),this.compressedSize=n.readInt(4),this.uncompressedSize=n.readInt(4);var d=n.readInt(2);if(this.extraFieldsLength=n.readInt(2),this.fileCommentLength=n.readInt(2),this.diskNumberStart=n.readInt(2),this.internalFileAttributes=n.readInt(2),this.externalFileAttributes=n.readInt(4),this.localHeaderOffset=n.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");n.skip(d),this.readExtraFields(n),this.parseZIP64ExtraField(n),this.fileComment=n.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var n=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),n==0&&(this.dosPermissions=63&this.externalFileAttributes),n==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var n=i(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=n.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=n.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=n.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=n.readInt(4))}},readExtraFields:function(n){var d,h,_,f=n.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});n.index+4<f;)d=n.readInt(2),h=n.readInt(2),_=n.readData(h),this.extraFields[d]={id:d,length:h,value:_};n.setIndex(f)},handleUTF8:function(){var n=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var h=l.transformTo(n,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var f=l.transformTo(n,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var n=this.extraFields[28789];if(n){var d=i(n.value);return d.readInt(1)!==1||u(this.fileName)!==d.readInt(4)?null:g.utf8decode(d.readData(n.length-5))}return null},findExtraFieldUnicodeComment:function(){var n=this.extraFields[25461];if(n){var d=i(n.value);return d.readInt(1)!==1||u(this.fileComment)!==d.readInt(4)?null:g.utf8decode(d.readData(n.length-5))}return null}},a.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,a,o){"use strict";function i(d,h,_){this.name=d,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=h,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var l=t("./stream/StreamHelper"),r=t("./stream/DataWorker"),u=t("./utf8"),g=t("./compressedObject"),y=t("./stream/GenericWorker");i.prototype={internalStream:function(d){var h=null,_="string";try{if(!d)throw new Error("No output type specified.");var f=(_=d.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),h=this._decompressWorker();var b=!this._dataBinary;b&&!f&&(h=h.pipe(new u.Utf8EncodeWorker)),!b&&f&&(h=h.pipe(new u.Utf8DecodeWorker))}catch(w){(h=new y("error")).error(w)}return new l(h,_,"")},async:function(d,h){return this.internalStream(d).accumulate(h)},nodeStream:function(d,h){return this.internalStream(d||"nodebuffer").toNodejsStream(h)},_compressWorker:function(d,h){if(this._data instanceof g&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new u.Utf8EncodeWorker)),g.createWorkerFrom(_,d,h)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof y?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},n=0;n<c.length;n++)i.prototype[c[n]]=v;a.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,a,o){(function(i){"use strict";var l,r,u=i.MutationObserver||i.WebKitMutationObserver;if(u){var g=0,y=new u(d),c=i.document.createTextNode("");y.observe(c,{characterData:!0}),l=function(){c.data=g=++g%2}}else if(i.setImmediate||i.MessageChannel===void 0)l="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var h=i.document.createElement("script");h.onreadystatechange=function(){d(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},i.document.documentElement.appendChild(h)}:function(){setTimeout(d,0)};else{var v=new i.MessageChannel;v.port1.onmessage=d,l=function(){v.port2.postMessage(0)}}var n=[];function d(){var h,_;r=!0;for(var f=n.length;f;){for(_=n,n=[],h=-1;++h<f;)_[h]();f=n.length}r=!1}a.exports=function(h){n.push(h)!==1||r||l()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,a,o){"use strict";var i=t("immediate");function l(){}var r={},u=["REJECTED"],g=["FULFILLED"],y=["PENDING"];function c(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,f!==l&&h(this,f)}function v(f,b,w){this.promise=f,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function n(f,b,w){i(function(){var S;try{S=b(w)}catch(z){return r.reject(f,z)}S===f?r.reject(f,new TypeError("Cannot resolve promise with itself")):r.resolve(f,S)})}function d(f){var b=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof b=="function")return function(){b.apply(f,arguments)}}function h(f,b){var w=!1;function S(T){w||(w=!0,r.reject(f,T))}function z(T){w||(w=!0,r.resolve(f,T))}var B=_(function(){b(z,S)});B.status==="error"&&S(B.value)}function _(f,b){var w={};try{w.value=f(b),w.status="success"}catch(S){w.status="error",w.value=S}return w}(a.exports=c).prototype.finally=function(f){if(typeof f!="function")return this;var b=this.constructor;return this.then(function(w){return b.resolve(f()).then(function(){return w})},function(w){return b.resolve(f()).then(function(){throw w})})},c.prototype.catch=function(f){return this.then(null,f)},c.prototype.then=function(f,b){if(typeof f!="function"&&this.state===g||typeof b!="function"&&this.state===u)return this;var w=new this.constructor(l);return this.state!==y?n(w,this.state===g?f:b,this.outcome):this.queue.push(new v(w,f,b)),w},v.prototype.callFulfilled=function(f){r.resolve(this.promise,f)},v.prototype.otherCallFulfilled=function(f){n(this.promise,this.onFulfilled,f)},v.prototype.callRejected=function(f){r.reject(this.promise,f)},v.prototype.otherCallRejected=function(f){n(this.promise,this.onRejected,f)},r.resolve=function(f,b){var w=_(d,b);if(w.status==="error")return r.reject(f,w.value);var S=w.value;if(S)h(f,S);else{f.state=g,f.outcome=b;for(var z=-1,B=f.queue.length;++z<B;)f.queue[z].callFulfilled(b)}return f},r.reject=function(f,b){f.state=u,f.outcome=b;for(var w=-1,S=f.queue.length;++w<S;)f.queue[w].callRejected(b);return f},c.resolve=function(f){return f instanceof this?f:r.resolve(new this(l),f)},c.reject=function(f){var b=new this(l);return r.reject(b,f)},c.all=function(f){var b=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=f.length,S=!1;if(!w)return this.resolve([]);for(var z=new Array(w),B=0,T=-1,L=new this(l);++T<w;)D(f[T],T);return L;function D(M,J){b.resolve(M).then(function(k){z[J]=k,++B!==w||S||(S=!0,r.resolve(L,z))},function(k){S||(S=!0,r.reject(L,k))})}},c.race=function(f){var b=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=f.length,S=!1;if(!w)return this.resolve([]);for(var z=-1,B=new this(l);++z<w;)T=f[z],b.resolve(T).then(function(L){S||(S=!0,r.resolve(B,L))},function(L){S||(S=!0,r.reject(B,L))});var T;return B}},{immediate:36}],38:[function(t,a,o){"use strict";var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),a.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,a,o){"use strict";var i=t("./zlib/deflate"),l=t("./utils/common"),r=t("./utils/strings"),u=t("./zlib/messages"),g=t("./zlib/zstream"),y=Object.prototype.toString,c=0,v=-1,n=0,d=8;function h(f){if(!(this instanceof h))return new h(f);this.options=l.assign({level:v,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:n,to:""},f||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(w!==c)throw new Error(u[w]);if(b.header&&i.deflateSetHeader(this.strm,b.header),b.dictionary){var S;if(S=typeof b.dictionary=="string"?r.string2buf(b.dictionary):y.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(w=i.deflateSetDictionary(this.strm,S))!==c)throw new Error(u[w]);this._dict_set=!0}}function _(f,b){var w=new h(b);if(w.push(f,!0),w.err)throw w.msg||u[w.err];return w.result}h.prototype.push=function(f,b){var w,S,z=this.strm,B=this.options.chunkSize;if(this.ended)return!1;S=b===~~b?b:b===!0?4:0,typeof f=="string"?z.input=r.string2buf(f):y.call(f)==="[object ArrayBuffer]"?z.input=new Uint8Array(f):z.input=f,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new l.Buf8(B),z.next_out=0,z.avail_out=B),(w=i.deflate(z,S))!==1&&w!==c)return this.onEnd(w),!(this.ended=!0);z.avail_out!==0&&(z.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(l.shrinkBuf(z.output,z.next_out))):this.onData(l.shrinkBuf(z.output,z.next_out)))}while((0<z.avail_in||z.avail_out===0)&&w!==1);return S===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===c):S!==2||(this.onEnd(c),!(z.avail_out=0))},h.prototype.onData=function(f){this.chunks.push(f)},h.prototype.onEnd=function(f){f===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},o.Deflate=h,o.deflate=_,o.deflateRaw=function(f,b){return(b=b||{}).raw=!0,_(f,b)},o.gzip=function(f,b){return(b=b||{}).gzip=!0,_(f,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,a,o){"use strict";var i=t("./zlib/inflate"),l=t("./utils/common"),r=t("./utils/strings"),u=t("./zlib/constants"),g=t("./zlib/messages"),y=t("./zlib/zstream"),c=t("./zlib/gzheader"),v=Object.prototype.toString;function n(h){if(!(this instanceof n))return new n(h);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},h||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||h&&h.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&!(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var f=i.inflateInit2(this.strm,_.windowBits);if(f!==u.Z_OK)throw new Error(g[f]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function d(h,_){var f=new n(_);if(f.push(h,!0),f.err)throw f.msg||g[f.err];return f.result}n.prototype.push=function(h,_){var f,b,w,S,z,B,T=this.strm,L=this.options.chunkSize,D=this.options.dictionary,M=!1;if(this.ended)return!1;b=_===~~_?_:_===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof h=="string"?T.input=r.binstring2buf(h):v.call(h)==="[object ArrayBuffer]"?T.input=new Uint8Array(h):T.input=h,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new l.Buf8(L),T.next_out=0,T.avail_out=L),(f=i.inflate(T,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&D&&(B=typeof D=="string"?r.string2buf(D):v.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,f=i.inflateSetDictionary(this.strm,B)),f===u.Z_BUF_ERROR&&M===!0&&(f=u.Z_OK,M=!1),f!==u.Z_STREAM_END&&f!==u.Z_OK)return this.onEnd(f),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&f!==u.Z_STREAM_END&&(T.avail_in!==0||b!==u.Z_FINISH&&b!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=r.utf8border(T.output,T.next_out),S=T.next_out-w,z=r.buf2string(T.output,w),T.next_out=S,T.avail_out=L-S,S&&l.arraySet(T.output,T.output,w,S,0),this.onData(z)):this.onData(l.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(M=!0)}while((0<T.avail_in||T.avail_out===0)&&f!==u.Z_STREAM_END);return f===u.Z_STREAM_END&&(b=u.Z_FINISH),b===u.Z_FINISH?(f=i.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===u.Z_OK):b!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(T.avail_out=0))},n.prototype.onData=function(h){this.chunks.push(h)},n.prototype.onEnd=function(h){h===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},o.Inflate=n,o.inflate=d,o.inflateRaw=function(h,_){return(_=_||{}).raw=!0,d(h,_)},o.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,a,o){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(u){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var y=g.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var c in y)y.hasOwnProperty(c)&&(u[c]=y[c])}}return u},o.shrinkBuf=function(u,g){return u.length===g?u:u.subarray?u.subarray(0,g):(u.length=g,u)};var l={arraySet:function(u,g,y,c,v){if(g.subarray&&u.subarray)u.set(g.subarray(y,y+c),v);else for(var n=0;n<c;n++)u[v+n]=g[y+n]},flattenChunks:function(u){var g,y,c,v,n,d;for(g=c=0,y=u.length;g<y;g++)c+=u[g].length;for(d=new Uint8Array(c),g=v=0,y=u.length;g<y;g++)n=u[g],d.set(n,v),v+=n.length;return d}},r={arraySet:function(u,g,y,c,v){for(var n=0;n<c;n++)u[v+n]=g[y+n]},flattenChunks:function(u){return[].concat.apply([],u)}};o.setTyped=function(u){u?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,l)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,r))},o.setTyped(i)},{}],42:[function(t,a,o){"use strict";var i=t("./common"),l=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var u=new i.Buf8(256),g=0;g<256;g++)u[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function y(c,v){if(v<65537&&(c.subarray&&r||!c.subarray&&l))return String.fromCharCode.apply(null,i.shrinkBuf(c,v));for(var n="",d=0;d<v;d++)n+=String.fromCharCode(c[d]);return n}u[254]=u[254]=1,o.string2buf=function(c){var v,n,d,h,_,f=c.length,b=0;for(h=0;h<f;h++)(64512&(n=c.charCodeAt(h)))==55296&&h+1<f&&(64512&(d=c.charCodeAt(h+1)))==56320&&(n=65536+(n-55296<<10)+(d-56320),h++),b+=n<128?1:n<2048?2:n<65536?3:4;for(v=new i.Buf8(b),h=_=0;_<b;h++)(64512&(n=c.charCodeAt(h)))==55296&&h+1<f&&(64512&(d=c.charCodeAt(h+1)))==56320&&(n=65536+(n-55296<<10)+(d-56320),h++),n<128?v[_++]=n:(n<2048?v[_++]=192|n>>>6:(n<65536?v[_++]=224|n>>>12:(v[_++]=240|n>>>18,v[_++]=128|n>>>12&63),v[_++]=128|n>>>6&63),v[_++]=128|63&n);return v},o.buf2binstring=function(c){return y(c,c.length)},o.binstring2buf=function(c){for(var v=new i.Buf8(c.length),n=0,d=v.length;n<d;n++)v[n]=c.charCodeAt(n);return v},o.buf2string=function(c,v){var n,d,h,_,f=v||c.length,b=new Array(2*f);for(n=d=0;n<f;)if((h=c[n++])<128)b[d++]=h;else if(4<(_=u[h]))b[d++]=65533,n+=_-1;else{for(h&=_===2?31:_===3?15:7;1<_&&n<f;)h=h<<6|63&c[n++],_--;1<_?b[d++]=65533:h<65536?b[d++]=h:(h-=65536,b[d++]=55296|h>>10&1023,b[d++]=56320|1023&h)}return y(b,d)},o.utf8border=function(c,v){var n;for((v=v||c.length)>c.length&&(v=c.length),n=v-1;0<=n&&(192&c[n])==128;)n--;return n<0||n===0?v:n+u[c[n]]>v?n:v}},{"./common":41}],43:[function(t,a,o){"use strict";a.exports=function(i,l,r,u){for(var g=65535&i|0,y=i>>>16&65535|0,c=0;r!==0;){for(r-=c=2e3<r?2e3:r;y=y+(g=g+l[u++]|0)|0,--c;);g%=65521,y%=65521}return g|y<<16|0}},{}],44:[function(t,a,o){"use strict";a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,a,o){"use strict";var i=function(){for(var l,r=[],u=0;u<256;u++){l=u;for(var g=0;g<8;g++)l=1&l?3988292384^l>>>1:l>>>1;r[u]=l}return r}();a.exports=function(l,r,u,g){var y=i,c=g+u;l^=-1;for(var v=g;v<c;v++)l=l>>>8^y[255&(l^r[v])];return-1^l}},{}],46:[function(t,a,o){"use strict";var i,l=t("../utils/common"),r=t("./trees"),u=t("./adler32"),g=t("./crc32"),y=t("./messages"),c=0,v=4,n=0,d=-2,h=-1,_=4,f=2,b=8,w=9,S=286,z=30,B=19,T=2*S+1,L=15,D=3,M=258,J=M+D+1,k=42,F=113,s=1,N=2,X=3,$=4;function Q(e,P){return e.msg=y[P],P}function U(e){return(e<<1)-(4<e?9:0)}function V(e){for(var P=e.length;0<=--P;)e[P]=0}function I(e){var P=e.state,A=P.pending;A>e.avail_out&&(A=e.avail_out),A!==0&&(l.arraySet(e.output,P.pending_buf,P.pending_out,A,e.next_out),e.next_out+=A,P.pending_out+=A,e.total_out+=A,e.avail_out-=A,P.pending-=A,P.pending===0&&(P.pending_out=0))}function x(e,P){r._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,P),e.block_start=e.strstart,I(e.strm)}function K(e,P){e.pending_buf[e.pending++]=P}function Z(e,P){e.pending_buf[e.pending++]=P>>>8&255,e.pending_buf[e.pending++]=255&P}function W(e,P){var A,m,p=e.max_chain_length,C=e.strstart,R=e.prev_length,O=e.nice_match,E=e.strstart>e.w_size-J?e.strstart-(e.w_size-J):0,j=e.window,G=e.w_mask,H=e.prev,Y=e.strstart+M,at=j[C+R-1],nt=j[C+R];e.prev_length>=e.good_match&&(p>>=2),O>e.lookahead&&(O=e.lookahead);do if(j[(A=P)+R]===nt&&j[A+R-1]===at&&j[A]===j[C]&&j[++A]===j[C+1]){C+=2,A++;do;while(j[++C]===j[++A]&&j[++C]===j[++A]&&j[++C]===j[++A]&&j[++C]===j[++A]&&j[++C]===j[++A]&&j[++C]===j[++A]&&j[++C]===j[++A]&&j[++C]===j[++A]&&C<Y);if(m=M-(Y-C),C=Y-M,R<m){if(e.match_start=P,O<=(R=m))break;at=j[C+R-1],nt=j[C+R]}}while((P=H[P&G])>E&&--p!=0);return R<=e.lookahead?R:e.lookahead}function rt(e){var P,A,m,p,C,R,O,E,j,G,H=e.w_size;do{if(p=e.window_size-e.lookahead-e.strstart,e.strstart>=H+(H-J)){for(l.arraySet(e.window,e.window,H,H,0),e.match_start-=H,e.strstart-=H,e.block_start-=H,P=A=e.hash_size;m=e.head[--P],e.head[P]=H<=m?m-H:0,--A;);for(P=A=H;m=e.prev[--P],e.prev[P]=H<=m?m-H:0,--A;);p+=H}if(e.strm.avail_in===0)break;if(R=e.strm,O=e.window,E=e.strstart+e.lookahead,j=p,G=void 0,G=R.avail_in,j<G&&(G=j),A=G===0?0:(R.avail_in-=G,l.arraySet(O,R.input,R.next_in,G,E),R.state.wrap===1?R.adler=u(R.adler,O,G,E):R.state.wrap===2&&(R.adler=g(R.adler,O,G,E)),R.next_in+=G,R.total_in+=G,G),e.lookahead+=A,e.lookahead+e.insert>=D)for(C=e.strstart-e.insert,e.ins_h=e.window[C],e.ins_h=(e.ins_h<<e.hash_shift^e.window[C+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[C+D-1])&e.hash_mask,e.prev[C&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=C,C++,e.insert--,!(e.lookahead+e.insert<D)););}while(e.lookahead<J&&e.strm.avail_in!==0)}function it(e,P){for(var A,m;;){if(e.lookahead<J){if(rt(e),e.lookahead<J&&P===c)return s;if(e.lookahead===0)break}if(A=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),A!==0&&e.strstart-A<=e.w_size-J&&(e.match_length=W(e,A)),e.match_length>=D)if(m=r._tr_tally(e,e.strstart-e.match_start,e.match_length-D),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=D){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,--e.match_length!=0;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else m=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(m&&(x(e,!1),e.strm.avail_out===0))return s}return e.insert=e.strstart<D-1?e.strstart:D-1,P===v?(x(e,!0),e.strm.avail_out===0?X:$):e.last_lit&&(x(e,!1),e.strm.avail_out===0)?s:N}function q(e,P){for(var A,m,p;;){if(e.lookahead<J){if(rt(e),e.lookahead<J&&P===c)return s;if(e.lookahead===0)break}if(A=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=D-1,A!==0&&e.prev_length<e.max_lazy_match&&e.strstart-A<=e.w_size-J&&(e.match_length=W(e,A),e.match_length<=5&&(e.strategy===1||e.match_length===D&&4096<e.strstart-e.match_start)&&(e.match_length=D-1)),e.prev_length>=D&&e.match_length<=e.prev_length){for(p=e.strstart+e.lookahead-D,m=r._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-D),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=p&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,A=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),--e.prev_length!=0;);if(e.match_available=0,e.match_length=D-1,e.strstart++,m&&(x(e,!1),e.strm.avail_out===0))return s}else if(e.match_available){if((m=r._tr_tally(e,0,e.window[e.strstart-1]))&&x(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return s}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(m=r._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<D-1?e.strstart:D-1,P===v?(x(e,!0),e.strm.avail_out===0?X:$):e.last_lit&&(x(e,!1),e.strm.avail_out===0)?s:N}function tt(e,P,A,m,p){this.good_length=e,this.max_lazy=P,this.nice_length=A,this.max_chain=m,this.func=p}function st(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*T),this.dyn_dtree=new l.Buf16(2*(2*z+1)),this.bl_tree=new l.Buf16(2*(2*B+1)),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(L+1),this.heap=new l.Buf16(2*S+1),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*S+1),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function et(e){var P;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=f,(P=e.state).pending=0,P.pending_out=0,P.wrap<0&&(P.wrap=-P.wrap),P.status=P.wrap?k:F,e.adler=P.wrap===2?0:1,P.last_flush=c,r._tr_init(P),n):Q(e,d)}function ut(e){var P=et(e);return P===n&&function(A){A.window_size=2*A.w_size,V(A.head),A.max_lazy_match=i[A.level].max_lazy,A.good_match=i[A.level].good_length,A.nice_match=i[A.level].nice_length,A.max_chain_length=i[A.level].max_chain,A.strstart=0,A.block_start=0,A.lookahead=0,A.insert=0,A.match_length=A.prev_length=D-1,A.match_available=0,A.ins_h=0}(e.state),P}function lt(e,P,A,m,p,C){if(!e)return d;var R=1;if(P===h&&(P=6),m<0?(R=0,m=-m):15<m&&(R=2,m-=16),p<1||w<p||A!==b||m<8||15<m||P<0||9<P||C<0||_<C)return Q(e,d);m===8&&(m=9);var O=new st;return(e.state=O).strm=e,O.wrap=R,O.gzhead=null,O.w_bits=m,O.w_size=1<<O.w_bits,O.w_mask=O.w_size-1,O.hash_bits=p+7,O.hash_size=1<<O.hash_bits,O.hash_mask=O.hash_size-1,O.hash_shift=~~((O.hash_bits+D-1)/D),O.window=new l.Buf8(2*O.w_size),O.head=new l.Buf16(O.hash_size),O.prev=new l.Buf16(O.w_size),O.lit_bufsize=1<<p+6,O.pending_buf_size=4*O.lit_bufsize,O.pending_buf=new l.Buf8(O.pending_buf_size),O.d_buf=1*O.lit_bufsize,O.l_buf=3*O.lit_bufsize,O.level=P,O.strategy=C,O.method=A,ut(e)}i=[new tt(0,0,0,0,function(e,P){var A=65535;for(A>e.pending_buf_size-5&&(A=e.pending_buf_size-5);;){if(e.lookahead<=1){if(rt(e),e.lookahead===0&&P===c)return s;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var m=e.block_start+A;if((e.strstart===0||e.strstart>=m)&&(e.lookahead=e.strstart-m,e.strstart=m,x(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-J&&(x(e,!1),e.strm.avail_out===0))return s}return e.insert=0,P===v?(x(e,!0),e.strm.avail_out===0?X:$):(e.strstart>e.block_start&&(x(e,!1),e.strm.avail_out),s)}),new tt(4,4,8,4,it),new tt(4,5,16,8,it),new tt(4,6,32,32,it),new tt(4,4,16,16,q),new tt(8,16,32,32,q),new tt(8,16,128,128,q),new tt(8,32,128,256,q),new tt(32,128,258,1024,q),new tt(32,258,258,4096,q)],o.deflateInit=function(e,P){return lt(e,P,b,15,8,0)},o.deflateInit2=lt,o.deflateReset=ut,o.deflateResetKeep=et,o.deflateSetHeader=function(e,P){return e&&e.state?e.state.wrap!==2?d:(e.state.gzhead=P,n):d},o.deflate=function(e,P){var A,m,p,C;if(!e||!e.state||5<P||P<0)return e?Q(e,d):d;if(m=e.state,!e.output||!e.input&&e.avail_in!==0||m.status===666&&P!==v)return Q(e,e.avail_out===0?-5:d);if(m.strm=e,A=m.last_flush,m.last_flush=P,m.status===k)if(m.wrap===2)e.adler=0,K(m,31),K(m,139),K(m,8),m.gzhead?(K(m,(m.gzhead.text?1:0)+(m.gzhead.hcrc?2:0)+(m.gzhead.extra?4:0)+(m.gzhead.name?8:0)+(m.gzhead.comment?16:0)),K(m,255&m.gzhead.time),K(m,m.gzhead.time>>8&255),K(m,m.gzhead.time>>16&255),K(m,m.gzhead.time>>24&255),K(m,m.level===9?2:2<=m.strategy||m.level<2?4:0),K(m,255&m.gzhead.os),m.gzhead.extra&&m.gzhead.extra.length&&(K(m,255&m.gzhead.extra.length),K(m,m.gzhead.extra.length>>8&255)),m.gzhead.hcrc&&(e.adler=g(e.adler,m.pending_buf,m.pending,0)),m.gzindex=0,m.status=69):(K(m,0),K(m,0),K(m,0),K(m,0),K(m,0),K(m,m.level===9?2:2<=m.strategy||m.level<2?4:0),K(m,3),m.status=F);else{var R=b+(m.w_bits-8<<4)<<8;R|=(2<=m.strategy||m.level<2?0:m.level<6?1:m.level===6?2:3)<<6,m.strstart!==0&&(R|=32),R+=31-R%31,m.status=F,Z(m,R),m.strstart!==0&&(Z(m,e.adler>>>16),Z(m,65535&e.adler)),e.adler=1}if(m.status===69)if(m.gzhead.extra){for(p=m.pending;m.gzindex<(65535&m.gzhead.extra.length)&&(m.pending!==m.pending_buf_size||(m.gzhead.hcrc&&m.pending>p&&(e.adler=g(e.adler,m.pending_buf,m.pending-p,p)),I(e),p=m.pending,m.pending!==m.pending_buf_size));)K(m,255&m.gzhead.extra[m.gzindex]),m.gzindex++;m.gzhead.hcrc&&m.pending>p&&(e.adler=g(e.adler,m.pending_buf,m.pending-p,p)),m.gzindex===m.gzhead.extra.length&&(m.gzindex=0,m.status=73)}else m.status=73;if(m.status===73)if(m.gzhead.name){p=m.pending;do{if(m.pending===m.pending_buf_size&&(m.gzhead.hcrc&&m.pending>p&&(e.adler=g(e.adler,m.pending_buf,m.pending-p,p)),I(e),p=m.pending,m.pending===m.pending_buf_size)){C=1;break}C=m.gzindex<m.gzhead.name.length?255&m.gzhead.name.charCodeAt(m.gzindex++):0,K(m,C)}while(C!==0);m.gzhead.hcrc&&m.pending>p&&(e.adler=g(e.adler,m.pending_buf,m.pending-p,p)),C===0&&(m.gzindex=0,m.status=91)}else m.status=91;if(m.status===91)if(m.gzhead.comment){p=m.pending;do{if(m.pending===m.pending_buf_size&&(m.gzhead.hcrc&&m.pending>p&&(e.adler=g(e.adler,m.pending_buf,m.pending-p,p)),I(e),p=m.pending,m.pending===m.pending_buf_size)){C=1;break}C=m.gzindex<m.gzhead.comment.length?255&m.gzhead.comment.charCodeAt(m.gzindex++):0,K(m,C)}while(C!==0);m.gzhead.hcrc&&m.pending>p&&(e.adler=g(e.adler,m.pending_buf,m.pending-p,p)),C===0&&(m.status=103)}else m.status=103;if(m.status===103&&(m.gzhead.hcrc?(m.pending+2>m.pending_buf_size&&I(e),m.pending+2<=m.pending_buf_size&&(K(m,255&e.adler),K(m,e.adler>>8&255),e.adler=0,m.status=F)):m.status=F),m.pending!==0){if(I(e),e.avail_out===0)return m.last_flush=-1,n}else if(e.avail_in===0&&U(P)<=U(A)&&P!==v)return Q(e,-5);if(m.status===666&&e.avail_in!==0)return Q(e,-5);if(e.avail_in!==0||m.lookahead!==0||P!==c&&m.status!==666){var O=m.strategy===2?function(E,j){for(var G;;){if(E.lookahead===0&&(rt(E),E.lookahead===0)){if(j===c)return s;break}if(E.match_length=0,G=r._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++,G&&(x(E,!1),E.strm.avail_out===0))return s}return E.insert=0,j===v?(x(E,!0),E.strm.avail_out===0?X:$):E.last_lit&&(x(E,!1),E.strm.avail_out===0)?s:N}(m,P):m.strategy===3?function(E,j){for(var G,H,Y,at,nt=E.window;;){if(E.lookahead<=M){if(rt(E),E.lookahead<=M&&j===c)return s;if(E.lookahead===0)break}if(E.match_length=0,E.lookahead>=D&&0<E.strstart&&(H=nt[Y=E.strstart-1])===nt[++Y]&&H===nt[++Y]&&H===nt[++Y]){at=E.strstart+M;do;while(H===nt[++Y]&&H===nt[++Y]&&H===nt[++Y]&&H===nt[++Y]&&H===nt[++Y]&&H===nt[++Y]&&H===nt[++Y]&&H===nt[++Y]&&Y<at);E.match_length=M-(at-Y),E.match_length>E.lookahead&&(E.match_length=E.lookahead)}if(E.match_length>=D?(G=r._tr_tally(E,1,E.match_length-D),E.lookahead-=E.match_length,E.strstart+=E.match_length,E.match_length=0):(G=r._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++),G&&(x(E,!1),E.strm.avail_out===0))return s}return E.insert=0,j===v?(x(E,!0),E.strm.avail_out===0?X:$):E.last_lit&&(x(E,!1),E.strm.avail_out===0)?s:N}(m,P):i[m.level].func(m,P);if(O!==X&&O!==$||(m.status=666),O===s||O===X)return e.avail_out===0&&(m.last_flush=-1),n;if(O===N&&(P===1?r._tr_align(m):P!==5&&(r._tr_stored_block(m,0,0,!1),P===3&&(V(m.head),m.lookahead===0&&(m.strstart=0,m.block_start=0,m.insert=0))),I(e),e.avail_out===0))return m.last_flush=-1,n}return P!==v?n:m.wrap<=0?1:(m.wrap===2?(K(m,255&e.adler),K(m,e.adler>>8&255),K(m,e.adler>>16&255),K(m,e.adler>>24&255),K(m,255&e.total_in),K(m,e.total_in>>8&255),K(m,e.total_in>>16&255),K(m,e.total_in>>24&255)):(Z(m,e.adler>>>16),Z(m,65535&e.adler)),I(e),0<m.wrap&&(m.wrap=-m.wrap),m.pending!==0?n:1)},o.deflateEnd=function(e){var P;return e&&e.state?(P=e.state.status)!==k&&P!==69&&P!==73&&P!==91&&P!==103&&P!==F&&P!==666?Q(e,d):(e.state=null,P===F?Q(e,-3):n):d},o.deflateSetDictionary=function(e,P){var A,m,p,C,R,O,E,j,G=P.length;if(!e||!e.state||(C=(A=e.state).wrap)===2||C===1&&A.status!==k||A.lookahead)return d;for(C===1&&(e.adler=u(e.adler,P,G,0)),A.wrap=0,G>=A.w_size&&(C===0&&(V(A.head),A.strstart=0,A.block_start=0,A.insert=0),j=new l.Buf8(A.w_size),l.arraySet(j,P,G-A.w_size,A.w_size,0),P=j,G=A.w_size),R=e.avail_in,O=e.next_in,E=e.input,e.avail_in=G,e.next_in=0,e.input=P,rt(A);A.lookahead>=D;){for(m=A.strstart,p=A.lookahead-(D-1);A.ins_h=(A.ins_h<<A.hash_shift^A.window[m+D-1])&A.hash_mask,A.prev[m&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=m,m++,--p;);A.strstart=m,A.lookahead=D-1,rt(A)}return A.strstart+=A.lookahead,A.block_start=A.strstart,A.insert=A.lookahead,A.lookahead=0,A.match_length=A.prev_length=D-1,A.match_available=0,e.next_in=O,e.input=E,e.avail_in=R,A.wrap=C,n},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,a,o){"use strict";a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,a,o){"use strict";a.exports=function(i,l){var r,u,g,y,c,v,n,d,h,_,f,b,w,S,z,B,T,L,D,M,J,k,F,s,N;r=i.state,u=i.next_in,s=i.input,g=u+(i.avail_in-5),y=i.next_out,N=i.output,c=y-(l-i.avail_out),v=y+(i.avail_out-257),n=r.dmax,d=r.wsize,h=r.whave,_=r.wnext,f=r.window,b=r.hold,w=r.bits,S=r.lencode,z=r.distcode,B=(1<<r.lenbits)-1,T=(1<<r.distbits)-1;t:do{w<15&&(b+=s[u++]<<w,w+=8,b+=s[u++]<<w,w+=8),L=S[b&B];e:for(;;){if(b>>>=D=L>>>24,w-=D,(D=L>>>16&255)===0)N[y++]=65535&L;else{if(!(16&D)){if(!(64&D)){L=S[(65535&L)+(b&(1<<D)-1)];continue e}if(32&D){r.mode=12;break t}i.msg="invalid literal/length code",r.mode=30;break t}M=65535&L,(D&=15)&&(w<D&&(b+=s[u++]<<w,w+=8),M+=b&(1<<D)-1,b>>>=D,w-=D),w<15&&(b+=s[u++]<<w,w+=8,b+=s[u++]<<w,w+=8),L=z[b&T];r:for(;;){if(b>>>=D=L>>>24,w-=D,!(16&(D=L>>>16&255))){if(!(64&D)){L=z[(65535&L)+(b&(1<<D)-1)];continue r}i.msg="invalid distance code",r.mode=30;break t}if(J=65535&L,w<(D&=15)&&(b+=s[u++]<<w,(w+=8)<D&&(b+=s[u++]<<w,w+=8)),n<(J+=b&(1<<D)-1)){i.msg="invalid distance too far back",r.mode=30;break t}if(b>>>=D,w-=D,(D=y-c)<J){if(h<(D=J-D)&&r.sane){i.msg="invalid distance too far back",r.mode=30;break t}if(F=f,(k=0)===_){if(k+=d-D,D<M){for(M-=D;N[y++]=f[k++],--D;);k=y-J,F=N}}else if(_<D){if(k+=d+_-D,(D-=_)<M){for(M-=D;N[y++]=f[k++],--D;);if(k=0,_<M){for(M-=D=_;N[y++]=f[k++],--D;);k=y-J,F=N}}}else if(k+=_-D,D<M){for(M-=D;N[y++]=f[k++],--D;);k=y-J,F=N}for(;2<M;)N[y++]=F[k++],N[y++]=F[k++],N[y++]=F[k++],M-=3;M&&(N[y++]=F[k++],1<M&&(N[y++]=F[k++]))}else{for(k=y-J;N[y++]=N[k++],N[y++]=N[k++],N[y++]=N[k++],2<(M-=3););M&&(N[y++]=N[k++],1<M&&(N[y++]=N[k++]))}break}}break}}while(u<g&&y<v);u-=M=w>>3,b&=(1<<(w-=M<<3))-1,i.next_in=u,i.next_out=y,i.avail_in=u<g?g-u+5:5-(u-g),i.avail_out=y<v?v-y+257:257-(y-v),r.hold=b,r.bits=w}},{}],49:[function(t,a,o){"use strict";var i=t("../utils/common"),l=t("./adler32"),r=t("./crc32"),u=t("./inffast"),g=t("./inftrees"),y=1,c=2,v=0,n=-2,d=1,h=852,_=592;function f(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(k){var F;return k&&k.state?(F=k.state,k.total_in=k.total_out=F.total=0,k.msg="",F.wrap&&(k.adler=1&F.wrap),F.mode=d,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new i.Buf32(h),F.distcode=F.distdyn=new i.Buf32(_),F.sane=1,F.back=-1,v):n}function S(k){var F;return k&&k.state?((F=k.state).wsize=0,F.whave=0,F.wnext=0,w(k)):n}function z(k,F){var s,N;return k&&k.state?(N=k.state,F<0?(s=0,F=-F):(s=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?n:(N.window!==null&&N.wbits!==F&&(N.window=null),N.wrap=s,N.wbits=F,S(k))):n}function B(k,F){var s,N;return k?(N=new b,(k.state=N).window=null,(s=z(k,F))!==v&&(k.state=null),s):n}var T,L,D=!0;function M(k){if(D){var F;for(T=new i.Buf32(512),L=new i.Buf32(32),F=0;F<144;)k.lens[F++]=8;for(;F<256;)k.lens[F++]=9;for(;F<280;)k.lens[F++]=7;for(;F<288;)k.lens[F++]=8;for(g(y,k.lens,0,288,T,0,k.work,{bits:9}),F=0;F<32;)k.lens[F++]=5;g(c,k.lens,0,32,L,0,k.work,{bits:5}),D=!1}k.lencode=T,k.lenbits=9,k.distcode=L,k.distbits=5}function J(k,F,s,N){var X,$=k.state;return $.window===null&&($.wsize=1<<$.wbits,$.wnext=0,$.whave=0,$.window=new i.Buf8($.wsize)),N>=$.wsize?(i.arraySet($.window,F,s-$.wsize,$.wsize,0),$.wnext=0,$.whave=$.wsize):(N<(X=$.wsize-$.wnext)&&(X=N),i.arraySet($.window,F,s-N,X,$.wnext),(N-=X)?(i.arraySet($.window,F,s-N,N,0),$.wnext=N,$.whave=$.wsize):($.wnext+=X,$.wnext===$.wsize&&($.wnext=0),$.whave<$.wsize&&($.whave+=X))),0}o.inflateReset=S,o.inflateReset2=z,o.inflateResetKeep=w,o.inflateInit=function(k){return B(k,15)},o.inflateInit2=B,o.inflate=function(k,F){var s,N,X,$,Q,U,V,I,x,K,Z,W,rt,it,q,tt,st,et,ut,lt,e,P,A,m,p=0,C=new i.Buf8(4),R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return n;(s=k.state).mode===12&&(s.mode=13),Q=k.next_out,X=k.output,V=k.avail_out,$=k.next_in,N=k.input,U=k.avail_in,I=s.hold,x=s.bits,K=U,Z=V,P=v;t:for(;;)switch(s.mode){case d:if(s.wrap===0){s.mode=13;break}for(;x<16;){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}if(2&s.wrap&&I===35615){C[s.check=0]=255&I,C[1]=I>>>8&255,s.check=r(s.check,C,2,0),x=I=0,s.mode=2;break}if(s.flags=0,s.head&&(s.head.done=!1),!(1&s.wrap)||(((255&I)<<8)+(I>>8))%31){k.msg="incorrect header check",s.mode=30;break}if((15&I)!=8){k.msg="unknown compression method",s.mode=30;break}if(x-=4,e=8+(15&(I>>>=4)),s.wbits===0)s.wbits=e;else if(e>s.wbits){k.msg="invalid window size",s.mode=30;break}s.dmax=1<<e,k.adler=s.check=1,s.mode=512&I?10:12,x=I=0;break;case 2:for(;x<16;){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}if(s.flags=I,(255&s.flags)!=8){k.msg="unknown compression method",s.mode=30;break}if(57344&s.flags){k.msg="unknown header flags set",s.mode=30;break}s.head&&(s.head.text=I>>8&1),512&s.flags&&(C[0]=255&I,C[1]=I>>>8&255,s.check=r(s.check,C,2,0)),x=I=0,s.mode=3;case 3:for(;x<32;){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}s.head&&(s.head.time=I),512&s.flags&&(C[0]=255&I,C[1]=I>>>8&255,C[2]=I>>>16&255,C[3]=I>>>24&255,s.check=r(s.check,C,4,0)),x=I=0,s.mode=4;case 4:for(;x<16;){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}s.head&&(s.head.xflags=255&I,s.head.os=I>>8),512&s.flags&&(C[0]=255&I,C[1]=I>>>8&255,s.check=r(s.check,C,2,0)),x=I=0,s.mode=5;case 5:if(1024&s.flags){for(;x<16;){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}s.length=I,s.head&&(s.head.extra_len=I),512&s.flags&&(C[0]=255&I,C[1]=I>>>8&255,s.check=r(s.check,C,2,0)),x=I=0}else s.head&&(s.head.extra=null);s.mode=6;case 6:if(1024&s.flags&&(U<(W=s.length)&&(W=U),W&&(s.head&&(e=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Array(s.head.extra_len)),i.arraySet(s.head.extra,N,$,W,e)),512&s.flags&&(s.check=r(s.check,N,W,$)),U-=W,$+=W,s.length-=W),s.length))break t;s.length=0,s.mode=7;case 7:if(2048&s.flags){if(U===0)break t;for(W=0;e=N[$+W++],s.head&&e&&s.length<65536&&(s.head.name+=String.fromCharCode(e)),e&&W<U;);if(512&s.flags&&(s.check=r(s.check,N,W,$)),U-=W,$+=W,e)break t}else s.head&&(s.head.name=null);s.length=0,s.mode=8;case 8:if(4096&s.flags){if(U===0)break t;for(W=0;e=N[$+W++],s.head&&e&&s.length<65536&&(s.head.comment+=String.fromCharCode(e)),e&&W<U;);if(512&s.flags&&(s.check=r(s.check,N,W,$)),U-=W,$+=W,e)break t}else s.head&&(s.head.comment=null);s.mode=9;case 9:if(512&s.flags){for(;x<16;){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}if(I!==(65535&s.check)){k.msg="header crc mismatch",s.mode=30;break}x=I=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),k.adler=s.check=0,s.mode=12;break;case 10:for(;x<32;){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}k.adler=s.check=f(I),x=I=0,s.mode=11;case 11:if(s.havedict===0)return k.next_out=Q,k.avail_out=V,k.next_in=$,k.avail_in=U,s.hold=I,s.bits=x,2;k.adler=s.check=1,s.mode=12;case 12:if(F===5||F===6)break t;case 13:if(s.last){I>>>=7&x,x-=7&x,s.mode=27;break}for(;x<3;){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}switch(s.last=1&I,x-=1,3&(I>>>=1)){case 0:s.mode=14;break;case 1:if(M(s),s.mode=20,F!==6)break;I>>>=2,x-=2;break t;case 2:s.mode=17;break;case 3:k.msg="invalid block type",s.mode=30}I>>>=2,x-=2;break;case 14:for(I>>>=7&x,x-=7&x;x<32;){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}if((65535&I)!=(I>>>16^65535)){k.msg="invalid stored block lengths",s.mode=30;break}if(s.length=65535&I,x=I=0,s.mode=15,F===6)break t;case 15:s.mode=16;case 16:if(W=s.length){if(U<W&&(W=U),V<W&&(W=V),W===0)break t;i.arraySet(X,N,$,W,Q),U-=W,$+=W,V-=W,Q+=W,s.length-=W;break}s.mode=12;break;case 17:for(;x<14;){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}if(s.nlen=257+(31&I),I>>>=5,x-=5,s.ndist=1+(31&I),I>>>=5,x-=5,s.ncode=4+(15&I),I>>>=4,x-=4,286<s.nlen||30<s.ndist){k.msg="too many length or distance symbols",s.mode=30;break}s.have=0,s.mode=18;case 18:for(;s.have<s.ncode;){for(;x<3;){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}s.lens[R[s.have++]]=7&I,I>>>=3,x-=3}for(;s.have<19;)s.lens[R[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,A={bits:s.lenbits},P=g(0,s.lens,0,19,s.lencode,0,s.work,A),s.lenbits=A.bits,P){k.msg="invalid code lengths set",s.mode=30;break}s.have=0,s.mode=19;case 19:for(;s.have<s.nlen+s.ndist;){for(;tt=(p=s.lencode[I&(1<<s.lenbits)-1])>>>16&255,st=65535&p,!((q=p>>>24)<=x);){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}if(st<16)I>>>=q,x-=q,s.lens[s.have++]=st;else{if(st===16){for(m=q+2;x<m;){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}if(I>>>=q,x-=q,s.have===0){k.msg="invalid bit length repeat",s.mode=30;break}e=s.lens[s.have-1],W=3+(3&I),I>>>=2,x-=2}else if(st===17){for(m=q+3;x<m;){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}x-=q,e=0,W=3+(7&(I>>>=q)),I>>>=3,x-=3}else{for(m=q+7;x<m;){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}x-=q,e=0,W=11+(127&(I>>>=q)),I>>>=7,x-=7}if(s.have+W>s.nlen+s.ndist){k.msg="invalid bit length repeat",s.mode=30;break}for(;W--;)s.lens[s.have++]=e}}if(s.mode===30)break;if(s.lens[256]===0){k.msg="invalid code -- missing end-of-block",s.mode=30;break}if(s.lenbits=9,A={bits:s.lenbits},P=g(y,s.lens,0,s.nlen,s.lencode,0,s.work,A),s.lenbits=A.bits,P){k.msg="invalid literal/lengths set",s.mode=30;break}if(s.distbits=6,s.distcode=s.distdyn,A={bits:s.distbits},P=g(c,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,A),s.distbits=A.bits,P){k.msg="invalid distances set",s.mode=30;break}if(s.mode=20,F===6)break t;case 20:s.mode=21;case 21:if(6<=U&&258<=V){k.next_out=Q,k.avail_out=V,k.next_in=$,k.avail_in=U,s.hold=I,s.bits=x,u(k,Z),Q=k.next_out,X=k.output,V=k.avail_out,$=k.next_in,N=k.input,U=k.avail_in,I=s.hold,x=s.bits,s.mode===12&&(s.back=-1);break}for(s.back=0;tt=(p=s.lencode[I&(1<<s.lenbits)-1])>>>16&255,st=65535&p,!((q=p>>>24)<=x);){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}if(tt&&!(240&tt)){for(et=q,ut=tt,lt=st;tt=(p=s.lencode[lt+((I&(1<<et+ut)-1)>>et)])>>>16&255,st=65535&p,!(et+(q=p>>>24)<=x);){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}I>>>=et,x-=et,s.back+=et}if(I>>>=q,x-=q,s.back+=q,s.length=st,tt===0){s.mode=26;break}if(32&tt){s.back=-1,s.mode=12;break}if(64&tt){k.msg="invalid literal/length code",s.mode=30;break}s.extra=15&tt,s.mode=22;case 22:if(s.extra){for(m=s.extra;x<m;){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}s.length+=I&(1<<s.extra)-1,I>>>=s.extra,x-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=23;case 23:for(;tt=(p=s.distcode[I&(1<<s.distbits)-1])>>>16&255,st=65535&p,!((q=p>>>24)<=x);){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}if(!(240&tt)){for(et=q,ut=tt,lt=st;tt=(p=s.distcode[lt+((I&(1<<et+ut)-1)>>et)])>>>16&255,st=65535&p,!(et+(q=p>>>24)<=x);){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}I>>>=et,x-=et,s.back+=et}if(I>>>=q,x-=q,s.back+=q,64&tt){k.msg="invalid distance code",s.mode=30;break}s.offset=st,s.extra=15&tt,s.mode=24;case 24:if(s.extra){for(m=s.extra;x<m;){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}s.offset+=I&(1<<s.extra)-1,I>>>=s.extra,x-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){k.msg="invalid distance too far back",s.mode=30;break}s.mode=25;case 25:if(V===0)break t;if(W=Z-V,s.offset>W){if((W=s.offset-W)>s.whave&&s.sane){k.msg="invalid distance too far back",s.mode=30;break}rt=W>s.wnext?(W-=s.wnext,s.wsize-W):s.wnext-W,W>s.length&&(W=s.length),it=s.window}else it=X,rt=Q-s.offset,W=s.length;for(V<W&&(W=V),V-=W,s.length-=W;X[Q++]=it[rt++],--W;);s.length===0&&(s.mode=21);break;case 26:if(V===0)break t;X[Q++]=s.length,V--,s.mode=21;break;case 27:if(s.wrap){for(;x<32;){if(U===0)break t;U--,I|=N[$++]<<x,x+=8}if(Z-=V,k.total_out+=Z,s.total+=Z,Z&&(k.adler=s.check=s.flags?r(s.check,X,Z,Q-Z):l(s.check,X,Z,Q-Z)),Z=V,(s.flags?I:f(I))!==s.check){k.msg="incorrect data check",s.mode=30;break}x=I=0}s.mode=28;case 28:if(s.wrap&&s.flags){for(;x<32;){if(U===0)break t;U--,I+=N[$++]<<x,x+=8}if(I!==(4294967295&s.total)){k.msg="incorrect length check",s.mode=30;break}x=I=0}s.mode=29;case 29:P=1;break t;case 30:P=-3;break t;case 31:return-4;case 32:default:return n}return k.next_out=Q,k.avail_out=V,k.next_in=$,k.avail_in=U,s.hold=I,s.bits=x,(s.wsize||Z!==k.avail_out&&s.mode<30&&(s.mode<27||F!==4))&&J(k,k.output,k.next_out,Z-k.avail_out)?(s.mode=31,-4):(K-=k.avail_in,Z-=k.avail_out,k.total_in+=K,k.total_out+=Z,s.total+=Z,s.wrap&&Z&&(k.adler=s.check=s.flags?r(s.check,X,Z,k.next_out-Z):l(s.check,X,Z,k.next_out-Z)),k.data_type=s.bits+(s.last?64:0)+(s.mode===12?128:0)+(s.mode===20||s.mode===15?256:0),(K==0&&Z===0||F===4)&&P===v&&(P=-5),P)},o.inflateEnd=function(k){if(!k||!k.state)return n;var F=k.state;return F.window&&(F.window=null),k.state=null,v},o.inflateGetHeader=function(k,F){var s;return k&&k.state&&2&(s=k.state).wrap?((s.head=F).done=!1,v):n},o.inflateSetDictionary=function(k,F){var s,N=F.length;return k&&k.state?(s=k.state).wrap!==0&&s.mode!==11?n:s.mode===11&&l(1,F,N,0)!==s.check?-3:J(k,F,N,N)?(s.mode=31,-4):(s.havedict=1,v):n},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,a,o){"use strict";var i=t("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(y,c,v,n,d,h,_,f){var b,w,S,z,B,T,L,D,M,J=f.bits,k=0,F=0,s=0,N=0,X=0,$=0,Q=0,U=0,V=0,I=0,x=null,K=0,Z=new i.Buf16(16),W=new i.Buf16(16),rt=null,it=0;for(k=0;k<=15;k++)Z[k]=0;for(F=0;F<n;F++)Z[c[v+F]]++;for(X=J,N=15;1<=N&&Z[N]===0;N--);if(N<X&&(X=N),N===0)return d[h++]=20971520,d[h++]=20971520,f.bits=1,0;for(s=1;s<N&&Z[s]===0;s++);for(X<s&&(X=s),k=U=1;k<=15;k++)if(U<<=1,(U-=Z[k])<0)return-1;if(0<U&&(y===0||N!==1))return-1;for(W[1]=0,k=1;k<15;k++)W[k+1]=W[k]+Z[k];for(F=0;F<n;F++)c[v+F]!==0&&(_[W[c[v+F]]++]=F);if(T=y===0?(x=rt=_,19):y===1?(x=l,K-=257,rt=r,it-=257,256):(x=u,rt=g,-1),k=s,B=h,Q=F=I=0,S=-1,z=(V=1<<($=X))-1,y===1&&852<V||y===2&&592<V)return 1;for(;;){for(L=k-Q,M=_[F]<T?(D=0,_[F]):_[F]>T?(D=rt[it+_[F]],x[K+_[F]]):(D=96,0),b=1<<k-Q,s=w=1<<$;d[B+(I>>Q)+(w-=b)]=L<<24|D<<16|M|0,w!==0;);for(b=1<<k-1;I&b;)b>>=1;if(b!==0?(I&=b-1,I+=b):I=0,F++,--Z[k]==0){if(k===N)break;k=c[v+_[F]]}if(X<k&&(I&z)!==S){for(Q===0&&(Q=X),B+=s,U=1<<($=k-Q);$+Q<N&&!((U-=Z[$+Q])<=0);)$++,U<<=1;if(V+=1<<$,y===1&&852<V||y===2&&592<V)return 1;d[S=I&z]=X<<24|$<<16|B-h|0}}return I!==0&&(d[B+I]=k-Q<<24|64<<16|0),f.bits=X,0}},{"../utils/common":41}],51:[function(t,a,o){"use strict";a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,a,o){"use strict";var i=t("../utils/common"),l=0,r=1;function u(p){for(var C=p.length;0<=--C;)p[C]=0}var g=0,y=29,c=256,v=c+1+y,n=30,d=19,h=2*v+1,_=15,f=16,b=7,w=256,S=16,z=17,B=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(v+2));u(J);var k=new Array(2*n);u(k);var F=new Array(512);u(F);var s=new Array(256);u(s);var N=new Array(y);u(N);var X,$,Q,U=new Array(n);function V(p,C,R,O,E){this.static_tree=p,this.extra_bits=C,this.extra_base=R,this.elems=O,this.max_length=E,this.has_stree=p&&p.length}function I(p,C){this.dyn_tree=p,this.max_code=0,this.stat_desc=C}function x(p){return p<256?F[p]:F[256+(p>>>7)]}function K(p,C){p.pending_buf[p.pending++]=255&C,p.pending_buf[p.pending++]=C>>>8&255}function Z(p,C,R){p.bi_valid>f-R?(p.bi_buf|=C<<p.bi_valid&65535,K(p,p.bi_buf),p.bi_buf=C>>f-p.bi_valid,p.bi_valid+=R-f):(p.bi_buf|=C<<p.bi_valid&65535,p.bi_valid+=R)}function W(p,C,R){Z(p,R[2*C],R[2*C+1])}function rt(p,C){for(var R=0;R|=1&p,p>>>=1,R<<=1,0<--C;);return R>>>1}function it(p,C,R){var O,E,j=new Array(_+1),G=0;for(O=1;O<=_;O++)j[O]=G=G+R[O-1]<<1;for(E=0;E<=C;E++){var H=p[2*E+1];H!==0&&(p[2*E]=rt(j[H]++,H))}}function q(p){var C;for(C=0;C<v;C++)p.dyn_ltree[2*C]=0;for(C=0;C<n;C++)p.dyn_dtree[2*C]=0;for(C=0;C<d;C++)p.bl_tree[2*C]=0;p.dyn_ltree[2*w]=1,p.opt_len=p.static_len=0,p.last_lit=p.matches=0}function tt(p){8<p.bi_valid?K(p,p.bi_buf):0<p.bi_valid&&(p.pending_buf[p.pending++]=p.bi_buf),p.bi_buf=0,p.bi_valid=0}function st(p,C,R,O){var E=2*C,j=2*R;return p[E]<p[j]||p[E]===p[j]&&O[C]<=O[R]}function et(p,C,R){for(var O=p.heap[R],E=R<<1;E<=p.heap_len&&(E<p.heap_len&&st(C,p.heap[E+1],p.heap[E],p.depth)&&E++,!st(C,O,p.heap[E],p.depth));)p.heap[R]=p.heap[E],R=E,E<<=1;p.heap[R]=O}function ut(p,C,R){var O,E,j,G,H=0;if(p.last_lit!==0)for(;O=p.pending_buf[p.d_buf+2*H]<<8|p.pending_buf[p.d_buf+2*H+1],E=p.pending_buf[p.l_buf+H],H++,O===0?W(p,E,C):(W(p,(j=s[E])+c+1,C),(G=T[j])!==0&&Z(p,E-=N[j],G),W(p,j=x(--O),R),(G=L[j])!==0&&Z(p,O-=U[j],G)),H<p.last_lit;);W(p,w,C)}function lt(p,C){var R,O,E,j=C.dyn_tree,G=C.stat_desc.static_tree,H=C.stat_desc.has_stree,Y=C.stat_desc.elems,at=-1;for(p.heap_len=0,p.heap_max=h,R=0;R<Y;R++)j[2*R]!==0?(p.heap[++p.heap_len]=at=R,p.depth[R]=0):j[2*R+1]=0;for(;p.heap_len<2;)j[2*(E=p.heap[++p.heap_len]=at<2?++at:0)]=1,p.depth[E]=0,p.opt_len--,H&&(p.static_len-=G[2*E+1]);for(C.max_code=at,R=p.heap_len>>1;1<=R;R--)et(p,j,R);for(E=Y;R=p.heap[1],p.heap[1]=p.heap[p.heap_len--],et(p,j,1),O=p.heap[1],p.heap[--p.heap_max]=R,p.heap[--p.heap_max]=O,j[2*E]=j[2*R]+j[2*O],p.depth[E]=(p.depth[R]>=p.depth[O]?p.depth[R]:p.depth[O])+1,j[2*R+1]=j[2*O+1]=E,p.heap[1]=E++,et(p,j,1),2<=p.heap_len;);p.heap[--p.heap_max]=p.heap[1],function(nt,_t){var kt,mt,xt,ht,zt,Ut,gt=_t.dyn_tree,Vt=_t.max_code,Be=_t.stat_desc.static_tree,Pe=_t.stat_desc.has_stree,Re=_t.stat_desc.extra_bits,Xt=_t.stat_desc.extra_base,St=_t.stat_desc.max_length,At=0;for(ht=0;ht<=_;ht++)nt.bl_count[ht]=0;for(gt[2*nt.heap[nt.heap_max]+1]=0,kt=nt.heap_max+1;kt<h;kt++)St<(ht=gt[2*gt[2*(mt=nt.heap[kt])+1]+1]+1)&&(ht=St,At++),gt[2*mt+1]=ht,Vt<mt||(nt.bl_count[ht]++,zt=0,Xt<=mt&&(zt=Re[mt-Xt]),Ut=gt[2*mt],nt.opt_len+=Ut*(ht+zt),Pe&&(nt.static_len+=Ut*(Be[2*mt+1]+zt)));if(At!==0){do{for(ht=St-1;nt.bl_count[ht]===0;)ht--;nt.bl_count[ht]--,nt.bl_count[ht+1]+=2,nt.bl_count[St]--,At-=2}while(0<At);for(ht=St;ht!==0;ht--)for(mt=nt.bl_count[ht];mt!==0;)Vt<(xt=nt.heap[--kt])||(gt[2*xt+1]!==ht&&(nt.opt_len+=(ht-gt[2*xt+1])*gt[2*xt],gt[2*xt+1]=ht),mt--)}}(p,C),it(j,at,p.bl_count)}function e(p,C,R){var O,E,j=-1,G=C[1],H=0,Y=7,at=4;for(G===0&&(Y=138,at=3),C[2*(R+1)+1]=65535,O=0;O<=R;O++)E=G,G=C[2*(O+1)+1],++H<Y&&E===G||(H<at?p.bl_tree[2*E]+=H:E!==0?(E!==j&&p.bl_tree[2*E]++,p.bl_tree[2*S]++):H<=10?p.bl_tree[2*z]++:p.bl_tree[2*B]++,j=E,at=(H=0)===G?(Y=138,3):E===G?(Y=6,3):(Y=7,4))}function P(p,C,R){var O,E,j=-1,G=C[1],H=0,Y=7,at=4;for(G===0&&(Y=138,at=3),O=0;O<=R;O++)if(E=G,G=C[2*(O+1)+1],!(++H<Y&&E===G)){if(H<at)for(;W(p,E,p.bl_tree),--H!=0;);else E!==0?(E!==j&&(W(p,E,p.bl_tree),H--),W(p,S,p.bl_tree),Z(p,H-3,2)):H<=10?(W(p,z,p.bl_tree),Z(p,H-3,3)):(W(p,B,p.bl_tree),Z(p,H-11,7));j=E,at=(H=0)===G?(Y=138,3):E===G?(Y=6,3):(Y=7,4)}}u(U);var A=!1;function m(p,C,R,O){Z(p,(g<<1)+(O?1:0),3),function(E,j,G,H){tt(E),H&&(K(E,G),K(E,~G)),i.arraySet(E.pending_buf,E.window,j,G,E.pending),E.pending+=G}(p,C,R,!0)}o._tr_init=function(p){A||(function(){var C,R,O,E,j,G=new Array(_+1);for(E=O=0;E<y-1;E++)for(N[E]=O,C=0;C<1<<T[E];C++)s[O++]=E;for(s[O-1]=E,E=j=0;E<16;E++)for(U[E]=j,C=0;C<1<<L[E];C++)F[j++]=E;for(j>>=7;E<n;E++)for(U[E]=j<<7,C=0;C<1<<L[E]-7;C++)F[256+j++]=E;for(R=0;R<=_;R++)G[R]=0;for(C=0;C<=143;)J[2*C+1]=8,C++,G[8]++;for(;C<=255;)J[2*C+1]=9,C++,G[9]++;for(;C<=279;)J[2*C+1]=7,C++,G[7]++;for(;C<=287;)J[2*C+1]=8,C++,G[8]++;for(it(J,v+1,G),C=0;C<n;C++)k[2*C+1]=5,k[2*C]=rt(C,5);X=new V(J,T,c+1,v,_),$=new V(k,L,0,n,_),Q=new V(new Array(0),D,0,d,b)}(),A=!0),p.l_desc=new I(p.dyn_ltree,X),p.d_desc=new I(p.dyn_dtree,$),p.bl_desc=new I(p.bl_tree,Q),p.bi_buf=0,p.bi_valid=0,q(p)},o._tr_stored_block=m,o._tr_flush_block=function(p,C,R,O){var E,j,G=0;0<p.level?(p.strm.data_type===2&&(p.strm.data_type=function(H){var Y,at=4093624447;for(Y=0;Y<=31;Y++,at>>>=1)if(1&at&&H.dyn_ltree[2*Y]!==0)return l;if(H.dyn_ltree[18]!==0||H.dyn_ltree[20]!==0||H.dyn_ltree[26]!==0)return r;for(Y=32;Y<c;Y++)if(H.dyn_ltree[2*Y]!==0)return r;return l}(p)),lt(p,p.l_desc),lt(p,p.d_desc),G=function(H){var Y;for(e(H,H.dyn_ltree,H.l_desc.max_code),e(H,H.dyn_dtree,H.d_desc.max_code),lt(H,H.bl_desc),Y=d-1;3<=Y&&H.bl_tree[2*M[Y]+1]===0;Y--);return H.opt_len+=3*(Y+1)+5+5+4,Y}(p),E=p.opt_len+3+7>>>3,(j=p.static_len+3+7>>>3)<=E&&(E=j)):E=j=R+5,R+4<=E&&C!==-1?m(p,C,R,O):p.strategy===4||j===E?(Z(p,2+(O?1:0),3),ut(p,J,k)):(Z(p,4+(O?1:0),3),function(H,Y,at,nt){var _t;for(Z(H,Y-257,5),Z(H,at-1,5),Z(H,nt-4,4),_t=0;_t<nt;_t++)Z(H,H.bl_tree[2*M[_t]+1],3);P(H,H.dyn_ltree,Y-1),P(H,H.dyn_dtree,at-1)}(p,p.l_desc.max_code+1,p.d_desc.max_code+1,G+1),ut(p,p.dyn_ltree,p.dyn_dtree)),q(p),O&&tt(p)},o._tr_tally=function(p,C,R){return p.pending_buf[p.d_buf+2*p.last_lit]=C>>>8&255,p.pending_buf[p.d_buf+2*p.last_lit+1]=255&C,p.pending_buf[p.l_buf+p.last_lit]=255&R,p.last_lit++,C===0?p.dyn_ltree[2*R]++:(p.matches++,C--,p.dyn_ltree[2*(s[R]+c+1)]++,p.dyn_dtree[2*x(C)]++),p.last_lit===p.lit_bufsize-1},o._tr_align=function(p){Z(p,2,3),W(p,w,J),function(C){C.bi_valid===16?(K(C,C.bi_buf),C.bi_buf=0,C.bi_valid=0):8<=C.bi_valid&&(C.pending_buf[C.pending++]=255&C.bi_buf,C.bi_buf>>=8,C.bi_valid-=8)}(p)}},{"../utils/common":41}],53:[function(t,a,o){"use strict";a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,a,o){(function(i){(function(l,r){"use strict";if(!l.setImmediate){var u,g,y,c,v=1,n={},d=!1,h=l.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(l);_=_&&_.setTimeout?_:l,u={}.toString.call(l.process)==="[object process]"?function(S){process.nextTick(function(){b(S)})}:function(){if(l.postMessage&&!l.importScripts){var S=!0,z=l.onmessage;return l.onmessage=function(){S=!1},l.postMessage("","*"),l.onmessage=z,S}}()?(c="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",w,!1):l.attachEvent("onmessage",w),function(S){l.postMessage(c+S,"*")}):l.MessageChannel?((y=new MessageChannel).port1.onmessage=function(S){b(S.data)},function(S){y.port2.postMessage(S)}):h&&"onreadystatechange"in h.createElement("script")?(g=h.documentElement,function(S){var z=h.createElement("script");z.onreadystatechange=function(){b(S),z.onreadystatechange=null,g.removeChild(z),z=null},g.appendChild(z)}):function(S){setTimeout(b,0,S)},_.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var z=new Array(arguments.length-1),B=0;B<z.length;B++)z[B]=arguments[B+1];var T={callback:S,args:z};return n[v]=T,u(v),v++},_.clearImmediate=f}function f(S){delete n[S]}function b(S){if(d)setTimeout(b,0,S);else{var z=n[S];if(z){d=!0;try{(function(B){var T=B.callback,L=B.args;switch(L.length){case 0:T();break;case 1:T(L[0]);break;case 2:T(L[0],L[1]);break;case 3:T(L[0],L[1],L[2]);break;default:T.apply(r,L)}})(z)}finally{f(S),d=!1}}}}function w(S){S.source===l&&typeof S.data=="string"&&S.data.indexOf(c)===0&&b(+S.data.slice(c.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var Tt,ot,ie,He,bt,te,se,ae,oe,Mt,Lt,$t,Ge,Et={},le=[],Ke=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Bt=Array.isArray;function vt(t,a){for(var o in a)t[o]=a[o];return t}function Wt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Zt(t,a,o){var i,l,r,u={};for(r in a)r=="key"?i=a[r]:r=="ref"?l=a[r]:u[r]=a[r];if(arguments.length>2&&(u.children=arguments.length>3?Tt.call(arguments,2):o),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)u[r]===void 0&&(u[r]=t.defaultProps[r]);return Ft(t,u,i,l,null)}function Ft(t,a,o,i,l){var r={type:t,props:a,key:o,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:l??++ie,__i:-1,__u:0};return l==null&&ot.vnode!=null&&ot.vnode(r),r}function Pt(t){return t.children}function Ot(t,a){this.props=t,this.context=a}function wt(t,a){if(a==null)return t.__?wt(t.__,t.__i+1):null;for(var o;a<t.__k.length;a++)if((o=t.__k[a])!=null&&o.__e!=null)return o.__e;return typeof t.type=="function"?wt(t):null}function ue(t){var a,o;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,a=0;a<t.__k.length;a++)if((o=t.__k[a])!=null&&o.__e!=null){t.__e=t.__c.base=o.__e;break}return ue(t)}}function ee(t){(!t.__d&&(t.__d=!0)&&bt.push(t)&&!Dt.__r++||te!=ot.debounceRendering)&&((te=ot.debounceRendering)||se)(Dt)}function Dt(){for(var t,a,o,i,l,r,u,g=1;bt.length;)bt.length>g&&bt.sort(ae),t=bt.shift(),g=bt.length,t.__d&&(o=void 0,i=void 0,l=(i=(a=t).__v).__e,r=[],u=[],a.__P&&((o=vt({},i)).__v=i.__v+1,ot.vnode&&ot.vnode(o),Ht(a.__P,o,i,a.__n,a.__P.namespaceURI,32&i.__u?[l]:null,r,l??wt(i),!!(32&i.__u),u),o.__v=i.__v,o.__.__k[o.__i]=o,fe(r,o,u),i.__e=i.__=null,o.__e!=l&&ue(o)));Dt.__r=0}function he(t,a,o,i,l,r,u,g,y,c,v){var n,d,h,_,f,b,w,S=i&&i.__k||le,z=a.length;for(y=Je(o,a,S,y,z),n=0;n<z;n++)(h=o.__k[n])!=null&&(d=h.__i==-1?Et:S[h.__i]||Et,h.__i=n,b=Ht(t,h,d,l,r,u,g,y,c,v),_=h.__e,h.ref&&d.ref!=h.ref&&(d.ref&&Gt(d.ref,null,h),v.push(h.ref,h.__c||_,h)),f==null&&_!=null&&(f=_),(w=!!(4&h.__u))||d.__k===h.__k?y=ce(h,y,t,w):typeof h.type=="function"&&b!==void 0?y=b:_&&(y=_.nextSibling),h.__u&=-7);return o.__e=f,y}function Je(t,a,o,i,l){var r,u,g,y,c,v=o.length,n=v,d=0;for(t.__k=new Array(l),r=0;r<l;r++)(u=a[r])!=null&&typeof u!="boolean"&&typeof u!="function"?(typeof u=="string"||typeof u=="number"||typeof u=="bigint"||u.constructor==String?u=t.__k[r]=Ft(null,u,null,null,null):Bt(u)?u=t.__k[r]=Ft(Pt,{children:u},null,null,null):u.constructor==null&&u.__b>0?u=t.__k[r]=Ft(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):t.__k[r]=u,y=r+d,u.__=t,u.__b=t.__b+1,g=null,(c=u.__i=Ye(u,o,y,n))!=-1&&(n--,(g=o[c])&&(g.__u|=2)),g==null||g.__v==null?(c==-1&&(l>v?d--:l<v&&d++),typeof u.type!="function"&&(u.__u|=4)):c!=y&&(c==y-1?d--:c==y+1?d++:(c>y?d--:d++,u.__u|=4))):t.__k[r]=null;if(n)for(r=0;r<v;r++)(g=o[r])!=null&&!(2&g.__u)&&(g.__e==i&&(i=wt(g)),pe(g,g));return i}function ce(t,a,o,i){var l,r;if(typeof t.type=="function"){for(l=t.__k,r=0;l&&r<l.length;r++)l[r]&&(l[r].__=t,a=ce(l[r],a,o,i));return a}t.__e!=a&&(i&&(a&&t.type&&!a.parentNode&&(a=wt(t)),o.insertBefore(t.__e,a||null)),a=t.__e);do a=a&&a.nextSibling;while(a!=null&&a.nodeType==8);return a}function Ye(t,a,o,i){var l,r,u,g=t.key,y=t.type,c=a[o],v=c!=null&&(2&c.__u)==0;if(c===null&&g==null||v&&g==c.key&&y==c.type)return o;if(i>(v?1:0)){for(l=o-1,r=o+1;l>=0||r<a.length;)if((c=a[u=l>=0?l--:r++])!=null&&!(2&c.__u)&&g==c.key&&y==c.type)return u}return-1}function re(t,a,o){a[0]=="-"?t.setProperty(a,o??""):t[a]=o==null?"":typeof o!="number"||Ke.test(a)?o:o+"px"}function It(t,a,o,i,l){var r,u;t:if(a=="style")if(typeof o=="string")t.style.cssText=o;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(a in i)o&&a in o||re(t.style,a,"");if(o)for(a in o)i&&o[a]==i[a]||re(t.style,a,o[a])}else if(a[0]=="o"&&a[1]=="n")r=a!=(a=a.replace(oe,"$1")),u=a.toLowerCase(),a=u in t||a=="onFocusOut"||a=="onFocusIn"?u.slice(2):a.slice(2),t.l||(t.l={}),t.l[a+r]=o,o?i?o.u=i.u:(o.u=Mt,t.addEventListener(a,r?$t:Lt,r)):t.removeEventListener(a,r?$t:Lt,r);else{if(l=="http://www.w3.org/2000/svg")a=a.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(a!="width"&&a!="height"&&a!="href"&&a!="list"&&a!="form"&&a!="tabIndex"&&a!="download"&&a!="rowSpan"&&a!="colSpan"&&a!="role"&&a!="popover"&&a in t)try{t[a]=o??"";break t}catch{}typeof o=="function"||(o==null||o===!1&&a[4]!="-"?t.removeAttribute(a):t.setAttribute(a,a=="popover"&&o==1?"":o))}}function ne(t){return function(a){if(this.l){var o=this.l[a.type+t];if(a.t==null)a.t=Mt++;else if(a.t<o.u)return;return o(ot.event?ot.event(a):a)}}}function Ht(t,a,o,i,l,r,u,g,y,c){var v,n,d,h,_,f,b,w,S,z,B,T,L,D,M,J,k,F=a.type;if(a.constructor!=null)return null;128&o.__u&&(y=!!(32&o.__u),r=[g=a.__e=o.__e]),(v=ot.__b)&&v(a);t:if(typeof F=="function")try{if(w=a.props,S="prototype"in F&&F.prototype.render,z=(v=F.contextType)&&i[v.__c],B=v?z?z.props.value:v.__:i,o.__c?b=(n=a.__c=o.__c).__=n.__E:(S?a.__c=n=new F(w,B):(a.__c=n=new Ot(w,B),n.constructor=F,n.render=Ve),z&&z.sub(n),n.state||(n.state={}),n.__n=i,d=n.__d=!0,n.__h=[],n._sb=[]),S&&n.__s==null&&(n.__s=n.state),S&&F.getDerivedStateFromProps!=null&&(n.__s==n.state&&(n.__s=vt({},n.__s)),vt(n.__s,F.getDerivedStateFromProps(w,n.__s))),h=n.props,_=n.state,n.__v=a,d)S&&F.getDerivedStateFromProps==null&&n.componentWillMount!=null&&n.componentWillMount(),S&&n.componentDidMount!=null&&n.__h.push(n.componentDidMount);else{if(S&&F.getDerivedStateFromProps==null&&w!==h&&n.componentWillReceiveProps!=null&&n.componentWillReceiveProps(w,B),a.__v==o.__v||!n.__e&&n.shouldComponentUpdate!=null&&n.shouldComponentUpdate(w,n.__s,B)===!1){for(a.__v!=o.__v&&(n.props=w,n.state=n.__s,n.__d=!1),a.__e=o.__e,a.__k=o.__k,a.__k.some(function(s){s&&(s.__=a)}),T=0;T<n._sb.length;T++)n.__h.push(n._sb[T]);n._sb=[],n.__h.length&&u.push(n);break t}n.componentWillUpdate!=null&&n.componentWillUpdate(w,n.__s,B),S&&n.componentDidUpdate!=null&&n.__h.push(function(){n.componentDidUpdate(h,_,f)})}if(n.context=B,n.props=w,n.__P=t,n.__e=!1,L=ot.__r,D=0,S){for(n.state=n.__s,n.__d=!1,L&&L(a),v=n.render(n.props,n.state,n.context),M=0;M<n._sb.length;M++)n.__h.push(n._sb[M]);n._sb=[]}else do n.__d=!1,L&&L(a),v=n.render(n.props,n.state,n.context),n.state=n.__s;while(n.__d&&++D<25);n.state=n.__s,n.getChildContext!=null&&(i=vt(vt({},i),n.getChildContext())),S&&!d&&n.getSnapshotBeforeUpdate!=null&&(f=n.getSnapshotBeforeUpdate(h,_)),J=v,v!=null&&v.type===Pt&&v.key==null&&(J=de(v.props.children)),g=he(t,Bt(J)?J:[J],a,o,i,l,r,u,g,y,c),n.base=a.__e,a.__u&=-161,n.__h.length&&u.push(n),b&&(n.__E=n.__=null)}catch(s){if(a.__v=null,y||r!=null)if(s.then){for(a.__u|=y?160:128;g&&g.nodeType==8&&g.nextSibling;)g=g.nextSibling;r[r.indexOf(g)]=null,a.__e=g}else{for(k=r.length;k--;)Wt(r[k]);jt(a)}else a.__e=o.__e,a.__k=o.__k,s.then||jt(a);ot.__e(s,a,o)}else r==null&&a.__v==o.__v?(a.__k=o.__k,a.__e=o.__e):g=a.__e=qe(o.__e,a,o,i,l,r,u,y,c);return(v=ot.diffed)&&v(a),128&a.__u?void 0:g}function jt(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(jt)}function fe(t,a,o){for(var i=0;i<o.length;i++)Gt(o[i],o[++i],o[++i]);ot.__c&&ot.__c(a,t),t.some(function(l){try{t=l.__h,l.__h=[],t.some(function(r){r.call(l)})}catch(r){ot.__e(r,l.__v)}})}function de(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Bt(t)?t.map(de):vt({},t)}function qe(t,a,o,i,l,r,u,g,y){var c,v,n,d,h,_,f,b=o.props||Et,w=a.props,S=a.type;if(S=="svg"?l="http://www.w3.org/2000/svg":S=="math"?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),r!=null){for(c=0;c<r.length;c++)if((h=r[c])&&"setAttribute"in h==!!S&&(S?h.localName==S:h.nodeType==3)){t=h,r[c]=null;break}}if(t==null){if(S==null)return document.createTextNode(w);t=document.createElementNS(l,S,w.is&&w),g&&(ot.__m&&ot.__m(a,r),g=!1),r=null}if(S==null)b===w||g&&t.data==w||(t.data=w);else{if(r=r&&Tt.call(t.childNodes),!g&&r!=null)for(b={},c=0;c<t.attributes.length;c++)b[(h=t.attributes[c]).name]=h.value;for(c in b)if(h=b[c],c!="children"){if(c=="dangerouslySetInnerHTML")n=h;else if(!(c in w)){if(c=="value"&&"defaultValue"in w||c=="checked"&&"defaultChecked"in w)continue;It(t,c,null,h,l)}}for(c in w)h=w[c],c=="children"?d=h:c=="dangerouslySetInnerHTML"?v=h:c=="value"?_=h:c=="checked"?f=h:g&&typeof h!="function"||b[c]===h||It(t,c,h,b[c],l);if(v)g||n&&(v.__html==n.__html||v.__html==t.innerHTML)||(t.innerHTML=v.__html),a.__k=[];else if(n&&(t.innerHTML=""),he(a.type=="template"?t.content:t,Bt(d)?d:[d],a,o,i,S=="foreignObject"?"http://www.w3.org/1999/xhtml":l,r,u,r?r[0]:o.__k&&wt(o,0),g,y),r!=null)for(c=r.length;c--;)Wt(r[c]);g||(c="value",S=="progress"&&_==null?t.removeAttribute("value"):_!=null&&(_!==t[c]||S=="progress"&&!_||S=="option"&&_!=b[c])&&It(t,c,_,b[c],l),c="checked",f!=null&&f!=t[c]&&It(t,c,f,b[c],l))}return t}function Gt(t,a,o){try{if(typeof t=="function"){var i=typeof t.__u=="function";i&&t.__u(),i&&a==null||(t.__u=t(a))}else t.current=a}catch(l){ot.__e(l,o)}}function pe(t,a,o){var i,l;if(ot.unmount&&ot.unmount(t),(i=t.ref)&&(i.current&&i.current!=t.__e||Gt(i,null,a)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){ot.__e(r,a)}i.base=i.__P=null}if(i=t.__k)for(l=0;l<i.length;l++)i[l]&&pe(i[l],a,o||typeof t.type!="function");o||Wt(t.__e),t.__c=t.__=t.__e=void 0}function Ve(t,a,o){return this.constructor(t,o)}function _e(t,a,o){var i,l,r,u;a==document&&(a=document.documentElement),ot.__&&ot.__(t,a),l=(i=typeof o=="function")?null:o&&o.__k||a.__k,r=[],u=[],Ht(a,t=(!i&&o||a).__k=Zt(Pt,null,[t]),l||Et,Et,a.namespaceURI,!i&&o?[o]:l?null:a.firstChild?Tt.call(a.childNodes):null,r,!i&&o?o:l?l.__e:a.firstChild,i,u),fe(r,t,u)}Tt=le.slice,ot={__e:function(t,a,o,i){for(var l,r,u;a=a.__;)if((l=a.__c)&&!l.__)try{if((r=l.constructor)&&r.getDerivedStateFromError!=null&&(l.setState(r.getDerivedStateFromError(t)),u=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(t,i||{}),u=l.__d),u)return l.__E=l}catch(g){t=g}throw t}},ie=0,He=function(t){return t!=null&&t.constructor==null},Ot.prototype.setState=function(t,a){var o;o=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=vt({},this.state),typeof t=="function"&&(t=t(vt({},o),this.props)),t&&vt(o,t),t!=null&&this.__v&&(a&&this._sb.push(a),ee(this))},Ot.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ee(this))},Ot.prototype.render=Pt,bt=[],se=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ae=function(t,a){return t.__v.__b-a.__v.__b},Dt.__r=0,oe=/(PointerCapture)$|Capture$/i,Mt=0,Lt=ne(!1),$t=ne(!0),Ge=0;var Nt,ct,Kt,me,Jt=0,Se=[],ft=ot,ge=ft.__b,ve=ft.__r,be=ft.diffed,ye=ft.__c,we=ft.unmount,ke=ft.__;function Ce(t,a){ft.__h&&ft.__h(ct,t,Jt||a),Jt=0;var o=ct.__H||(ct.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({}),o.__[t]}function dt(t){return Jt=1,Xe(ze,t)}function Xe(t,a,o){var i=Ce(Nt++,2);if(i.t=t,!i.__c&&(i.__=[o?o(a):ze(void 0,a),function(g){var y=i.__N?i.__N[0]:i.__[0],c=i.t(y,g);y!==c&&(i.__N=[c,i.__[1]],i.__c.setState({}))}],i.__c=ct,!ct.__f)){var l=function(g,y,c){if(!i.__c.__H)return!0;var v=i.__c.__H.__.filter(function(d){return!!d.__c});if(v.every(function(d){return!d.__N}))return!r||r.call(this,g,y,c);var n=i.__c.props!==g;return v.forEach(function(d){if(d.__N){var h=d.__[0];d.__=d.__N,d.__N=void 0,h!==d.__[0]&&(n=!0)}}),r&&r.call(this,g,y,c)||n};ct.__f=!0;var r=ct.shouldComponentUpdate,u=ct.componentWillUpdate;ct.componentWillUpdate=function(g,y,c){if(this.__e){var v=r;r=void 0,l(g,y,c),r=v}u&&u.call(this,g,y,c)},ct.shouldComponentUpdate=l}return i.__N||i.__}function Ee(t,a){var o=Ce(Nt++,7);return er(o.__H,a)&&(o.__=t(),o.__H=a,o.__h=t),o.__}function Qe(){for(var t;t=Se.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Rt),t.__H.__h.forEach(Yt),t.__H.__h=[]}catch(a){t.__H.__h=[],ft.__e(a,t.__v)}}ft.__b=function(t){ct=null,ge&&ge(t)},ft.__=function(t,a){t&&a.__k&&a.__k.__m&&(t.__m=a.__k.__m),ke&&ke(t,a)},ft.__r=function(t){ve&&ve(t),Nt=0;var a=(ct=t.__c).__H;a&&(Kt===ct?(a.__h=[],ct.__h=[],a.__.forEach(function(o){o.__N&&(o.__=o.__N),o.u=o.__N=void 0})):(a.__h.forEach(Rt),a.__h.forEach(Yt),a.__h=[],Nt=0)),Kt=ct},ft.diffed=function(t){be&&be(t);var a=t.__c;a&&a.__H&&(a.__H.__h.length&&(Se.push(a)!==1&&me===ft.requestAnimationFrame||((me=ft.requestAnimationFrame)||tr)(Qe)),a.__H.__.forEach(function(o){o.u&&(o.__H=o.u),o.u=void 0})),Kt=ct=null},ft.__c=function(t,a){a.some(function(o){try{o.__h.forEach(Rt),o.__h=o.__h.filter(function(i){return!i.__||Yt(i)})}catch(i){a.some(function(l){l.__h&&(l.__h=[])}),a=[],ft.__e(i,o.__v)}}),ye&&ye(t,a)},ft.unmount=function(t){we&&we(t);var a,o=t.__c;o&&o.__H&&(o.__H.__.forEach(function(i){try{Rt(i)}catch(l){a=l}}),o.__H=void 0,a&&ft.__e(a,o.__v))};var xe=typeof requestAnimationFrame=="function";function tr(t){var a,o=function(){clearTimeout(i),xe&&cancelAnimationFrame(a),setTimeout(t)},i=setTimeout(o,35);xe&&(a=requestAnimationFrame(o))}function Rt(t){var a=ct,o=t.__c;typeof o=="function"&&(t.__c=void 0,o()),ct=a}function Yt(t){var a=ct;t.__c=t.__(),ct=a}function er(t,a){return!t||t.length!==a.length||a.some(function(o,i){return o!==t[i]})}function ze(t,a){return typeof a=="function"?a(t):a}var Ie=function(t,a,o,i){var l;a[0]=0;for(var r=1;r<a.length;r++){var u=a[r++],g=a[r]?(a[0]|=u?1:2,o[a[r++]]):a[++r];u===3?i[0]=g:u===4?i[1]=Object.assign(i[1]||{},g):u===5?(i[1]=i[1]||{})[a[++r]]=g:u===6?i[1][a[++r]]+=g+"":u?(l=t.apply(g,Ie(t,g,o,["",null])),i.push(l),g[0]?a[0]|=2:(a[r-2]=0,a[r]=l)):i.push(g)}return i},Ae=new Map;function Fe(t){var a=Ae.get(this);return a||(a=new Map,Ae.set(this,a)),(a=Ie(this,a.get(t)||(a.set(t,a=function(o){for(var i,l,r=1,u="",g="",y=[0],c=function(d){r===1&&(d||(u=u.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?y.push(0,d,u):r===3&&(d||u)?(y.push(3,d,u),r=2):r===2&&u==="..."&&d?y.push(4,d,0):r===2&&u&&!d?y.push(5,0,!0,u):r>=5&&((u||!d&&r===5)&&(y.push(r,0,u,l),r=6),d&&(y.push(r,d,0,l),r=6)),u=""},v=0;v<o.length;v++){v&&(r===1&&c(),c(v));for(var n=0;n<o[v].length;n++)i=o[v][n],r===1?i==="<"?(c(),y=[y],r=3):u+=i:r===4?u==="--"&&i===">"?(r=1,u=""):u=i+u[0]:g?i===g?g="":u+=i:i==='"'||i==="'"?g=i:i===">"?(c(),r=1):r&&(i==="="?(r=5,l=u,u=""):i==="/"&&(r<5||o[v][n+1]===">")?(c(),r===3&&(y=y[0]),r=y,(y=y[0]).push(2,0,r),r=0):i===" "||i==="	"||i===`
`||i==="\r"?(c(),r=2):u+=i),r===3&&u==="!--"&&(r=4,y=y[0])}return c(),y}(t)),a),arguments,[])).length>1?a:a[0]}var Te=Ze(De());var yt=[{name:"Genesis",startFile:1,chapters:50},{name:"Exodus",startFile:51,chapters:40},{name:"Leviticus",startFile:91,chapters:27},{name:"Numbers",startFile:118,chapters:36},{name:"Deuteronomy",startFile:154,chapters:34},{name:"Joshua",startFile:188,chapters:24},{name:"Judges",startFile:212,chapters:21},{name:"Ruth",startFile:233,chapters:4},{name:"1 Samuel",startFile:237,chapters:31},{name:"2 Samuel",startFile:268,chapters:24},{name:"1 Kings",startFile:292,chapters:22},{name:"2 Kings",startFile:314,chapters:25},{name:"1 Chronicles",startFile:339,chapters:29},{name:"2 Chronicles",startFile:368,chapters:36},{name:"Ezra",startFile:404,chapters:10},{name:"Nehemiah",startFile:414,chapters:13},{name:"Esther",startFile:427,chapters:10},{name:"Job",startFile:437,chapters:42},{name:"Psalms",startFile:479,chapters:150},{name:"Proverbs",startFile:629,chapters:31},{name:"Ecclesiastes",startFile:660,chapters:12},{name:"Songs",startFile:672,chapters:8},{name:"Isaiah",startFile:680,chapters:66},{name:"Jeremiah",startFile:746,chapters:52},{name:"Lamentations",startFile:798,chapters:5},{name:"Ezekiel",startFile:803,chapters:48},{name:"Daniel",startFile:851,chapters:12},{name:"Hosea",startFile:863,chapters:14},{name:"Joel",startFile:877,chapters:3},{name:"Amos",startFile:880,chapters:9},{name:"Obadiah",startFile:889,chapters:1},{name:"Jonah",startFile:890,chapters:4},{name:"Micah",startFile:894,chapters:7},{name:"Nahum",startFile:901,chapters:3},{name:"Habakkuk",startFile:904,chapters:3},{name:"Zephaniah",startFile:907,chapters:3},{name:"Haggai",startFile:910,chapters:2},{name:"Zechariah",startFile:912,chapters:14},{name:"Malachi",startFile:926,chapters:4},{name:"Matthew",startFile:930,chapters:28},{name:"Mark",startFile:958,chapters:16},{name:"Luke",startFile:974,chapters:24},{name:"John",startFile:998,chapters:21},{name:"Acts",startFile:1019,chapters:28},{name:"Romans",startFile:1047,chapters:16},{name:"1 Corinthians",startFile:1063,chapters:16},{name:"2 Corinthians",startFile:1079,chapters:13},{name:"Galatians",startFile:1092,chapters:6},{name:"Ephesians",startFile:1098,chapters:6},{name:"Philippians",startFile:1104,chapters:4},{name:"Colossians",startFile:1108,chapters:4},{name:"1 Thessalonians",startFile:1112,chapters:5},{name:"2 Thessalonians",startFile:1117,chapters:3},{name:"1 Timothy",startFile:1120,chapters:6},{name:"2 Timothy",startFile:1126,chapters:4},{name:"Titus",startFile:1130,chapters:3},{name:"Philemon",startFile:1133,chapters:1},{name:"Hebrews",startFile:1134,chapters:13},{name:"James",startFile:1147,chapters:5},{name:"1 Peter",startFile:1152,chapters:5},{name:"2 Peter",startFile:1157,chapters:3},{name:"1 John",startFile:1160,chapters:5},{name:"2 John",startFile:1165,chapters:1},{name:"3 John",startFile:1166,chapters:1},{name:"Jude",startFile:1167,chapters:1},{name:"Revelation",startFile:1168,chapters:22}];var pt=Fe.bind(Zt),rr=()=>{let[t,a]=dt("all"),[o,i]=dt(yt.map(x=>x.name)),[l,r]=dt(3),[u,g]=dt(1),[y,c]=dt(1),[v,n]=dt(1),[d,h]=dt(!1),[_,f]=dt(!1),[b,w]=dt("mixed"),[S,z]=dt(!1),[B,T]=dt(!0),[L,D]=dt(new Date().toISOString().split("T")[0]),[M,J]=dt([1,2,3,4,5,6,0]),[k,F]=dt(""),[s,N]=dt(!1),X=x=>{i(K=>K.includes(x)?K.filter(Z=>Z!==x):[...K,x])},$=x=>{a("custom"),x==="gospels"?i(["Matthew","Mark","Luke","John"]):x==="pentateuch"?i(["Genesis","Exodus","Leviticus","Numbers","Deuteronomy"]):x==="paul"?i(["Romans","1 Corinthians","2 Corinthians","Galatians","Ephesians","Philippians","Colossians","1 Thessalonians","2 Thessalonians","1 Timothy","2 Timothy","Titus","Philemon"]):x==="wisdom"&&i(["Job","Psalms","Proverbs","Ecclesiastes","Song of Solomon"])},Q=x=>{J(K=>K.includes(x)?K.filter(Z=>Z!==x):[...K,x].sort())},U=Ee(()=>{let x=t==="all"?yt:yt.filter(O=>o.includes(O.name));if(x.length===0)return[];let K=x.filter(O=>yt.indexOf(O)<39),Z=x.filter(O=>yt.indexOf(O)>=39),W=[],rt=[],it=[];K.forEach(O=>{for(let E=1;E<=O.chapters;E++){let j={book:O.name,chapter:E,file:O.startFile+E-1};O.name==="Psalms"&&d?rt.push(j):O.name==="Proverbs"&&_?it.push(j):W.push(j)}});let q=[];Z.forEach(O=>{for(let E=1;E<=O.chapters;E++)q.push({book:O.name,chapter:E,file:O.startFile+E-1})});let tt=[],st=new Date(L),et=0,ut=0,lt=0,e=0,P=W.length>0&&l>0?Math.ceil(W.length/l):0,A=q.length>0&&u>0?Math.ceil(q.length/u):0,m=rt.length>0&&y>0?Math.ceil(rt.length/y):0,p=it.length>0&&v>0?Math.ceil(it.length/v):0,C=b==="mixed"?Math.max(P,A,m,p):P+A+m+p,R=0;for(;R<C;){if(!B||M.includes(st.getDay())){let O=[];if(b==="mixed"){for(let E=0;E<l;E++)et<W.length?O.push(W[et++]):S&&W.length>0&&(O.push(W[et%W.length]),et++);for(let E=0;E<y;E++)lt<rt.length?O.push(rt[lt++]):S&&rt.length>0&&(O.push(rt[lt%rt.length]),lt++);for(let E=0;E<v;E++)e<it.length?O.push(it[e++]):S&&it.length>0&&(O.push(it[e%it.length]),e++);for(let E=0;E<u;E++)ut<q.length?O.push(q[ut++]):S&&q.length>0&&(O.push(q[ut%q.length]),ut++)}else{let E=l+u+y+v;for(let j=0;j<E;j++)et<W.length?O.push(W[et++]):lt<rt.length?O.push(rt[lt++]):e<it.length?O.push(it[e++]):ut<q.length&&O.push(q[ut++])}O.length>0&&tt.push({date:B?new Date(st):null,chapters:O}),R++}if(B&&st.setDate(st.getDate()+1),tt.length>5e3)break}return tt},[t,o,l,u,y,v,d,_,b,B,L,M,S]),V=async()=>{N(!0),F("Starting EPUB generation...");try{let x=new Te.default;x.file("mimetype","application/epub+zip",{compression:"STORE"}),x.folder("META-INF").file("container.xml",`<?xml version="1.0"?>
<container version="1.0" xmlns="urn:oasis:names:tc:opendocument:xmlns:container">
  <rootfiles>
    <rootfile full-path="OEBPS/content.opf" media-type="application/oebps-package+xml"/>
  </rootfiles>
</container>`);let Z=x.folder("OEBPS"),W=Z.folder("Text"),rt=await fetch("bsb_unzipped/stylesheet.css").then(m=>m.text()),it=await fetch("bsb_unzipped/page_styles.css").then(m=>m.text());Z.file("Styles/stylesheet.css",rt),Z.file("Styles/page_styles.css",it);let q=['<item id="ncx" href="toc.ncx" media-type="application/x-dtbncx+xml"/>','<item id="style" href="Styles/stylesheet.css" media-type="text/css"/>','<item id="page-style" href="Styles/page_styles.css" media-type="text/css"/>'],tt=[],st=[],et=[...new Set(U.flatMap(m=>m.chapters.map(p=>p.file)))],ut=new Map,lt=100;for(let m=0;m<et.length;m+=lt){let p=et.slice(m,m+lt);F(`Pre-fetching chapters ${m+1} to ${Math.min(m+lt,et.length)} of ${et.length}...`),await Promise.all(p.map(async C=>{let R=await I(C);ut.set(C,R)}))}for(let m=0;m<U.length;m++){let p=U[m],C=p.date?p.date.toLocaleDateString():"",R=p.date?`Day ${m+1} - ${C}`:`Day ${m+1}`,O=`day_${m+1}.xhtml`;F(`Assembling Day ${m+1} of ${U.length}...`);let E=`<h1>${R}</h1>`;E+=`<div class="day-summary" style="page-break-after: always; border-bottom: 2px solid #eee; margin-bottom: 2rem; padding-bottom: 2rem;">
                    <h2>Today's Readings</h2>
                    <ul style="list-style-type: none; padding: 0; font-size: 1.2em;">
                        ${p.chapters.map(G=>`<li style="margin-bottom: 0.5rem;"><strong>${G.book} ${G.chapter}</strong></li>`).join("")}
                    </ul>
                </div>`;for(let G of p.chapters){let H=ut.get(G.file);E+=`<div class="chapter-container">
                        <h2>${G.book} ${G.chapter}</h2>
                        ${H}
                    </div>`}let j=`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>${R}</title>
<link rel="stylesheet" href="../Styles/stylesheet.css" type="text/css"/>
<link rel="stylesheet" href="../Styles/page_styles.css" type="text/css"/>
</head>
<body>
${E}
</body>
</html>`;W.file(O,j),q.push(`<item id="day_${m+1}" href="Text/${O}" media-type="application/xhtml+xml"/>`),tt.push(`<itemref idref="day_${m+1}"/>`),st.push(`<navPoint id="nav_${m+1}" playOrder="${m+1}">
                    <navLabel><text>${R}</text></navLabel>
                    <content src="Text/${O}"/>
                </navPoint>`)}Z.file("content.opf",`<?xml version="1.0" encoding="utf-8"?>
<package xmlns="http://www.idpf.org/2007/opf" unique-identifier="uuid_id" version="2.0">
  <metadata xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:opf="http://www.idpf.org/2007/opf">
    <dc:title>Bible Reading Plan</dc:title>
    <dc:language>en</dc:language>
    <dc:identifier id="uuid_id" opf:scheme="uuid">bible-plan-${Date.now()}</dc:identifier>
  </metadata>
  <manifest>
    ${q.join(`
    `)}
  </manifest>
  <spine toc="ncx">
    ${tt.join(`
    `)}
  </spine>
</package>`),Z.file("toc.ncx",`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE ncx PUBLIC "-//NISO//DTD ncx 2005-1//EN" "http://www.daisy.org/z3986/2005/ncx-2005-1.dtd">
<ncx xmlns="http://www.daisy.org/2005/ncx/" version="2005-1">
  <head>
    <meta name="dtb:uid" content="bible-plan-${Date.now()}"/>
    <meta name="dtb:depth" content="1"/>
  </head>
  <docTitle><text>Bible Reading Plan</text></docTitle>
  <navMap>
    ${st.join(`
    `)}
  </navMap>
</ncx>`);let e=await x.generateAsync({type:"blob"}),P=URL.createObjectURL(e),A=document.createElement("a");A.href=P,A.download="bible_reading_plan.epub",A.click(),F("EPUB generated successfully!")}catch(x){console.error(x),F("Error generating EPUB: "+x.message)}finally{N(!1)}},I=async x=>{let K=`bsb_unzipped/bsb - final - 7-18-21/OEBPS/Text/${x}.htm`,W=await(await fetch(K)).text(),it=new DOMParser().parseFromString(W,"text/html");["#topheading",".bsbheading",".cross",".nav","h1"].forEach(et=>{it.querySelectorAll(et).forEach(lt=>lt.remove())});let tt=new XMLSerializer,st="";for(let et of it.body.childNodes)st+=tt.serializeToString(et);return st};return pt`
        <div>
            <section>
                <h2>Reading Selection</h2>
                <div class="grid">
                    <label>
                        <input type="radio" name="selectionMode" value="all" checked=${t==="all"} onChange=${()=>a("all")} />
                        All Bible
                    </label>
                    <label>
                        <input type="radio" name="selectionMode" value="custom" checked=${t==="custom"} onChange=${()=>a("custom")} />
                        Custom Selection
                    </label>
                </div>

                ${t==="custom"&&pt`
                    <div>
                        <div class="grid">
                            <button type="button" onClick=${()=>$("gospels")}>Gospels</button>
                            <button type="button" onClick=${()=>$("pentateuch")}>Pentateuch</button>
                            <button type="button" onClick=${()=>$("paul")}>Paul's Letters</button>
                            <button type="button" onClick=${()=>$("wisdom")}>Wisdom Books</button>
                        </div>
                        <div class="book-selection">
                            ${yt.map(x=>pt`
                                <label class="book-item">
                                    <input type="checkbox" checked=${o.includes(x.name)} onChange=${()=>X(x.name)} />
                                    ${x.name}
                                </label>
                            `)}
                        </div>
                    </div>
                `}

                <div class="grid">
                    <label>OT Chapters per day:
                        <input type="number" value=${l} onInput=${x=>r(parseInt(x.target.value)||0)} min="0" />
                    </label>
                    <label>NT Chapters per day:
                        <input type="number" value=${u} onInput=${x=>g(parseInt(x.target.value)||0)} min="0" />
                    </label>
                    ${d&&pt`
                        <label>Psalms per day:
                            <input type="number" value=${y} onInput=${x=>c(parseInt(x.target.value)||0)} min="1" />
                        </label>
                    `}
                    ${_&&pt`
                        <label>Proverbs per day:
                            <input type="number" value=${v} onInput=${x=>n(parseInt(x.target.value)||0)} min="1" />
                        </label>
                    `}
                </div>

                <div style="margin-top: 1rem; display: flex; gap: 1rem;">
                    <button type="button" class="${d?"":"outline"}" onClick=${()=>h(!d)}>
                        ${d?"\u2713 Psalms Split Out":"Split out Psalms"}
                    </button>
                    <button type="button" class="${_?"":"outline"}" onClick=${()=>f(!_)}>
                        ${_?"\u2713 Proverbs Split Out":"Split out Proverbs"}
                    </button>
                </div>
            </section>

            <section>
                <h2>Plan Style</h2>
                <div class="grid" style="align-items: end;">
                    <label>Order:
                        <select value=${b} onChange=${x=>w(x.target.value)}>
                            <option value="mixed">Mixed (OT and NT together)</option>
                            <option value="sequential">Sequential (OT then NT)</option>
                        </select>
                    </label>
                    <div style="margin-bottom: var(--spacing);">
                        <label>
                            <input type="checkbox" checked=${B} onChange=${x=>T(x.target.checked)} />
                            Use Dates
                        </label>
                    </div>
                </div>

                ${b==="mixed"&&pt`
                    <div style="margin-bottom: var(--spacing); padding: 1rem; border: 1px solid var(--muted-border-color); border-radius: var(--border-radius);">
                        <label style="margin-bottom: 0.5rem;">
                            <input type="checkbox" checked=${S} onChange=${x=>z(x.target.checked)} />
                            Repeat shorter section to keep daily mix
                        </label>
                        <small style="display: block; margin-left: 2rem; color: var(--muted-color); line-height: 1.4;">
                            If one part of the Bible (like the New Testament) is finished before the other,
                            it will start over from the beginning so you always have both OT and NT readings every day.
                        </small>
                    </div>
                `}

                ${B&&pt`
                    <div class="grid">
                        <label>Start Date:
                            <input type="date" value=${L} onChange=${x=>D(x.target.value)} />
                        </label>
                        <div>
                            <label>Reading Days:</label>
                            <div class="day-selection">
                                ${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((x,K)=>pt`
                                    <label class="day-item">
                                        <input type="checkbox" checked=${M.includes(K)} onChange=${()=>Q(K)} />
                                        ${x}
                                    </label>
                                `)}
                            </div>
                        </div>
                    </div>
                `}
            </section>

            <section>
                <h2>Plan Preview</h2>
                <p>${U.length} days total</p>
                <div style="max-height: 400px; overflow-y: auto; border: 1px solid var(--muted-border-color); padding: 1rem; margin-bottom: 1rem; border-radius: var(--border-radius);">
                    ${U.slice(0,5).map((x,K)=>pt`
                        <div class="preview-item">
                            <span class="preview-date">${x.date?x.date.toLocaleDateString():`Day ${K+1}`}</span>
                            <span>${x.chapters.map(Z=>`${Z.book} ${Z.chapter}`).join(", ")}</span>
                        </div>
                    `)}

                    ${U.length>10?pt`
                        <div style="text-align: center; padding: 1rem; color: var(--muted-color); border-bottom: 1px solid var(--muted-border-color);">
                            ... ${U.length-10} days omitted ...
                        </div>
                        ${U.slice(-5).map((x,K)=>pt`
                            <div class="preview-item">
                                <span class="preview-date">${x.date?x.date.toLocaleDateString():`Day ${U.length-4+K}`}</span>
                                <span>${x.chapters.map(Z=>`${Z.book} ${Z.chapter}`).join(", ")}</span>
                            </div>
                        `)}
                    `:U.slice(5).map((x,K)=>pt`
                        <div class="preview-item">
                            <span class="preview-date">${x.date?x.date.toLocaleDateString():`Day ${6+K}`}</span>
                            <span>${x.chapters.map(Z=>`${Z.book} ${Z.chapter}`).join(", ")}</span>
                        </div>
                    `)}
                </div>
                <button onClick=${V} disabled=${s||U.length===0}>
                    ${s?"Generating...":"Download EPUB"}
                </button>
                ${k&&pt`<p><small>${k}</small></p>`}
            </section>
        </div>
    `};_e(pt`<${rr} />`,document.getElementById("app"));})();
/*! Bundled license information:

jszip/dist/jszip.min.js:
  (*!
  
  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  *)
*/
